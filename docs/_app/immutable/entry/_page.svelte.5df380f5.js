import{S as we,i as xe,s as Me,y as Gt,h as Z,n as pt,f as z,v as pa,K as Sm,L as ko,M as Al,e as G,c as H,b as X,N as Nl,O as N0,P as Em,Q as $m,R as Cl,T as Tm,t as yt,a as ut,d as _t,g as lt,x as U,j as L,U as ve,q as ct,C as Oe,z as Le,r as dt,V as dr,A as Am,w as An,W as Nm,F as re,G as ie,H as oe,k as ye,I as ae,X as Cm,Y as Il,Z as Im,l as Rm,D as Pm,_ as Dm,$ as zm}from"../chunks/index.52abe46f.js";import{r as Om}from"../chunks/index.2ffb9958.js";function Lm(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Fm(t,e){return fetch(t,e).then(Lm)}function Um(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Bm(t,e){return fetch(t,e).then(Um)}var Rl={},ls={},fs=34,Dr=10,hs=13;function C0(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function qm(t,e){var n=C0(t);return function(r,i){return e(n(r),i,t)}}function Pl(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function ce(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ym(t){return t<0?"-"+ce(-t,6):t>9999?"+"+ce(t,6):ce(t,4)}function Gm(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Ym(t.getUTCFullYear())+"-"+ce(t.getUTCMonth()+1,2)+"-"+ce(t.getUTCDate(),2)+(i?"T"+ce(e,2)+":"+ce(n,2)+":"+ce(r,2)+"."+ce(i,3)+"Z":r?"T"+ce(e,2)+":"+ce(n,2)+":"+ce(r,2)+"Z":n||e?"T"+ce(e,2)+":"+ce(n,2)+"Z":"")}function ma(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,f){var d,g,p=i(h,function(m,y){if(d)return d(m,y-1);g=m,d=f?qm(m,f):C0(m)});return p.columns=g||[],p}function i(h,f){var d=[],g=h.length,p=0,m=0,y,_=g<=0,v=!1;h.charCodeAt(g-1)===Dr&&--g,h.charCodeAt(g-1)===hs&&--g;function b(){if(_)return ls;if(v)return v=!1,Rl;var x,E=p,$;if(h.charCodeAt(E)===fs){for(;p++<g&&h.charCodeAt(p)!==fs||h.charCodeAt(++p)===fs;);return(x=p)>=g?_=!0:($=h.charCodeAt(p++))===Dr?v=!0:$===hs&&(v=!0,h.charCodeAt(p)===Dr&&++p),h.slice(E+1,x-1).replace(/""/g,'"')}for(;p<g;){if(($=h.charCodeAt(x=p++))===Dr)v=!0;else if($===hs)v=!0,h.charCodeAt(p)===Dr&&++p;else if($!==n)continue;return h.slice(E,x)}return _=!0,h.slice(E,g)}for(;(y=b())!==ls;){for(var w=[];y!==Rl&&y!==ls;)w.push(y),y=b();f&&(w=f(w,m++))==null||d.push(w)}return d}function o(h,f){return h.map(function(d){return f.map(function(g){return l(d[g])}).join(t)})}function a(h,f){return f==null&&(f=Pl(h)),[f.map(l).join(t)].concat(o(h,f)).join(`
`)}function s(h,f){return f==null&&(f=Pl(h)),o(h,f).join(`
`)}function c(h){return h.map(u).join(`
`)}function u(h){return h.map(l).join(t)}function l(h){return h==null?"":h instanceof Date?Gm(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:c,formatRow:u,formatValue:l}}var qn=ma(","),I0=qn.parse,Hm=qn.parseRows,Vm=qn.format,jm=qn.formatBody,Wm=qn.formatRows,Xm=qn.formatRow,Km=qn.formatValue,Yn=ma("	"),R0=Yn.parse,Zm=Yn.parseRows,Qm=Yn.format,Jm=Yn.formatBody,t2=Yn.formatRows,e2=Yn.formatRow,n2=Yn.formatValue;function r2(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))i2&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const i2=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function o2(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ya(t,e){return fetch(t,e).then(o2)}function P0(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),ya(e,n).then(function(i){return t(i,r)})}}function a2(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=ma(t);return ya(e,n).then(function(o){return i.parse(o,r)})}var tu=P0(I0),s2=P0(R0);function c2(t,e){return new Promise(function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function u2(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function l2(t,e){return fetch(t,e).then(u2)}function eu(t){return(e,n)=>ya(e,n).then(r=>new DOMParser().parseFromString(r,t))}const f2=eu("application/xml");var h2=eu("text/html"),d2=eu("image/svg+xml");const ni=/^[a-z0-9]+(-[a-z0-9]+)*$/,_a=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const s=i.pop(),c=i.pop(),u={provider:i.length>0?i[0]:r,prefix:c,name:s};return e&&!uo(u)?null:u}const o=i[0],a=o.split("-");if(a.length>1){const s={provider:r,prefix:a.shift(),name:a.join("-")};return e&&!uo(s)?null:s}if(n&&r===""){const s={provider:r,prefix:"",name:o};return e&&!uo(s,n)?null:s}return null},uo=(t,e)=>t?!!((t.provider===""||t.provider.match(ni))&&(e&&t.prefix===""||t.prefix.match(ni))&&t.name.match(ni)):!1,D0=Object.freeze({left:0,top:0,width:16,height:16}),So=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ba=Object.freeze({...D0,...So}),Ks=Object.freeze({...ba,body:"",hidden:!1});function g2(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function Dl(t,e){const n=g2(t,e);for(const r in Ks)r in So?r in t&&!(r in n)&&(n[r]=So[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function p2(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function o(a){if(n[a])return i[a]=[];if(!(a in i)){i[a]=null;const s=r[a]&&r[a].parent,c=s&&o(s);c&&(i[a]=[s].concat(c))}return i[a]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(o),i}function m2(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let o={};function a(s){o=Dl(r[s]||i[s],o)}return a(e),n.forEach(a),Dl(t,o)}function z0(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const r=p2(t);for(const i in r){const o=r[i];o&&(e(i,m2(t,i,o)),n.push(i))}return n}const y2={provider:"",aliases:{},not_found:{},...D0};function ds(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function O0(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!ds(t,y2))return null;const n=e.icons;for(const i in n){const o=n[i];if(!i.match(ni)||typeof o.body!="string"||!ds(o,Ks))return null}const r=e.aliases||Object.create(null);for(const i in r){const o=r[i],a=o.parent;if(!i.match(ni)||typeof a!="string"||!n[a]&&!r[a]||!ds(o,Ks))return null}return e}const zl=Object.create(null);function _2(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Nn(t,e){const n=zl[t]||(zl[t]=Object.create(null));return n[e]||(n[e]=_2(t,e))}function nu(t,e){return O0(e)?z0(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function b2(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let ui=!1;function L0(t){return typeof t=="boolean"&&(ui=t),ui}function v2(t){const e=typeof t=="string"?_a(t,!0,ui):t;if(e){const n=Nn(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function w2(t,e){const n=_a(t,!0,ui);if(!n)return!1;const r=Nn(n.provider,n.prefix);return b2(r,n.name,e)}function x2(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),ui&&!e&&!t.prefix){let i=!1;return O0(t)&&(t.prefix="",z0(t,(o,a)=>{a&&w2(o,a)&&(i=!0)})),i}const n=t.prefix;if(!uo({provider:e,prefix:n,name:"a"}))return!1;const r=Nn(e,n);return!!nu(r,t)}const F0=Object.freeze({width:null,height:null}),U0=Object.freeze({...F0,...So}),M2=/(-?[0-9.]*[0-9]+[0-9.]*)/g,k2=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Ol(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(M2);if(r===null||!r.length)return t;const i=[];let o=r.shift(),a=k2.test(o);for(;;){if(a){const s=parseFloat(o);isNaN(s)?i.push(o):i.push(Math.ceil(s*e*n)/n)}else i.push(o);if(o=r.shift(),o===void 0)return i.join("");a=!a}}const S2=t=>t==="unset"||t==="undefined"||t==="none";function E2(t,e){const n={...ba,...t},r={...U0,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(g=>{const p=[],m=g.hFlip,y=g.vFlip;let _=g.rotate;m?y?_+=2:(p.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),p.push("scale(-1 1)"),i.top=i.left=0):y&&(p.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),p.push("scale(1 -1)"),i.top=i.left=0);let v;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:v=i.height/2+i.top,p.unshift("rotate(90 "+v.toString()+" "+v.toString()+")");break;case 2:p.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:v=i.width/2+i.left,p.unshift("rotate(-90 "+v.toString()+" "+v.toString()+")");break}_%2===1&&(i.left!==i.top&&(v=i.left,i.left=i.top,i.top=v),i.width!==i.height&&(v=i.width,i.width=i.height,i.height=v)),p.length&&(o='<g transform="'+p.join(" ")+'">'+o+"</g>")});const a=r.width,s=r.height,c=i.width,u=i.height;let l,h;a===null?(h=s===null?"1em":s==="auto"?u:s,l=Ol(h,c/u)):(l=a==="auto"?c:a,h=s===null?Ol(l,u/c):s==="auto"?u:s);const f={},d=(g,p)=>{S2(p)||(f[g]=p.toString())};return d("width",l),d("height",h),f.viewBox=i.left.toString()+" "+i.top.toString()+" "+c.toString()+" "+u.toString(),{attributes:f,body:o}}const $2=/\sid="(\S+)"/g,T2="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let A2=0;function N2(t,e=T2){const n=[];let r;for(;r=$2.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(o=>{const a=typeof e=="function"?e(o):e+(A2++).toString(),s=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const Zs=Object.create(null);function C2(t,e){Zs[t]=e}function Qs(t){return Zs[t]||Zs[""]}function ru(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const iu=Object.create(null),zr=["https://api.simplesvg.com","https://api.unisvg.com"],lo=[];for(;zr.length>0;)zr.length===1||Math.random()>.5?lo.push(zr.shift()):lo.push(zr.pop());iu[""]=ru({resources:["https://api.iconify.design"].concat(lo)});function I2(t,e){const n=ru(e);return n===null?!1:(iu[t]=n,!0)}function ou(t){return iu[t]}const R2=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Ll=R2();function P2(t,e){const n=ou(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(a=>{i=Math.max(i,a.length)});const o=e+".json?icons=";r=n.maxURL-i-n.path.length-o.length}return r}function D2(t){return t===404}const z2=(t,e,n)=>{const r=[],i=P2(t,e),o="icons";let a={type:o,provider:t,prefix:e,icons:[]},s=0;return n.forEach((c,u)=>{s+=c.length+1,s>=i&&u>0&&(r.push(a),a={type:o,provider:t,prefix:e,icons:[]},s=c.length),a.icons.push(c)}),r.push(a),r};function O2(t){if(typeof t=="string"){const e=ou(t);if(e)return e.path}return"/"}const L2=(t,e,n)=>{if(!Ll){n("abort",424);return}let r=O2(e.provider);switch(e.type){case"icons":{const o=e.prefix,s=e.icons.join(","),c=new URLSearchParams({icons:s});r+=o+".json?"+c.toString();break}case"custom":{const o=e.uri;r+=o.slice(0,1)==="/"?o.slice(1):o;break}default:n("abort",400);return}let i=503;Ll(t+r).then(o=>{const a=o.status;if(a!==200){setTimeout(()=>{n(D2(a)?"abort":"next",a)});return}return i=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?n("abort",o):n("next",i)});return}setTimeout(()=>{n("success",o)})}).catch(()=>{n("next",i)})},F2={prepare:z2,send:L2};function U2(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,o)=>i.provider!==o.provider?i.provider.localeCompare(o.provider):i.prefix!==o.prefix?i.prefix.localeCompare(o.prefix):i.name.localeCompare(o.name));let r={provider:"",prefix:"",name:""};return t.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const o=i.provider,a=i.prefix,s=i.name,c=n[o]||(n[o]=Object.create(null)),u=c[a]||(c[a]=Nn(o,a));let l;s in u.icons?l=e.loaded:a===""||u.missing.has(s)?l=e.missing:l=e.pending;const h={provider:o,prefix:a,name:s};l.push(h)}),e}function B0(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==e))})}function B2(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(o=>{const a=o.icons,s=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==i)return!0;const u=c.name;if(t.icons[u])a.loaded.push({provider:r,prefix:i,name:u});else if(t.missing.has(u))a.missing.push({provider:r,prefix:i,name:u});else return n=!0,!0;return!1}),a.pending.length!==s&&(n||B0([t],o.id),o.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),o.abort))})}))}let q2=0;function Y2(t,e,n){const r=q2++,i=B0.bind(null,n,r);if(!e.pending.length)return i;const o={id:r,icons:e,callback:t,abort:i};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(o)}),i}function G2(t,e=!0,n=!1){const r=[];return t.forEach(i=>{const o=typeof i=="string"?_a(i,e,n):i;o&&r.push(o)}),r}var H2={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function V2(t,e,n,r){const i=t.resources.length,o=t.random?Math.floor(Math.random()*i):t.index;let a;if(t.random){let x=t.resources.slice(0);for(a=[];x.length>1;){const E=Math.floor(Math.random()*x.length);a.push(x[E]),x=x.slice(0,E).concat(x.slice(E+1))}a=a.concat(x)}else a=t.resources.slice(o).concat(t.resources.slice(0,o));const s=Date.now();let c="pending",u=0,l,h=null,f=[],d=[];typeof r=="function"&&d.push(r);function g(){h&&(clearTimeout(h),h=null)}function p(){c==="pending"&&(c="aborted"),g(),f.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),f=[]}function m(x,E){E&&(d=[]),typeof x=="function"&&d.push(x)}function y(){return{startTime:s,payload:e,status:c,queriesSent:u,queriesPending:f.length,subscribe:m,abort:p}}function _(){c="failed",d.forEach(x=>{x(void 0,l)})}function v(){f.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),f=[]}function b(x,E,$){const I=E!=="success";switch(f=f.filter(S=>S!==x),c){case"pending":break;case"failed":if(I||!t.dataAfterTimeout)return;break;default:return}if(E==="abort"){l=$,_();return}if(I){l=$,f.length||(a.length?w():_());return}if(g(),v(),!t.random){const S=t.resources.indexOf(x.resource);S!==-1&&S!==t.index&&(t.index=S)}c="completed",d.forEach(S=>{S($)})}function w(){if(c!=="pending")return;g();const x=a.shift();if(x===void 0){if(f.length){h=setTimeout(()=>{g(),c==="pending"&&(v(),_())},t.timeout);return}_();return}const E={status:"pending",resource:x,callback:($,I)=>{b(E,$,I)}};f.push(E),u++,h=setTimeout(w,t.rotate),n(x,e,E.callback)}return setTimeout(w),y}function q0(t){const e={...H2,...t};let n=[];function r(){n=n.filter(s=>s().status==="pending")}function i(s,c,u){const l=V2(e,s,c,(h,f)=>{r(),u&&u(h,f)});return n.push(l),l}function o(s){return n.find(c=>s(c))||null}return{query:i,find:o,setIndex:s=>{e.index=s},getIndex:()=>e.index,cleanup:r}}function Fl(){}const gs=Object.create(null);function j2(t){if(!gs[t]){const e=ou(t);if(!e)return;const n=q0(e),r={config:e,redundancy:n};gs[t]=r}return gs[t]}function W2(t,e,n){let r,i;if(typeof t=="string"){const o=Qs(t);if(!o)return n(void 0,424),Fl;i=o.send;const a=j2(t);a&&(r=a.redundancy)}else{const o=ru(t);if(o){r=q0(o);const a=t.resources?t.resources[0]:"",s=Qs(a);s&&(i=s.send)}}return!r||!i?(n(void 0,424),Fl):r.query(e,i,n)().abort}const Ul="iconify2",li="iconify",Y0=li+"-count",Bl=li+"-version",G0=36e5,X2=168;function Js(t,e){try{return t.getItem(e)}catch{}}function au(t,e,n){try{return t.setItem(e,n),!0}catch{}}function ql(t,e){try{t.removeItem(e)}catch{}}function tc(t,e){return au(t,Y0,e.toString())}function ec(t){return parseInt(Js(t,Y0))||0}const va={local:!0,session:!0},H0={local:new Set,session:new Set};let su=!1;function K2(t){su=t}let Bi=typeof window>"u"?{}:window;function V0(t){const e=t+"Storage";try{if(Bi&&Bi[e]&&typeof Bi[e].length=="number")return Bi[e]}catch{}va[t]=!1}function j0(t,e){const n=V0(t);if(!n)return;const r=Js(n,Bl);if(r!==Ul){if(r){const s=ec(n);for(let c=0;c<s;c++)ql(n,li+c.toString())}au(n,Bl,Ul),tc(n,0);return}const i=Math.floor(Date.now()/G0)-X2,o=s=>{const c=li+s.toString(),u=Js(n,c);if(typeof u=="string"){try{const l=JSON.parse(u);if(typeof l=="object"&&typeof l.cached=="number"&&l.cached>i&&typeof l.provider=="string"&&typeof l.data=="object"&&typeof l.data.prefix=="string"&&e(l,s))return!0}catch{}ql(n,c)}};let a=ec(n);for(let s=a-1;s>=0;s--)o(s)||(s===a-1?(a--,tc(n,a)):H0[t].add(s))}function W0(){if(!su){K2(!0);for(const t in va)j0(t,e=>{const n=e.data,r=e.provider,i=n.prefix,o=Nn(r,i);if(!nu(o,n).length)return!1;const a=n.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,a):a,!0})}}function Z2(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in va)j0(r,i=>{const o=i.data;return i.provider!==t.provider||o.prefix!==t.prefix||o.lastModified===e});return!0}function Q2(t,e){su||W0();function n(r){let i;if(!va[r]||!(i=V0(r)))return;const o=H0[r];let a;if(o.size)o.delete(a=Array.from(o).shift());else if(a=ec(i),!tc(i,a+1))return;const s={cached:Math.floor(Date.now()/G0),provider:t.provider,data:e};return au(i,li+a.toString(),JSON.stringify(s))}e.lastModified&&!Z2(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function Yl(){}function J2(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,B2(t)}))}function ty(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,i=t.iconsToLoad;delete t.iconsToLoad;let o;if(!i||!(o=Qs(n)))return;o.prepare(n,r,i).forEach(s=>{W2(n,s,c=>{if(typeof c!="object")s.icons.forEach(u=>{t.missing.add(u)});else try{const u=nu(t,c);if(!u.length)return;const l=t.pendingIcons;l&&u.forEach(h=>{l.delete(h)}),Q2(t,c)}catch(u){console.error(u)}J2(t)})})}))}const ey=(t,e)=>{const n=G2(t,!0,L0()),r=U2(n);if(!r.pending.length){let c=!0;return e&&setTimeout(()=>{c&&e(r.loaded,r.missing,r.pending,Yl)}),()=>{c=!1}}const i=Object.create(null),o=[];let a,s;return r.pending.forEach(c=>{const{provider:u,prefix:l}=c;if(l===s&&u===a)return;a=u,s=l,o.push(Nn(u,l));const h=i[u]||(i[u]=Object.create(null));h[l]||(h[l]=[])}),r.pending.forEach(c=>{const{provider:u,prefix:l,name:h}=c,f=Nn(u,l),d=f.pendingIcons||(f.pendingIcons=new Set);d.has(h)||(d.add(h),i[u][l].push(h))}),o.forEach(c=>{const{provider:u,prefix:l}=c;i[u][l].length&&ty(c,i[u][l])}),e?Y2(e,r,o):Yl};function ny(t,e){const n={...t};for(const r in e){const i=e[r],o=typeof i;r in F0?(i===null||i&&(o==="string"||o==="number"))&&(n[r]=i):o===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const ry=/[\s,]+/;function iy(t,e){e.split(ry).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function oy(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:r(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let o=parseFloat(t.slice(0,t.length-n.length));return isNaN(o)?0:(o=o/i,o%1===0?r(o):0)}}return e}function ay(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function sy(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function cy(t){return"data:image/svg+xml,"+sy(t)}function uy(t){return'url("'+cy(t)+'")'}const Gl={...U0,inline:!1},ly={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},fy={display:"inline-block"},nc={"background-color":"currentColor"},X0={"background-color":"transparent"},Hl={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Vl={"-webkit-mask":nc,mask:nc,background:X0};for(const t in Vl){const e=Vl[t];for(const n in Hl)e[t+"-"+n]=Hl[n]}function hy(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}function dy(t,e){const n=ny(Gl,e),r=e.mode||"svg",i=r==="svg"?{...ly}:{};t.body.indexOf("xlink:")===-1&&delete i["xmlns:xlink"];let o=typeof e.style=="string"?e.style:"";for(let y in e){const _=e[y];if(_!==void 0)switch(y){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[y]=_===!0||_==="true"||_===1;break;case"flip":typeof _=="string"&&iy(n,_);break;case"color":o=o+(o.length>0&&o.trim().slice(-1)!==";"?";":"")+"color: "+_+"; ";break;case"rotate":typeof _=="string"?n[y]=oy(_):typeof _=="number"&&(n[y]=_);break;case"ariaHidden":case"aria-hidden":_!==!0&&_!=="true"&&delete i["aria-hidden"];break;default:if(y.slice(0,3)==="on:")break;Gl[y]===void 0&&(i[y]=_)}}const a=E2(t,n),s=a.attributes;if(n.inline&&(o="vertical-align: -0.125em; "+o),r==="svg"){Object.assign(i,s),o!==""&&(i.style=o);let y=0,_=e.id;return typeof _=="string"&&(_=_.replace(/-/g,"_")),{svg:!0,attributes:i,body:N2(a.body,_?()=>_+"ID"+y++:"iconifySvelte")}}const{body:c,width:u,height:l}=t,h=r==="mask"||(r==="bg"?!1:c.indexOf("currentColor")!==-1),f=ay(c,{...s,width:u+"",height:l+""}),g={"--svg":uy(f)},p=y=>{const _=s[y];_&&(g[y]=hy(_))};p("width"),p("height"),Object.assign(g,fy,h?nc:X0);let m="";for(const y in g)m+=y+": "+g[y]+";";return i.style=m+o,{svg:!1,attributes:i}}L0(!0);C2("",F2);if(typeof document<"u"&&typeof window<"u"){W0();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!x2(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;I2(n,i)||console.error(r)}catch{console.error(r)}}}}function gy(t,e,n,r,i){function o(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof t=="object"&&t!==null&&typeof t.body=="string")return e.name="",o(),{data:{...ba,...t}};let a;if(typeof t!="string"||(a=_a(t,!1,!0))===null)return o(),null;const s=v2(a);if(!s)return n&&(!e.loading||e.loading.name!==t)&&(o(),e.name="",e.loading={name:t,abort:ey([a],r)}),null;o(),e.name!==t&&(e.name=t,i&&!e.destroyed&&i(t));const c=["iconify"];return a.prefix!==""&&c.push("iconify--"+a.prefix),a.provider!==""&&c.push("iconify--"+a.provider),{data:s,classes:c}}function py(t,e){return t?dy({...ba,...t},e):null}function jl(t){let e;function n(o,a){return o[0].svg?yy:my}let r=n(t),i=r(t);return{c(){i.c(),e=Gt()},l(o){i.l(o),e=Gt()},m(o,a){i.m(o,a),Z(o,e,a)},p(o,a){r===(r=n(o))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&z(e)}}}function my(t){let e,n=[t[0].attributes],r={};for(let i=0;i<n.length;i+=1)r=ko(r,n[i]);return{c(){e=G("span"),this.h()},l(i){e=H(i,"SPAN",{}),X(e).forEach(z),this.h()},h(){Nl(e,r)},m(i,o){Z(i,e,o)},p(i,o){Nl(e,r=N0(n,[o&1&&i[0].attributes]))},d(i){i&&z(e)}}}function yy(t){let e,n=t[0].body+"",r=[t[0].attributes],i={};for(let o=0;o<r.length;o+=1)i=ko(i,r[o]);return{c(){e=Em("svg"),this.h()},l(o){e=$m(o,"svg",{});var a=X(e);a.forEach(z),this.h()},h(){Cl(e,i)},m(o,a){Z(o,e,a),e.innerHTML=n},p(o,a){a&1&&n!==(n=o[0].body+"")&&(e.innerHTML=n),Cl(e,i=N0(r,[a&1&&o[0].attributes]))},d(o){o&&z(e)}}}function _y(t){let e,n=t[0]&&jl(t);return{c(){n&&n.c(),e=Gt()},l(r){n&&n.l(r),e=Gt()},m(r,i){n&&n.m(r,i),Z(r,e,i)},p(r,[i]){r[0]?n?n.p(r,i):(n=jl(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:pt,o:pt,d(r){n&&n.d(r),r&&z(e)}}}function by(t,e,n){const r={name:"",loading:null,destroyed:!1};let i=!1,o=0,a;const s=u=>{typeof e.onLoad=="function"&&e.onLoad(u),Tm()("load",{icon:u})};function c(){n(3,o++,o)}return pa(()=>{n(2,i=!0)}),Sm(()=>{n(1,r.destroyed=!0,r),r.loading&&(r.loading.abort(),n(1,r.loading=null,r))}),t.$$set=u=>{n(6,e=ko(ko({},e),Al(u)))},t.$$.update=()=>{{const u=gy(e.icon,r,i,c,s);n(0,a=u?py(u.data,e):null),a&&u.classes&&n(0,a.attributes.class=(typeof e.class=="string"?e.class+" ":"")+u.classes.join(" "),a)}},e=Al(e),[a,r,i,o]}class wa extends we{constructor(e){super(),xe(this,e,by,_y,Me,{})}}function Wl(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function Xl(t,e,n){const r=t.slice();return r[22]=e[n][0],r[23]=e[n][1],r[24]=e,r[25]=n,r}function Kl(t,e,n){const r=t.slice();return r[26]=e[n],r}function Zl(t){let e,n,r,i;const o=[wy,vy],a=[];function s(c,u){return c[6][c[22]]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=Gt()},l(c){n.l(c),r=Gt()},m(c,u){a[e].m(c,u),Z(c,r,u),i=!0},p(c,u){let l=e;e=s(c),e===l?a[e].p(c,u):(Oe(),dt(a[l],1,1,()=>{a[l]=null}),Le(),n=a[e],n?n.p(c,u):(n=a[e]=o[e](c),n.c()),ct(n,1),n.m(r.parentNode,r))},i(c){i||(ct(n),i=!0)},o(c){dt(n),i=!1},d(c){a[e].d(c),c&&z(r)}}}function vy(t){let e,n=(t[7][t[22]]||t[22]||"").toUpperCase()+"",r,i,o,a,s,c=(t[7][t[22]]||t[22]||"").toLowerCase()+"",u,l,h,f=t[23],d=[];for(let p=0;p<f.length;p+=1)d[p]=Jl(Kl(t,f,p));function g(){t[15].call(o,t[22])}return{c(){e=G("p"),r=yt(n),i=ut(),o=G("select"),a=G("option"),s=yt("Selecionar "),u=yt(c);for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=H(p,"P",{class:!0});var m=X(e);r=_t(m,n),m.forEach(z),i=lt(p),o=H(p,"SELECT",{class:!0});var y=X(o);a=H(y,"OPTION",{});var _=X(a);s=_t(_,"Selecionar "),u=_t(_,c),_.forEach(z);for(let v=0;v<d.length;v+=1)d[v].l(y);y.forEach(z),this.h()},h(){U(e,"class","p-column svelte-o9a4oc"),a.__value="",a.value=a.__value,U(o,"class","svelte-o9a4oc"),t[5][t[22]]===void 0&&Cm(g)},m(p,m){Z(p,e,m),L(e,r),Z(p,i,m),Z(p,o,m),L(o,a),L(a,s),L(a,u);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(o,null);Il(o,t[5][t[22]],!0),l||(h=[ve(o,"change",g),ve(o,"change",t[11])],l=!0)},p(p,m){if(t=p,m&4&&n!==(n=(t[7][t[22]]||t[22]||"").toUpperCase()+"")&&ye(r,n),m&4&&c!==(c=(t[7][t[22]]||t[22]||"").toLowerCase()+"")&&ye(u,c),m&4){f=t[23];let y;for(y=0;y<f.length;y+=1){const _=Kl(t,f,y);d[y]?d[y].p(_,m):(d[y]=Jl(_),d[y].c(),d[y].m(o,null))}for(;y<d.length;y+=1)d[y].d(1);d.length=f.length}m&36&&Il(o,t[5][t[22]])},i:pt,o:pt,d(p){p&&z(e),p&&z(i),p&&z(o),dr(d,p),l=!1,Im(h)}}}function wy(t){let e,n,r=(t[7][t[22]]||t[22]||"")+"",i,o,a=t[6][t[22]]+"",s,c,u,l,h,f;u=new wa({props:{class:"close-icon",icon:"ep:close-bold"}});function d(){return t[14](t[22])}return{c(){e=G("button"),n=G("span"),i=yt(r),o=yt(": "),s=yt(a),c=ut(),re(u.$$.fragment),this.h()},l(g){e=H(g,"BUTTON",{class:!0});var p=X(e);n=H(p,"SPAN",{class:!0});var m=X(n);i=_t(m,r),o=_t(m,": "),s=_t(m,a),m.forEach(z),c=lt(p),ie(u.$$.fragment,p),p.forEach(z),this.h()},h(){U(n,"class","categoria-seleccionada"),U(e,"class","btn-categoria-seleccionada svelte-o9a4oc")},m(g,p){Z(g,e,p),L(e,n),L(n,i),L(n,o),L(n,s),L(e,c),oe(u,e,null),l=!0,h||(f=ve(e,"click",d),h=!0)},p(g,p){t=g,(!l||p&4)&&r!==(r=(t[7][t[22]]||t[22]||"")+"")&&ye(i,r),(!l||p&68)&&a!==(a=t[6][t[22]]+"")&&ye(s,a)},i(g){l||(ct(u.$$.fragment,g),l=!0)},o(g){dt(u.$$.fragment,g),l=!1},d(g){g&&z(e),ae(u),h=!1,f()}}}function Ql(t){let e,n=t[26]+"",r,i;return{c(){e=G("option"),r=yt(n),this.h()},l(o){e=H(o,"OPTION",{});var a=X(e);r=_t(a,n),a.forEach(z),this.h()},h(){e.__value=i=t[26],e.value=e.__value},m(o,a){Z(o,e,a),L(e,r)},p(o,a){a&4&&n!==(n=o[26]+"")&&ye(r,n),a&4&&i!==(i=o[26])&&(e.__value=i,e.value=e.__value)},d(o){o&&z(e)}}}function Jl(t){let e,n=t[26]!=="NA"&&Ql(t);return{c(){n&&n.c(),e=Gt()},l(r){n&&n.l(r),e=Gt()},m(r,i){n&&n.m(r,i),Z(r,e,i)},p(r,i){r[26]!=="NA"?n?n.p(r,i):(n=Ql(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&z(e)}}}function tf(t){let e,n,r=t[22]!=="n"&&t[22]!=="obras"&&t[22]!=="fecha"&&t[22]!=="alto"&&t[22]!=="ancho"&&t[22]!=="fuente"&&t[22]!=="descripcion"&&t[22]!=="id"&&t[22]!=="repositorio"&&t[22]!=="src"&&Zl(t);return{c(){r&&r.c(),e=Gt()},l(i){r&&r.l(i),e=Gt()},m(i,o){r&&r.m(i,o),Z(i,e,o),n=!0},p(i,o){i[22]!=="n"&&i[22]!=="obras"&&i[22]!=="fecha"&&i[22]!=="alto"&&i[22]!=="ancho"&&i[22]!=="fuente"&&i[22]!=="descripcion"&&i[22]!=="id"&&i[22]!=="repositorio"&&i[22]!=="src"?r?(r.p(i,o),o&4&&ct(r,1)):(r=Zl(i),r.c(),ct(r,1),r.m(e.parentNode,e)):r&&(Oe(),dt(r,1,1,()=>{r=null}),Le())},i(i){n||(ct(r),n=!0)},o(i){dt(r),n=!1},d(i){r&&r.d(i),i&&z(e)}}}function ef(t){let e,n=t[4][t[21]].obras+"",r,i,o,a=t[4][t[21]].autor+"",s,c,u,l=t[4][t[21]].fecha+"",h,f,d=t[4][t[21]].tecnica+"",g,p,m,y,_=t[4][t[21]].fuente+"",v,b,w,x,E,$,I,S,M,C,T,k,A,N;function R(O,K){return O[1]===O[21]?My:xy}let D=R(t),P=D(t);function B(){return t[17](t[21])}let q=t[1]===t[21]&&nf(t);return C=new wa({props:{icon:"mdi:archive"}}),{c(){e=G("h6"),r=yt(n),i=ut(),o=G("h6"),s=yt(a),c=ut(),u=G("p"),h=yt(l),f=yt(", "),g=yt(d),p=yt(`.\r
                `),m=G("br"),y=yt(`\r
                Fuente: `),v=yt(_),b=ut(),w=G("button"),P.c(),x=ut(),E=G("br"),$=ut(),q&&q.c(),I=ut(),S=G("button"),M=G("a"),re(C.$$.fragment),this.h()},l(O){e=H(O,"H6",{class:!0});var K=X(e);r=_t(K,n),K.forEach(z),i=lt(O),o=H(O,"H6",{class:!0});var it=X(o);s=_t(it,a),it.forEach(z),c=lt(O),u=H(O,"P",{class:!0});var rt=X(u);h=_t(rt,l),f=_t(rt,", "),g=_t(rt,d),p=_t(rt,`.\r
                `),m=H(rt,"BR",{}),y=_t(rt,`\r
                Fuente: `),v=_t(rt,_),rt.forEach(z),b=lt(O),w=H(O,"BUTTON",{class:!0});var Q=X(w);P.l(Q),x=lt(Q),Q.forEach(z),E=H(O,"BR",{}),$=lt(O),q&&q.l(O),I=lt(O),S=H(O,"BUTTON",{class:!0});var j=X(S);M=H(j,"A",{href:!0,target:!0,class:!0});var gt=X(M);ie(C.$$.fragment,gt),gt.forEach(z),j.forEach(z),this.h()},h(){U(e,"class","svelte-o9a4oc"),U(o,"class","svelte-o9a4oc"),U(u,"class","svelte-o9a4oc"),U(w,"class","svelte-o9a4oc"),U(M,"href",T=t[4][t[21]].repositorio),U(M,"target","_blank"),U(M,"class","svelte-o9a4oc"),U(S,"class","svelte-o9a4oc")},m(O,K){Z(O,e,K),L(e,r),Z(O,i,K),Z(O,o,K),L(o,s),Z(O,c,K),Z(O,u,K),L(u,h),L(u,f),L(u,g),L(u,p),L(u,m),L(u,y),L(u,v),Z(O,b,K),Z(O,w,K),P.m(w,null),L(w,x),Z(O,E,K),Z(O,$,K),q&&q.m(O,K),Z(O,I,K),Z(O,S,K),L(S,M),oe(C,M,null),k=!0,A||(N=ve(w,"click",B),A=!0)},p(O,K){t=O,(!k||K&16)&&n!==(n=t[4][t[21]].obras+"")&&ye(r,n),(!k||K&16)&&a!==(a=t[4][t[21]].autor+"")&&ye(s,a),(!k||K&16)&&l!==(l=t[4][t[21]].fecha+"")&&ye(h,l),(!k||K&16)&&d!==(d=t[4][t[21]].tecnica+"")&&ye(g,d),(!k||K&16)&&_!==(_=t[4][t[21]].fuente+"")&&ye(v,_),D!==(D=R(t))&&(P.d(1),P=D(t),P&&(P.c(),P.m(w,x))),t[1]===t[21]?q?q.p(t,K):(q=nf(t),q.c(),q.m(I.parentNode,I)):q&&(q.d(1),q=null),(!k||K&16&&T!==(T=t[4][t[21]].repositorio))&&U(M,"href",T)},i(O){k||(ct(C.$$.fragment,O),k=!0)},o(O){dt(C.$$.fragment,O),k=!1},d(O){O&&z(e),O&&z(i),O&&z(o),O&&z(c),O&&z(u),O&&z(b),O&&z(w),P.d(),O&&z(E),O&&z($),q&&q.d(O),O&&z(I),O&&z(S),ae(C),A=!1,N()}}}function xy(t){let e;return{c(){e=yt("Descripción")},l(n){e=_t(n,"Descripción")},m(n,r){Z(n,e,r)},d(n){n&&z(e)}}}function My(t){let e;return{c(){e=yt("Ocultar descripción")},l(n){e=_t(n,"Ocultar descripción")},m(n,r){Z(n,e,r)},d(n){n&&z(e)}}}function nf(t){let e,n=t[4][t[21]].descripcion+"",r;return{c(){e=G("p"),r=yt(n),this.h()},l(i){e=H(i,"P",{class:!0});var o=X(e);r=_t(o,n),o.forEach(z),this.h()},h(){U(e,"class","descripcion svelte-o9a4oc")},m(i,o){Z(i,e,o),L(e,r)},p(i,o){o&16&&n!==(n=i[4][i[21]].descripcion+"")&&ye(r,n)},d(i){i&&z(e)}}}function rf(t){let e,n,r,i,o,a,s,c,u;function l(){return t[16](t[19],t[21])}let h=t[4][t[21]]&&ef(t);return{c(){e=G("div"),n=G("div"),r=G("img"),o=ut(),h&&h.c(),a=ut(),this.h()},l(f){e=H(f,"DIV",{class:!0});var d=X(e);n=H(d,"DIV",{class:!0});var g=X(n);r=H(g,"IMG",{src:!0,alt:!0,width:!0,class:!0}),o=lt(g),h&&h.l(g),g.forEach(z),a=lt(d),d.forEach(z),this.h()},h(){An(r.src,i=t[19])||U(r,"src",i),U(r,"alt",""),U(r,"width","100%"),U(r,"class","svelte-o9a4oc"),U(n,"class","content svelte-o9a4oc"),U(e,"class","column svelte-o9a4oc")},m(f,d){Z(f,e,d),L(e,n),L(n,r),L(n,o),h&&h.m(n,null),L(e,a),s=!0,c||(u=ve(r,"click",l),c=!0)},p(f,d){t=f,(!s||d&8&&!An(r.src,i=t[19]))&&U(r,"src",i),t[4][t[21]]?h?(h.p(t,d),d&16&&ct(h,1)):(h=ef(t),h.c(),ct(h,1),h.m(n,null)):h&&(Oe(),dt(h,1,1,()=>{h=null}),Le())},i(f){s||(ct(h),s=!0)},o(f){dt(h),s=!1},d(f){f&&z(e),h&&h.d(),c=!1,u()}}}function of(t){let e,n,r,i,o,a;return{c(){e=G("div"),n=G("div"),r=G("img"),this.h()},l(s){e=H(s,"DIV",{class:!0});var c=X(e);n=H(c,"DIV",{class:!0});var u=X(n);r=H(u,"IMG",{src:!0,alt:!0,class:!0}),u.forEach(z),c.forEach(z),this.h()},h(){An(r.src,i=t[0])||U(r,"src",i),U(r,"alt",""),U(r,"class","enlarged-image svelte-o9a4oc"),U(n,"class","zoom-container svelte-o9a4oc"),U(e,"class","fullscreen-image svelte-o9a4oc")},m(s,c){Z(s,e,c),L(e,n),L(n,r),o||(a=ve(e,"click",t[9]),o=!0)},p(s,c){c&1&&!An(r.src,i=s[0])&&U(r,"src",i)},d(s){s&&z(e),o=!1,a()}}}function ky(t){let e,n,r,i,o,a,s,c,u,l,h,f,d,g,p,m,y,_,v,b=Object.entries(t[2]),w=[];for(let M=0;M<b.length;M+=1)w[M]=tf(Xl(t,b,M));const x=M=>dt(w[M],1,1,()=>{w[M]=null});let E=t[3],$=[];for(let M=0;M<E.length;M+=1)$[M]=rf(Wl(t,E,M));const I=M=>dt($[M],1,1,()=>{$[M]=null});let S=t[0]&&of(t);return{c(){e=G("div"),n=yt("GALERÍA DE LAS IMÁGENES DEL CARGUERO"),r=ut(),i=G("div"),o=G("div"),a=G("div"),s=G("h6"),c=yt("Filtrar imágenes"),u=ut(),l=G("button"),h=yt("Restablecer filtros"),f=ut();for(let M=0;M<w.length;M+=1)w[M].c();d=ut(),g=G("div");for(let M=0;M<$.length;M+=1)$[M].c();p=ut(),S&&S.c(),m=Gt(),this.h()},l(M){e=H(M,"DIV",{class:!0});var C=X(e);n=_t(C,"GALERÍA DE LAS IMÁGENES DEL CARGUERO"),C.forEach(z),r=lt(M),i=H(M,"DIV",{class:!0});var T=X(i);o=H(T,"DIV",{class:!0});var k=X(o);a=H(k,"DIV",{class:!0});var A=X(a);s=H(A,"H6",{class:!0});var N=X(s);c=_t(N,"Filtrar imágenes"),N.forEach(z),A.forEach(z),u=lt(k),l=H(k,"BUTTON",{class:!0});var R=X(l);h=_t(R,"Restablecer filtros"),R.forEach(z),f=lt(k);for(let P=0;P<w.length;P+=1)w[P].l(k);k.forEach(z),d=lt(T),g=H(T,"DIV",{class:!0});var D=X(g);for(let P=0;P<$.length;P+=1)$[P].l(D);D.forEach(z),T.forEach(z),p=lt(M),S&&S.l(M),m=Gt(),this.h()},h(){U(e,"class","titulo svelte-o9a4oc"),U(s,"class","svelte-o9a4oc"),U(a,"class","titulo-filtrar svelte-o9a4oc"),U(l,"class","boton-restablecer svelte-o9a4oc"),U(o,"class","filter-container svelte-o9a4oc"),U(g,"class","row svelte-o9a4oc"),U(i,"class","contenedor-galeria svelte-o9a4oc")},m(M,C){Z(M,e,C),L(e,n),Z(M,r,C),Z(M,i,C),L(i,o),L(o,a),L(a,s),L(s,c),L(o,u),L(o,l),L(l,h),L(o,f);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(o,null);L(i,d),L(i,g);for(let T=0;T<$.length;T+=1)$[T]&&$[T].m(g,null);Z(M,p,C),S&&S.m(M,C),Z(M,m,C),y=!0,_||(v=ve(l,"click",t[12]),_=!0)},p(M,[C]){if(C&2276){b=Object.entries(M[2]);let T;for(T=0;T<b.length;T+=1){const k=Xl(M,b,T);w[T]?(w[T].p(k,C),ct(w[T],1)):(w[T]=tf(k),w[T].c(),ct(w[T],1),w[T].m(o,null))}for(Oe(),T=b.length;T<w.length;T+=1)x(T);Le()}if(C&1306){E=M[3];let T;for(T=0;T<E.length;T+=1){const k=Wl(M,E,T);$[T]?($[T].p(k,C),ct($[T],1)):($[T]=rf(k),$[T].c(),ct($[T],1),$[T].m(g,null))}for(Oe(),T=E.length;T<$.length;T+=1)I(T);Le()}M[0]?S?S.p(M,C):(S=of(M),S.c(),S.m(m.parentNode,m)):S&&(S.d(1),S=null)},i(M){if(!y){for(let C=0;C<b.length;C+=1)ct(w[C]);for(let C=0;C<E.length;C+=1)ct($[C]);y=!0}},o(M){w=w.filter(Boolean);for(let C=0;C<w.length;C+=1)dt(w[C]);$=$.filter(Boolean);for(let C=0;C<$.length;C+=1)dt($[C]);y=!1},d(M){M&&z(e),M&&z(r),M&&z(i),dr(w,M),dr($,M),M&&z(p),S&&S.d(M),M&&z(m),_=!1,v()}}}function Sy(t,e,n){let{data:r}=e,i=null,o=null,a={},s=[],c=[],u={},l={},h={autor:"Autor",medio:"Medio",tecnica:"Técnica",material:"Material",periodo:"Periodo",region:"Región",pais:"País",camino:"Camino",modelo:"Modelo usado",procedencia:"Procedencia del autor",atributoCarguero:"Atributo del carguero",accionCarguero:"Acción del carguero",atributoCargado:"Atributo del cargado",numeroCargueros:"Número de cargueros",direccionMiradaCarguero:"Dirección de la mirada del carguero",direccionMiradaCargado:"Dirección de la mirada del cargado",direccionCargado:"Dirección del cargado",generoCargado:"Género del cargado","figura/fondo":"Relación figura-fondo",genero:"Género de la imagen",soporte:"Soporte de la imagen",otros:"Todas las imágenes o solo los cargueros"};function f(x,E){n(0,i=x),n(1,o=E)}function d(){n(0,i=null),n(1,o=null)}function g(x){o===x?n(1,o=null):n(1,o=x)}function p(){let x=r;for(const E in u)u[E]!==""?(x=x.filter($=>$[E]===u[E]),n(6,l[E]=u[E],l)):n(6,l[E]="",l);n(4,c=x),m()}function m(){n(3,s=c.map(x=>`assets/imgs/${x.src}`))}function y(){for(const x in u)n(5,u[x]="",u);p()}pa(()=>{for(const x in r[0])["n","obras","fecha","alto","ancho","fuente","descripcion","id","repositorio","src"].includes(x)||(n(2,a[x]=Array.from(new Set(r.map(E=>E[x]))),a),n(5,u[x]="",u));p()}),Am(()=>{p()});const _=x=>{n(5,u[x]="",u),p()};function v(x){u[x]=Nm(this),n(5,u),n(2,a)}const b=(x,E)=>f(x,E),w=x=>g(x);return t.$$set=x=>{"data"in x&&n(13,r=x.data)},[i,o,a,s,c,u,l,h,f,d,g,p,y,r,_,v,b,w]}class K0 extends we{constructor(e){super(),xe(this,e,Sy,ky,Me,{data:13})}}function af(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function sf(t){let e,n,r,i,o=t[4].seccion+"",a,s,c;function u(){return t[3](t[6])}return{c(){e=G("nav"),n=G("ul"),r=G("li"),i=G("h3"),a=yt(o),this.h()},l(l){e=H(l,"NAV",{class:!0});var h=X(e);n=H(h,"UL",{class:!0});var f=X(n);r=H(f,"LI",{class:!0});var d=X(r);i=H(d,"H3",{class:!0});var g=X(i);a=_t(g,o),g.forEach(z),d.forEach(z),f.forEach(z),h.forEach(z),this.h()},h(){U(i,"class","menu svelte-13r98vm"),U(r,"class","svelte-13r98vm"),U(n,"class","svelte-13r98vm"),U(e,"class","svelte-13r98vm")},m(l,h){Z(l,e,h),L(e,n),L(n,r),L(r,i),L(i,a),s||(c=ve(i,"click",u),s=!0)},p(l,h){t=l,h&1&&o!==(o=t[4].seccion+"")&&ye(a,o)},d(l){l&&z(e),s=!1,c()}}}function Ey(t){let e,n=t[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=sf(af(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Gt()},l(i){for(let o=0;o<r.length;o+=1)r[o].l(i);e=Gt()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);Z(i,e,o)},p(i,[o]){if(o&3){n=i[0];let a;for(a=0;a<n.length;a+=1){const s=af(i,n,a);r[a]?r[a].p(s,o):(r[a]=sf(s),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:pt,o:pt,d(i){dr(r,i),i&&z(e)}}}function $y(t,e,n){let{secciones:r}=e,{pagina:i}=e;function o(s){n(2,i=s)}const a=s=>o(s);return t.$$set=s=>{"secciones"in s&&n(0,r=s.secciones),"pagina"in s&&n(2,i=s.pagina)},[r,o,i,a]}class Ty extends we{constructor(e){super(),xe(this,e,$y,Ey,Me,{secciones:0,pagina:2})}}class Ay extends we{constructor(e){super(),xe(this,e,null,null,Me,{})}}class Ny extends we{constructor(e){super(),xe(this,e,null,null,Me,{})}}function Cy(t){let e,n,r,i,o,a,s,c,u,l,h,f,d,g,p,m,y;return{c(){e=G("div"),n=G("h1"),r=yt("Sobre el Atlas interactivo de las imágenes del Carguero"),i=ut(),o=G("p"),a=G("em"),s=yt("El Atlas interactivo de las imágenes del carguero"),c=yt(' es un producto digital derivado de la investigación titulada "Se dice andar sobre hombres como sobre caballos. Imágenes de cargueros de hombres en el siglo XIX (1801-1853)". Esta herramienta, implementada como una página web, tiene como principal objetivo servir de interfaz de usuario para explorar los datos obtenidos durante la investigación con diversas opciones de interactividad e hipertextualidad.'),u=ut(),l=G("p"),h=yt('El sitio cuenta con varias secciones que facilitan la navegación y el acceso a la información. En la sección de "Teoría", se presentan de manera concisa las herramientas teóricas empleadas en la tesis (Por hacer). La sección de "Antecedentes" sintetiza las investigaciones que influyeron en el desarrollo del proyecto (Por hacer).'),f=ut(),d=G("p"),g=yt('La "Galería" es una sección destacada que permite visualizar todas las imágenes relacionadas con la investigación. Estas imágenes se pueden filtrar mediante categorías que se han diseñado con base en las preguntas planteadas en el proyecto (Primera versión).'),p=ut(),m=G("p"),y=yt('La sección de "Paneles" presenta narrativas interactivas que resumen los resultados del análisis de las imágenes. En este espacio, los usuarios pueden explorar el argumento de manera no lineal, interactuando con las imágenes al hacer clic en áreas específicas de la pantalla y siguiendo diferentes opciones de contenido que conducen a otros paneles. Además, se proporcionan enlaces a repositorios donde las imágenes se almacenan originalmente, así como a literatura secundaria relacionada (En construcción).'),this.h()},l(_){e=H(_,"DIV",{class:!0});var v=X(e);n=H(v,"H1",{class:!0});var b=X(n);r=_t(b,"Sobre el Atlas interactivo de las imágenes del Carguero"),b.forEach(z),i=lt(v),o=H(v,"P",{class:!0});var w=X(o);a=H(w,"EM",{});var x=X(a);s=_t(x,"El Atlas interactivo de las imágenes del carguero"),x.forEach(z),c=_t(w,' es un producto digital derivado de la investigación titulada "Se dice andar sobre hombres como sobre caballos. Imágenes de cargueros de hombres en el siglo XIX (1801-1853)". Esta herramienta, implementada como una página web, tiene como principal objetivo servir de interfaz de usuario para explorar los datos obtenidos durante la investigación con diversas opciones de interactividad e hipertextualidad.'),w.forEach(z),u=lt(v),l=H(v,"P",{class:!0});var E=X(l);h=_t(E,'El sitio cuenta con varias secciones que facilitan la navegación y el acceso a la información. En la sección de "Teoría", se presentan de manera concisa las herramientas teóricas empleadas en la tesis (Por hacer). La sección de "Antecedentes" sintetiza las investigaciones que influyeron en el desarrollo del proyecto (Por hacer).'),E.forEach(z),f=lt(v),d=H(v,"P",{class:!0});var $=X(d);g=_t($,'La "Galería" es una sección destacada que permite visualizar todas las imágenes relacionadas con la investigación. Estas imágenes se pueden filtrar mediante categorías que se han diseñado con base en las preguntas planteadas en el proyecto (Primera versión).'),$.forEach(z),p=lt(v),m=H(v,"P",{class:!0});var I=X(m);y=_t(I,'La sección de "Paneles" presenta narrativas interactivas que resumen los resultados del análisis de las imágenes. En este espacio, los usuarios pueden explorar el argumento de manera no lineal, interactuando con las imágenes al hacer clic en áreas específicas de la pantalla y siguiendo diferentes opciones de contenido que conducen a otros paneles. Además, se proporcionan enlaces a repositorios donde las imágenes se almacenan originalmente, así como a literatura secundaria relacionada (En construcción).'),I.forEach(z),v.forEach(z),this.h()},h(){U(n,"class","svelte-4wpb1i"),U(o,"class","svelte-4wpb1i"),U(l,"class","svelte-4wpb1i"),U(d,"class","svelte-4wpb1i"),U(m,"class","svelte-4wpb1i"),U(e,"class","container svelte-4wpb1i")},m(_,v){Z(_,e,v),L(e,n),L(n,r),L(e,i),L(e,o),L(o,a),L(a,s),L(o,c),L(e,u),L(e,l),L(l,h),L(e,f),L(e,d),L(d,g),L(e,p),L(e,m),L(m,y)},p:pt,i:pt,o:pt,d(_){_&&z(e)}}}class Z0 extends we{constructor(e){super(),xe(this,e,null,Cy,Me,{})}}function Et(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Q0(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xa(t){let e,n,r;t.length!==2?(e=Et,n=(s,c)=>Et(t(s),c),r=(s,c)=>t(s)-c):(e=t===Et||t===Q0?t:Iy,n=t,r=t);function i(s,c,u=0,l=s.length){if(u<l){if(e(c,c)!==0)return l;do{const h=u+l>>>1;n(s[h],c)<0?u=h+1:l=h}while(u<l)}return u}function o(s,c,u=0,l=s.length){if(u<l){if(e(c,c)!==0)return l;do{const h=u+l>>>1;n(s[h],c)<=0?u=h+1:l=h}while(u<l)}return u}function a(s,c,u=0,l=s.length){const h=i(s,c,u,l-1);return h>u&&r(s[h-1],c)>-r(s[h],c)?h-1:h}return{left:i,center:a,right:o}}function Iy(){return 0}function J0(t){return t===null?NaN:+t}function*td(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const ed=xa(Et),nd=ed.right,Ry=ed.left,Py=xa(J0).center,Gn=nd;function Dy(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=cu(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const rd=id(cu),zy=id(Oy);function id(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!n&&!r)return e;const s=n&&t(n),c=r&&t(r),u=i.slice();return s&&c?(Xn(s,u,i,o,a),Xn(s,i,u,o,a),Xn(s,u,i,o,a),Kn(c,i,u,o,a),Kn(c,u,i,o,a),Kn(c,i,u,o,a)):s?(Xn(s,i,u,o,a),Xn(s,u,i,o,a),Xn(s,i,u,o,a)):c&&(Kn(c,i,u,o,a),Kn(c,u,i,o,a),Kn(c,i,u,o,a)),e}}function Xn(t,e,n,r,i){for(let o=0,a=r*i;o<a;)t(e,n,o,o+=r,1)}function Kn(t,e,n,r,i){for(let o=0,a=r*i;o<r;++o)t(e,n,o,o+a,r)}function Oy(t){const e=cu(t);return(n,r,i,o,a)=>{i<<=2,o<<=2,a<<=2,e(n,r,i+0,o+0,a),e(n,r,i+1,o+1,a),e(n,r,i+2,o+2,a),e(n,r,i+3,o+3,a)}}function cu(t){const e=Math.floor(t);if(e===t)return Ly(t);const n=t-e,r=2*t+1;return(i,o,a,s,c)=>{if(!((s-=c)>=a))return;let u=e*o[a];const l=c*e,h=l+c;for(let f=a,d=a+l;f<d;f+=c)u+=o[Math.min(s,f)];for(let f=a,d=s;f<=d;f+=c)u+=o[Math.min(s,f+l)],i[f]=(u+n*(o[Math.max(a,f-h)]+o[Math.min(s,f+h)]))/r,u-=o[Math.max(a,f-l)]}}function Ly(t){const e=2*t+1;return(n,r,i,o,a)=>{if(!((o-=a)>=i))return;let s=t*r[i];const c=a*t;for(let u=i,l=i+c;u<l;u+=a)s+=r[Math.min(o,u)];for(let u=i,l=o;u<=l;u+=a)s+=r[Math.min(o,u+c)],n[u]=s/e,s-=r[Math.max(i,u-c)]}}function Ma(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function Fy(t){return t.length|0}function Uy(t){return!(t>0)}function By(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function qy(t){return e=>t(...e)}function Yy(...t){const e=typeof t[t.length-1]=="function"&&qy(t.pop());t=t.map(By);const n=t.map(Fy),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Uy))return o;for(;;){o.push(i.map((s,c)=>t[c][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?o.map(e):o;i[a--]=0}}}function Gy(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function od(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of t)(s=e(s,++a,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function ad(t,e){const n=od(t,e);return n&&Math.sqrt(n)}function ri(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class It{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,s=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);s&&(n[r++]=s),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}function Hy(t,e){const n=new It;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function Vy(t,e){const n=new It;let r=-1;return Float64Array.from(t,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))}class fi extends Map{constructor(e,n=ud){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rc(this,e))}has(e){return super.has(rc(this,e))}set(e,n){return super.set(sd(this,e),n)}delete(e){return super.delete(cd(this,e))}}class Cn extends Set{constructor(e,n=ud){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(rc(this,e))}add(e){return super.add(sd(this,e))}delete(e){return super.delete(cd(this,e))}}function rc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sd({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cd({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ud(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gr(t){return t}function ld(t,...e){return Nr(t,gr,gr,e)}function fd(t,...e){return Nr(t,Array.from,gr,e)}function hd(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(i=>i.pop().map(([o,a])=>[...i,o,a]));return t}function jy(t,...e){return hd(fd(t,...e),e)}function Wy(t,e,...n){return hd(dd(t,e,...n),n)}function uu(t,e,...n){return Nr(t,gr,e,n)}function dd(t,e,...n){return Nr(t,Array.from,e,n)}function Xy(t,...e){return Nr(t,gr,gd,e)}function Ky(t,...e){return Nr(t,Array.from,gd,e)}function gd(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function Nr(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new fi,c=r[a++];let u=-1;for(const l of o){const h=c(l,++u,o),f=s.get(h);f?f.push(l):s.set(h,[l])}for(const[l,h]of s)s.set(l,i(h,a));return e(s)}(t,0)}function pd(t,e){return Array.from(e,n=>t[n])}function ic(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of e){const s=pr(a[i],a[o]);if(s)return s}})):(n=t.map(n),r.sort((i,o)=>pr(n[i],n[o]))),pd(t,r)}return t.sort(lu(n))}function lu(t=Et){if(t===Et)return pr;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function pr(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Zy(t,e,n){return(e.length!==2?ic(uu(t,e,n),([r,i],[o,a])=>Et(i,a)||Et(r,o)):ic(ld(t,n),([r,i],[o,a])=>e(i,a)||Et(r,o))).map(([r])=>r)}var Qy=Array.prototype,Jy=Qy.slice;function ps(t){return()=>t}const t_=Math.sqrt(50),e_=Math.sqrt(10),n_=Math.sqrt(2);function Eo(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=t_?10:o>=e_?5:o>=n_?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),c=Math.round(e*u),s/u<t&&++s,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),c=Math.round(e/u),s*u<t&&++s,c*u>e&&--c),c<s&&.5<=n&&n<2?Eo(t,e,n*2):[s,c,u]}function In(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Eo(e,t,n):Eo(t,e,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)c[u]=(o-u)/-a;else for(let u=0;u<s;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)c[u]=(i+u)/-a;else for(let u=0;u<s;++u)c[u]=(i+u)*a;return c}function Rn(t,e,n){return e=+e,t=+t,n=+n,Eo(t,e,n)[2]}function $o(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Rn(e,t,n):Rn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fu(t,e,n){let r;for(;;){const i=Rn(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function hu(t){return Math.max(1,Math.ceil(Math.log(Ma(t))/Math.LN2)+1)}function cf(){var t=gr,e=ri,n=hu;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,c,u=new Array(a);for(o=0;o<a;++o)u[o]=t(i[o],o,i);var l=e(u),h=l[0],f=l[1],d=n(u,h,f);if(!Array.isArray(d)){const v=f,b=+d;if(e===ri&&([h,f]=fu(h,f,b)),d=In(h,f,b),d[0]<=h&&(c=Rn(h,f,b)),d[d.length-1]>=f)if(v>=f&&e===ri){const w=Rn(h,f,b);isFinite(w)&&(w>0?f=(Math.floor(f/w)+1)*w:w<0&&(f=(Math.ceil(f*-w)+1)/-w))}else d.pop()}for(var g=d.length,p=0,m=g;d[p]<=h;)++p;for(;d[m-1]>f;)--m;(p||m<g)&&(d=d.slice(p,m),g=m-p);var y=new Array(g+1),_;for(o=0;o<=g;++o)_=y[o]=[],_.x0=o>0?d[o-1]:h,_.x1=o<g?d[o]:f;if(isFinite(c)){if(c>0)for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&y[Math.min(g,Math.floor((s-h)/c))].push(i[o]);else if(c<0){for(o=0;o<a;++o)if((s=u[o])!=null&&h<=s&&s<=f){const v=Math.floor((h-s)*c);y[Math.min(g,v+(d[v]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&y[Gn(d,s,0,g)].push(i[o]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:ps(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:ps([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:ps(Array.isArray(i)?Jy.call(i):i),r):n},r}function hi(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function du(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function To(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function gu(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function ka(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?pr:lu(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,l=Math.log(c),h=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*h*(c-h)/c)*(u-c/2<0?-1:1),d=Math.max(n,Math.floor(e-u*h/c+f)),g=Math.min(r,Math.floor(e+(c-u)*h/c+f));ka(t,e,d,g,i)}const o=t[e];let a=n,s=r;for(Or(t,n,e),i(t[r],o)>0&&Or(t,n,r);a<s;){for(Or(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Or(t,n,s):(++s,Or(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Or(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function md(t,e=Et){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?Et(a,i)>0:Et(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function di(t,e,n){if(t=Float64Array.from(td(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return To(t);if(e>=1)return hi(t);var r,i=(r-1)*e,o=Math.floor(i),a=hi(ka(t,o).subarray(0,o+1)),s=To(t.subarray(o+1));return a+(s-a)*(i-o)}}function yd(t,e,n=J0){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function _d(t,e,n){if(t=Float64Array.from(td(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return gu(t);if(e>=1)return du(t);var r,i=Math.floor((r-1)*e),o=(s,c)=>pr(t[s],t[c]),a=ka(Uint32Array.from(t,(s,c)=>c),i,0,r-1,o);return md(a.subarray(0,i+1),s=>t[s])}}function r_(t,e,n){const r=Ma(t),i=di(t,.75)-di(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function i_(t,e,n){const r=Ma(t),i=ad(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function o_(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function a_(t,e){return di(t,.5,e)}function s_(t,e){return _d(t,.5,e)}function*c_(t){for(const e of t)yield*e}function pu(t){return Array.from(c_(t))}function u_(t,e){const n=new fi;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function l_(t,e=f_){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function f_(t,e){return[t,e]}function cn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function h_(t,e=Et){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=Et);const i=(s,c)=>e(n[s],n[c]);let o,a;return t=Uint32Array.from(n,(s,c)=>c),t.sort(e===Et?(s,c)=>pr(n[s],n[c]):lu(i)),t.forEach((s,c)=>{const u=i(s,o===void 0?s:o);u>=0?((o===void 0||u>0)&&(o=s,a=c),r[s]=a):r[s]=NaN}),r}function d_(t,e=Et){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?Et(a,i)<0:Et(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)<0:e(i,i)===0)&&(n=i,r=!0);return n}function bd(t,e=Et){if(e.length===1)return gu(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?e(o,o)===0:e(o,n)<0)&&(n=o,r=i);return r}function g_(t,e=Et){if(e.length===1)return du(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?e(o,o)===0:e(o,n)>0)&&(n=o,r=i);return r}function p_(t,e){const n=bd(t,e);return n<0?void 0:n}const m_=vd(Math.random);function vd(t){return function(n,r=0,i=n.length){let o=i-(r=+r);for(;o;){const a=t()*o--|0,s=n[o+r];n[o+r]=n[a+r],n[a+r]=s}return n}}function y_(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function wd(t){if(!(o=t.length))return[];for(var e=-1,n=To(t,__),r=new Array(n);++e<n;)for(var i=-1,o,a=r[e]=new Array(o);++i<o;)a[i]=t[i][e];return r}function __(t){return t.length}function b_(){return wd(arguments)}function v_(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function w_(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function x_(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function M_(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function k_(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++a}for(;{done:i,value:o}=r.next(),!i;)n=e(n,o,++a,t);return n}function S_(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function E_(t,...e){t=new Cn(t);for(const n of e)for(const r of n)t.delete(r);return t}function $_(t,e){const n=e[Symbol.iterator](),r=new Cn;for(const i of t){if(r.has(i))return!1;let o,a;for(;({value:o,done:a}=n.next())&&!a;){if(Object.is(i,o))return!1;r.add(o)}}return!0}function T_(t,...e){t=new Cn(t),e=e.map(A_);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function A_(t){return t instanceof Cn?t:new Cn(t)}function xd(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){const o=uf(i);if(r.has(o))continue;let a,s;for(;{value:a,done:s}=n.next();){if(s)return!1;const c=uf(a);if(r.add(c),Object.is(o,c))break}}return!0}function uf(t){return t!==null&&typeof t=="object"?t.valueOf():t}function N_(t,e){return xd(e,t)}function C_(...t){const e=new Cn;for(const n of t)for(const r of n)e.add(r);return e}function I_(t){return t}var fo=1,ho=2,oc=3,Gr=4,lf=1e-6;function R_(t){return"translate("+t+",0)"}function P_(t){return"translate(0,"+t+")"}function D_(t){return e=>+t(e)}function z_(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function O_(){return!this.__axis}function Sa(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===fo||t===Gr?-1:1,l=t===Gr||t===ho?"x":"y",h=t===fo||t===oc?R_:P_;function f(d){var g=r??(e.ticks?e.ticks.apply(e,n):e.domain()),p=i??(e.tickFormat?e.tickFormat.apply(e,n):I_),m=Math.max(o,0)+s,y=e.range(),_=+y[0]+c,v=+y[y.length-1]+c,b=(e.bandwidth?z_:D_)(e.copy(),c),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),E=w.selectAll(".tick").data(g,e).order(),$=E.exit(),I=E.enter().append("g").attr("class","tick"),S=E.select("line"),M=E.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(I),S=S.merge(I.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),M=M.merge(I.append("text").attr("fill","currentColor").attr(l,u*m).attr("dy",t===fo?"0em":t===oc?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),E=E.transition(d),S=S.transition(d),M=M.transition(d),$=$.transition(d).attr("opacity",lf).attr("transform",function(C){return isFinite(C=b(C))?h(C+c):this.getAttribute("transform")}),I.attr("opacity",lf).attr("transform",function(C){var T=this.parentNode.__axis;return h((T&&isFinite(T=T(C))?T:b(C))+c)})),$.remove(),x.attr("d",t===Gr||t===ho?a?"M"+u*a+","+_+"H"+c+"V"+v+"H"+u*a:"M"+c+","+_+"V"+v:a?"M"+_+","+u*a+"V"+c+"H"+v+"V"+u*a:"M"+_+","+c+"H"+v),E.attr("opacity",1).attr("transform",function(C){return h(b(C)+c)}),S.attr(l+"2",u*o),M.attr(l,u*m).text(p),w.filter(O_).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ho?"start":t===Gr?"end":"middle"),w.each(function(){this.__axis=b})}return f.scale=function(d){return arguments.length?(e=d,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(o=a=+d,f):o},f.tickSizeInner=function(d){return arguments.length?(o=+d,f):o},f.tickSizeOuter=function(d){return arguments.length?(a=+d,f):a},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(c=+d,f):c},f}function L_(t){return Sa(fo,t)}function F_(t){return Sa(ho,t)}function U_(t){return Sa(oc,t)}function B_(t){return Sa(Gr,t)}var q_={value:()=>{}};function Hn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new go(n)}function go(t){this._=t}function Y_(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}go.prototype=Hn.prototype={constructor:go,on:function(t,e){var n=this._,r=Y_(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=G_(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=ff(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ff(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new go(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function G_(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ff(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=q_,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ac="http://www.w3.org/1999/xhtml";const sc={svg:"http://www.w3.org/2000/svg",xhtml:ac,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ti(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sc.hasOwnProperty(e)?{space:sc[e],local:t}:t}function H_(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ac&&e.documentElement.namespaceURI===ac?e.createElement(t):e.createElementNS(n,t)}}function V_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ea(t){var e=Ti(t);return(e.local?V_:H_)(e)}function j_(){}function $a(t){return t==null?j_:function(){return this.querySelector(t)}}function W_(t){typeof t!="function"&&(t=$a(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),c,u,l=0;l<a;++l)(c=o[l])&&(u=t.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),s[l]=u);return new Jt(r,this._parents)}function Md(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function X_(){return[]}function mu(t){return t==null?X_:function(){return this.querySelectorAll(t)}}function K_(t){return function(){return Md(t.apply(this,arguments))}}function Z_(t){typeof t=="function"?t=K_(t):t=mu(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&(r.push(t.call(c,c.__data__,u,a)),i.push(c));return new Jt(r,i)}function yu(t){return function(){return this.matches(t)}}function kd(t){return function(e){return e.matches(t)}}var Q_=Array.prototype.find;function J_(t){return function(){return Q_.call(this.children,t)}}function tb(){return this.firstElementChild}function eb(t){return this.select(t==null?tb:J_(typeof t=="function"?t:kd(t)))}var nb=Array.prototype.filter;function rb(){return Array.from(this.children)}function ib(t){return function(){return nb.call(this.children,t)}}function ob(t){return this.selectAll(t==null?rb:ib(typeof t=="function"?t:kd(t)))}function ab(t){typeof t!="function"&&(t=yu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&s.push(c);return new Jt(r,this._parents)}function Sd(t){return new Array(t.length)}function sb(){return new Jt(this._enter||this._groups.map(Sd),this._parents)}function Ao(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ao.prototype={constructor:Ao,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function cb(t){return function(){return t}}function ub(t,e,n,r,i,o){for(var a=0,s,c=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Ao(t,o[a]);for(;a<c;++a)(s=e[a])&&(i[a]=s)}function lb(t,e,n,r,i,o,a){var s,c,u=new Map,l=e.length,h=o.length,f=new Array(l),d;for(s=0;s<l;++s)(c=e[s])&&(f[s]=d=a.call(c,c.__data__,s,e)+"",u.has(d)?i[s]=c:u.set(d,c));for(s=0;s<h;++s)d=a.call(t,o[s],s,o)+"",(c=u.get(d))?(r[s]=c,c.__data__=o[s],u.delete(d)):n[s]=new Ao(t,o[s]);for(s=0;s<l;++s)(c=e[s])&&u.get(f[s])===c&&(i[s]=c)}function fb(t){return t.__data__}function hb(t,e){if(!arguments.length)return Array.from(this,fb);var n=e?lb:ub,r=this._parents,i=this._groups;typeof t!="function"&&(t=cb(t));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],h=i[u],f=h.length,d=db(t.call(l,l&&l.__data__,u,r)),g=d.length,p=s[u]=new Array(g),m=a[u]=new Array(g),y=c[u]=new Array(f);n(l,h,p,m,y,d,e);for(var _=0,v=0,b,w;_<g;++_)if(b=p[_]){for(_>=v&&(v=_+1);!(w=m[v])&&++v<g;);b._next=w||null}}return a=new Jt(a,r),a._enter=s,a._exit=c,a}function db(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gb(){return new Jt(this._exit||this._groups.map(Sd),this._parents)}function pb(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function mb(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var u=n[c],l=r[c],h=u.length,f=s[c]=new Array(h),d,g=0;g<h;++g)(d=u[g]||l[g])&&(f[g]=d);for(;c<i;++c)s[c]=n[c];return new Jt(s,this._parents)}function yb(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function _b(t){t||(t=bb);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),u,l=0;l<s;++l)(u=a[l])&&(c[l]=u);c.sort(e)}return new Jt(i,this._parents).order()}function bb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function wb(){return Array.from(this)}function xb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Mb(){let t=0;for(const e of this)++t;return t}function kb(){return!this.node()}function Sb(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Eb(t){return function(){this.removeAttribute(t)}}function $b(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Tb(t,e){return function(){this.setAttribute(t,e)}}function Ab(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Nb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Cb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ib(t,e){var n=Ti(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?$b:Eb:typeof e=="function"?n.local?Cb:Nb:n.local?Ab:Tb)(n,e))}function _u(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Rb(t){return function(){this.style.removeProperty(t)}}function Pb(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Db(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function zb(t,e,n){return arguments.length>1?this.each((e==null?Rb:typeof e=="function"?Db:Pb)(t,e,n??"")):Pn(this.node(),t)}function Pn(t,e){return t.style.getPropertyValue(e)||_u(t).getComputedStyle(t,null).getPropertyValue(e)}function Ob(t){return function(){delete this[t]}}function Lb(t,e){return function(){this[t]=e}}function Fb(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ub(t,e){return arguments.length>1?this.each((e==null?Ob:typeof e=="function"?Fb:Lb)(t,e)):this.node()[t]}function Ed(t){return t.trim().split(/^|\s+/)}function bu(t){return t.classList||new $d(t)}function $d(t){this._node=t,this._names=Ed(t.getAttribute("class")||"")}$d.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Td(t,e){for(var n=bu(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ad(t,e){for(var n=bu(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Bb(t){return function(){Td(this,t)}}function qb(t){return function(){Ad(this,t)}}function Yb(t,e){return function(){(e.apply(this,arguments)?Td:Ad)(this,t)}}function Gb(t,e){var n=Ed(t+"");if(arguments.length<2){for(var r=bu(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Yb:e?Bb:qb)(n,e))}function Hb(){this.textContent=""}function Vb(t){return function(){this.textContent=t}}function jb(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Wb(t){return arguments.length?this.each(t==null?Hb:(typeof t=="function"?jb:Vb)(t)):this.node().textContent}function Xb(){this.innerHTML=""}function Kb(t){return function(){this.innerHTML=t}}function Zb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Qb(t){return arguments.length?this.each(t==null?Xb:(typeof t=="function"?Zb:Kb)(t)):this.node().innerHTML}function Jb(){this.nextSibling&&this.parentNode.appendChild(this)}function tv(){return this.each(Jb)}function ev(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nv(){return this.each(ev)}function rv(t){var e=typeof t=="function"?t:Ea(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function iv(){return null}function ov(t,e){var n=typeof t=="function"?t:Ea(t),r=e==null?iv:typeof e=="function"?e:$a(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function av(){var t=this.parentNode;t&&t.removeChild(this)}function sv(){return this.each(av)}function cv(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function uv(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function lv(t){return this.select(t?uv:cv)}function fv(t){return arguments.length?this.property("__data__",t):this.node().__data__}function hv(t){return function(e){t.call(this,e,this.__data__)}}function dv(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function gv(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function pv(t,e,n){return function(){var r=this.__on,i,o=hv(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function mv(t,e,n){var r=dv(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,l;c<u;++c)for(i=0,l=s[c];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=e?pv:gv,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Nd(t,e,n){var r=_u(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function yv(t,e){return function(){return Nd(this,t,e)}}function _v(t,e){return function(){return Nd(this,t,e.apply(this,arguments))}}function bv(t,e){return this.each((typeof e=="function"?_v:yv)(t,e))}function*vv(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var vu=[null];function Jt(t,e){this._groups=t,this._parents=e}function Vn(){return new Jt([[document.documentElement]],vu)}function wv(){return this}Jt.prototype=Vn.prototype={constructor:Jt,select:W_,selectAll:Z_,selectChild:eb,selectChildren:ob,filter:ab,data:hb,enter:sb,exit:gb,join:pb,merge:mb,selection:wv,order:yb,sort:_b,call:vb,nodes:wb,node:xb,size:Mb,empty:kb,each:Sb,attr:Ib,style:zb,property:Ub,classed:Gb,text:Wb,html:Qb,raise:tv,lower:nv,append:rv,insert:ov,remove:sv,clone:lv,datum:fv,on:mv,dispatch:bv,[Symbol.iterator]:vv};function Yt(t){return typeof t=="string"?new Jt([[document.querySelector(t)]],[document.documentElement]):new Jt([[t]],vu)}function xv(t){return Yt(Ea(t).call(document.documentElement))}var Mv=0;function Cd(){return new cc}function cc(){this._="@"+(++Mv).toString(36)}cc.prototype=Cd.prototype={constructor:cc,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Id(t){let e;for(;e=t.sourceEvent;)t=e;return t}function he(t,e){if(t=Id(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function kv(t,e){return t.target&&(t=Id(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>he(n,e))}function Sv(t){return typeof t=="string"?new Jt([document.querySelectorAll(t)],[document.documentElement]):new Jt([Md(t)],vu)}const Ev={passive:!1},gi={capture:!0,passive:!1};function ms(t){t.stopImmediatePropagation()}function cr(t){t.preventDefault(),t.stopImmediatePropagation()}function Ta(t){var e=t.document.documentElement,n=Yt(t).on("dragstart.drag",cr,gi);"onselectstart"in e?n.on("selectstart.drag",cr,gi):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Aa(t,e){var n=t.document.documentElement,r=Yt(t).on("dragstart.drag",null);e&&(r.on("click.drag",cr,gi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const qi=t=>()=>t;function uc(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:c,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}uc.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function $v(t){return!t.ctrlKey&&!t.button}function Tv(){return this.parentNode}function Av(t,e){return e??{x:t.x,y:t.y}}function Nv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cv(){var t=$v,e=Tv,n=Av,r=Nv,i={},o=Hn("start","drag","end"),a=0,s,c,u,l,h=0;function f(b){b.on("mousedown.drag",d).filter(r).on("touchstart.drag",m).on("touchmove.drag",y,Ev).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(b,w){if(!(l||!t.call(this,b,w))){var x=v(this,e.call(this,b,w),b,w,"mouse");x&&(Yt(b.view).on("mousemove.drag",g,gi).on("mouseup.drag",p,gi),Ta(b.view),ms(b),u=!1,s=b.clientX,c=b.clientY,x("start",b))}}function g(b){if(cr(b),!u){var w=b.clientX-s,x=b.clientY-c;u=w*w+x*x>h}i.mouse("drag",b)}function p(b){Yt(b.view).on("mousemove.drag mouseup.drag",null),Aa(b.view,u),cr(b),i.mouse("end",b)}function m(b,w){if(t.call(this,b,w)){var x=b.changedTouches,E=e.call(this,b,w),$=x.length,I,S;for(I=0;I<$;++I)(S=v(this,E,b,w,x[I].identifier,x[I]))&&(ms(b),S("start",b,x[I]))}}function y(b){var w=b.changedTouches,x=w.length,E,$;for(E=0;E<x;++E)($=i[w[E].identifier])&&(cr(b),$("drag",b,w[E]))}function _(b){var w=b.changedTouches,x=w.length,E,$;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),E=0;E<x;++E)($=i[w[E].identifier])&&(ms(b),$("end",b,w[E]))}function v(b,w,x,E,$,I){var S=o.copy(),M=he(I||x,w),C,T,k;if((k=n.call(b,new uc("beforestart",{sourceEvent:x,target:f,identifier:$,active:a,x:M[0],y:M[1],dx:0,dy:0,dispatch:S}),E))!=null)return C=k.x-M[0]||0,T=k.y-M[1]||0,function A(N,R,D){var P=M,B;switch(N){case"start":i[$]=A,B=a++;break;case"end":delete i[$],--a;case"drag":M=he(D||R,w),B=a;break}S.call(N,b,new uc(N,{sourceEvent:R,subject:k,target:f,identifier:$,active:B,x:M[0]+C,y:M[1]+T,dx:M[0]-P[0],dy:M[1]-P[1],dispatch:S}),E)}}return f.filter=function(b){return arguments.length?(t=typeof b=="function"?b:qi(!!b),f):t},f.container=function(b){return arguments.length?(e=typeof b=="function"?b:qi(b),f):e},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:qi(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:qi(!!b),f):r},f.on=function(){var b=o.on.apply(o,arguments);return b===o?f:b},f.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,f):Math.sqrt(h)},f}function Cr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ai(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pn(){}var Dn=.7,mr=1/Dn,ur="\\s*([+-]?\\d+)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iv=/^#([0-9a-f]{3,8})$/,Rv=new RegExp(`^rgb\\(${ur},${ur},${ur}\\)$`),Pv=new RegExp(`^rgb\\(${ze},${ze},${ze}\\)$`),Dv=new RegExp(`^rgba\\(${ur},${ur},${ur},${pi}\\)$`),zv=new RegExp(`^rgba\\(${ze},${ze},${ze},${pi}\\)$`),Ov=new RegExp(`^hsl\\(${pi},${ze},${ze}\\)$`),Lv=new RegExp(`^hsla\\(${pi},${ze},${ze},${pi}\\)$`),hf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cr(pn,fn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:df,formatHex:df,formatHex8:Fv,formatHsl:Uv,formatRgb:gf,toString:gf});function df(){return this.rgb().formatHex()}function Fv(){return this.rgb().formatHex8()}function Uv(){return Rd(this).formatHsl()}function gf(){return this.rgb().formatRgb()}function fn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Iv.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?pf(e):n===3?new Rt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Rv.exec(t))?new Rt(e[1],e[2],e[3],1):(e=Pv.exec(t))?new Rt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dv.exec(t))?Yi(e[1],e[2],e[3],e[4]):(e=zv.exec(t))?Yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ov.exec(t))?_f(e[1],e[2]/100,e[3]/100,1):(e=Lv.exec(t))?_f(e[1],e[2]/100,e[3]/100,e[4]):hf.hasOwnProperty(t)?pf(hf[t]):t==="transparent"?new Rt(NaN,NaN,NaN,0):null}function pf(t){return new Rt(t>>16&255,t>>8&255,t&255,1)}function Yi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rt(t,e,n,r)}function wu(t){return t instanceof pn||(t=fn(t)),t?(t=t.rgb(),new Rt(t.r,t.g,t.b,t.opacity)):new Rt}function yr(t,e,n,r){return arguments.length===1?wu(t):new Rt(t,e,n,r??1)}function Rt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Cr(Rt,yr,Ai(pn,{brighter(t){return t=t==null?mr:Math.pow(mr,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dn:Math.pow(Dn,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rt(En(this.r),En(this.g),En(this.b),No(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mf,formatHex:mf,formatHex8:Bv,formatRgb:yf,toString:yf}));function mf(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}`}function Bv(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}${kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function yf(){const t=No(this.opacity);return`${t===1?"rgb(":"rgba("}${En(this.r)}, ${En(this.g)}, ${En(this.b)}${t===1?")":`, ${t})`}`}function No(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function En(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kn(t){return t=En(t),(t<16?"0":"")+t.toString(16)}function _f(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Se(t,e,n,r)}function Rd(t){if(t instanceof Se)return new Se(t.h,t.s,t.l,t.opacity);if(t instanceof pn||(t=fn(t)),!t)return new Se;if(t instanceof Se)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Se(a,s,c,t.opacity)}function Co(t,e,n,r){return arguments.length===1?Rd(t):new Se(t,e,n,r??1)}function Se(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Cr(Se,Co,Ai(pn,{brighter(t){return t=t==null?mr:Math.pow(mr,t),new Se(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dn:Math.pow(Dn,t),new Se(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rt(ys(t>=240?t-240:t+120,i,r),ys(t,i,r),ys(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Se(bf(this.h),Gi(this.s),Gi(this.l),No(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=No(this.opacity);return`${t===1?"hsl(":"hsla("}${bf(this.h)}, ${Gi(this.s)*100}%, ${Gi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bf(t){return t=(t||0)%360,t<0?t+360:t}function Gi(t){return Math.max(0,Math.min(1,t||0))}function ys(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Pd=Math.PI/180,Dd=180/Math.PI,Io=18,zd=.96422,Od=1,Ld=.82521,Fd=4/29,lr=6/29,Ud=3*lr*lr,qv=lr*lr*lr;function Bd(t){if(t instanceof Ae)return new Ae(t.l,t.a,t.b,t.opacity);if(t instanceof Pe)return Yd(t);t instanceof Rt||(t=wu(t));var e=ws(t.r),n=ws(t.g),r=ws(t.b),i=_s((.2225045*e+.7168786*n+.0606169*r)/Od),o,a;return e===n&&n===r?o=a=i:(o=_s((.4360747*e+.3850649*n+.1430804*r)/zd),a=_s((.0139322*e+.0971045*n+.7141733*r)/Ld)),new Ae(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Yv(t,e){return new Ae(t,0,0,e??1)}function Ro(t,e,n,r){return arguments.length===1?Bd(t):new Ae(t,e,n,r??1)}function Ae(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Cr(Ae,Ro,Ai(pn,{brighter(t){return new Ae(this.l+Io*(t??1),this.a,this.b,this.opacity)},darker(t){return new Ae(this.l-Io*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=zd*bs(e),t=Od*bs(t),n=Ld*bs(n),new Rt(vs(3.1338561*e-1.6168667*t-.4906146*n),vs(-.9787684*e+1.9161415*t+.033454*n),vs(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function _s(t){return t>qv?Math.pow(t,1/3):t/Ud+Fd}function bs(t){return t>lr?t*t*t:Ud*(t-Fd)}function vs(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ws(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qd(t){if(t instanceof Pe)return new Pe(t.h,t.c,t.l,t.opacity);if(t instanceof Ae||(t=Bd(t)),t.a===0&&t.b===0)return new Pe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Dd;return new Pe(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Gv(t,e,n,r){return arguments.length===1?qd(t):new Pe(n,e,t,r??1)}function Po(t,e,n,r){return arguments.length===1?qd(t):new Pe(t,e,n,r??1)}function Pe(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Yd(t){if(isNaN(t.h))return new Ae(t.l,0,0,t.opacity);var e=t.h*Pd;return new Ae(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Cr(Pe,Po,Ai(pn,{brighter(t){return new Pe(this.h,this.c,this.l+Io*(t??1),this.opacity)},darker(t){return new Pe(this.h,this.c,this.l-Io*(t??1),this.opacity)},rgb(){return Yd(this).rgb()}}));var Gd=-.14861,xu=1.78277,Mu=-.29227,Na=-.90649,mi=1.97294,vf=mi*Na,wf=mi*xu,xf=xu*Mu-Na*Gd;function Hv(t){if(t instanceof $n)return new $n(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=wu(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(xf*r+vf*e-wf*n)/(xf+vf-wf),o=r-i,a=(mi*(n-i)-Mu*o)/Na,s=Math.sqrt(a*a+o*o)/(mi*i*(1-i)),c=s?Math.atan2(a,o)*Dd-120:NaN;return new $n(c<0?c+360:c,s,i,t.opacity)}function Ne(t,e,n,r){return arguments.length===1?Hv(t):new $n(t,e,n,r??1)}function $n(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Cr($n,Ne,Ai(pn,{brighter(t){return t=t==null?mr:Math.pow(mr,t),new $n(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dn:Math.pow(Dn,t),new $n(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Pd,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Rt(255*(e+n*(Gd*r+xu*i)),255*(e+n*(Mu*r+Na*i)),255*(e+n*(mi*r)),this.opacity)}}));function Hd(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Vd(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Hd((n-r/e)*e,a,i,o,s)}}function jd(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Hd((n-r/e)*e,i,o,a,s)}}const Ca=t=>()=>t;function Wd(t,e){return function(n){return t+n*e}}function Vv(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ia(t,e){var n=e-t;return n?Wd(t,n>180||n<-180?n-360*Math.round(n/360):n):Ca(isNaN(t)?e:t)}function jv(t){return(t=+t)==1?Pt:function(e,n){return n-e?Vv(e,n,t):Ca(isNaN(e)?n:e)}}function Pt(t,e){var n=e-t;return n?Wd(t,n):Ca(isNaN(t)?e:t)}const yi=function t(e){var n=jv(e);function r(i,o){var a=n((i=yr(i)).r,(o=yr(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),u=Pt(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=t,r}(1);function Xd(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=yr(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(c){return s.r=r(c),s.g=i(c),s.b=o(c),s+""}}}var Kd=Xd(Vd),Wv=Xd(jd);function ku(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Zd(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xv(t,e){return(Zd(e)?ku:Qd)(t,e)}function Qd(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=mn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Jd(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function me(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function t1(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=mn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var lc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xs=new RegExp(lc.source,"g");function Kv(t){return function(){return t}}function Zv(t){return function(e){return t(e)+""}}function Su(t,e){var n=lc.lastIndex=xs.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(t=t+"",e=e+"";(r=lc.exec(t))&&(i=xs.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:me(r,i)})),n=xs.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?Zv(c[0].x):Kv(e):(e=c.length,function(u){for(var l=0,h;l<e;++l)s[(h=c[l]).i]=h.x(u);return s.join("")})}function mn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ca(e):(n==="number"?me:n==="string"?(r=fn(e))?(e=r,yi):Su:e instanceof fn?yi:e instanceof Date?Jd:Zd(e)?ku:Array.isArray(e)?Qd:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?t1:me)(t,e)}function Qv(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Jv(t,e){var n=Ia(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function Ra(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Mf=180/Math.PI,fc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function e1(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Mf,skewX:Math.atan(c)*Mf,scaleX:a,scaleY:s}}var Hi;function tw(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?fc:e1(e.a,e.b,e.c,e.d,e.e,e.f)}function ew(t){return t==null||(Hi||(Hi=document.createElementNS("http://www.w3.org/2000/svg","g")),Hi.setAttribute("transform",t),!(t=Hi.transform.baseVal.consolidate()))?fc:(t=t.matrix,e1(t.a,t.b,t.c,t.d,t.e,t.f))}function n1(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,h,f,d,g){if(u!==h||l!==f){var p=d.push("translate(",null,e,null,n);g.push({i:p-4,x:me(u,h)},{i:p-2,x:me(l,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function a(u,l,h,f){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:me(u,l)})):l&&h.push(i(h)+"rotate("+l+r)}function s(u,l,h,f){u!==l?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:me(u,l)}):l&&h.push(i(h)+"skewX("+l+r)}function c(u,l,h,f,d,g){if(u!==h||l!==f){var p=d.push(i(d)+"scale(",null,",",null,")");g.push({i:p-4,x:me(u,h)},{i:p-2,x:me(l,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,l){var h=[],f=[];return u=t(u),l=t(l),o(u.translateX,u.translateY,l.translateX,l.translateY,h,f),a(u.rotate,l.rotate,h,f),s(u.skewX,l.skewX,h,f),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,h,f),u=l=null,function(d){for(var g=-1,p=f.length,m;++g<p;)h[(m=f[g]).i]=m.x(d);return h.join("")}}}var r1=n1(tw,"px, ","px)","deg)"),i1=n1(ew,", ",")",")"),nw=1e-12;function kf(t){return((t=Math.exp(t))+1/t)/2}function rw(t){return((t=Math.exp(t))-1/t)/2}function iw(t){return((t=Math.exp(2*t))-1)/(t+1)}const o1=function t(e,n,r){function i(o,a){var s=o[0],c=o[1],u=o[2],l=a[0],h=a[1],f=a[2],d=l-s,g=h-c,p=d*d+g*g,m,y;if(p<nw)y=Math.log(f/u)/e,m=function(E){return[s+E*d,c+E*g,u*Math.exp(e*E*y)]};else{var _=Math.sqrt(p),v=(f*f-u*u+r*p)/(2*u*n*_),b=(f*f-u*u-r*p)/(2*f*n*_),w=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(b*b+1)-b);y=(x-w)/e,m=function(E){var $=E*y,I=kf(w),S=u/(n*_)*(I*iw(e*$+w)-rw(w));return[s+S*d,c+S*g,u*I/kf(e*$+w)]}}return m.duration=y*1e3*e/Math.SQRT2,m}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,c=s*s;return t(a,s,c)},i}(Math.SQRT2,2,4);function a1(t){return function(e,n){var r=t((e=Co(e)).h,(n=Co(n)).h),i=Pt(e.s,n.s),o=Pt(e.l,n.l),a=Pt(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const ow=a1(Ia);var aw=a1(Pt);function sw(t,e){var n=Pt((t=Ro(t)).l,(e=Ro(e)).l),r=Pt(t.a,e.a),i=Pt(t.b,e.b),o=Pt(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function s1(t){return function(e,n){var r=t((e=Po(e)).h,(n=Po(n)).h),i=Pt(e.c,n.c),o=Pt(e.l,n.l),a=Pt(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const cw=s1(Ia);var uw=s1(Pt);function c1(t){return function e(n){n=+n;function r(i,o){var a=t((i=Ne(i)).h,(o=Ne(o)).h),s=Pt(i.s,o.s),c=Pt(i.l,o.l),u=Pt(i.opacity,o.opacity);return function(l){return i.h=a(l),i.s=s(l),i.l=c(Math.pow(l,n)),i.opacity=u(l),i+""}}return r.gamma=e,r}(1)}const lw=c1(Ia);var Pa=c1(Pt);function u1(t,e){e===void 0&&(e=t,t=mn);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function fw(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var _r=0,Hr=0,Lr=0,l1=1e3,Do,Vr,zo=0,zn=0,Da=0,_i=typeof performance=="object"&&performance.now?performance:Date,f1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ni(){return zn||(f1(hw),zn=_i.now()+Da)}function hw(){zn=0}function bi(){this._call=this._time=this._next=null}bi.prototype=za.prototype={constructor:bi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ni():+n)+(e==null?0:+e),!this._next&&Vr!==this&&(Vr?Vr._next=this:Do=this,Vr=this),this._call=t,this._time=n,hc()},stop:function(){this._call&&(this._call=null,this._time=1/0,hc())}};function za(t,e,n){var r=new bi;return r.restart(t,e,n),r}function h1(){Ni(),++_r;for(var t=Do,e;t;)(e=zn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_r}function Sf(){zn=(zo=_i.now())+Da,_r=Hr=0;try{h1()}finally{_r=0,gw(),zn=0}}function dw(){var t=_i.now(),e=t-zo;e>l1&&(Da-=e,zo=t)}function gw(){for(var t,e=Do,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Do=n);Vr=t,hc(r)}function hc(t){if(!_r){Hr&&(Hr=clearTimeout(Hr));var e=t-zn;e>24?(t<1/0&&(Hr=setTimeout(Sf,t-_i.now()-Da)),Lr&&(Lr=clearInterval(Lr))):(Lr||(zo=_i.now(),Lr=setInterval(dw,l1)),_r=1,f1(Sf))}}function dc(t,e,n){var r=new bi;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}function pw(t,e,n){var r=new bi,i=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(o,a,s){a=+a,s=s==null?Ni():+s,r._restart(function c(u){u+=i,r._restart(c,i+=a,s),o(u)},a,s)},r.restart(t,e,n),r)}var mw=Hn("start","end","cancel","interrupt"),yw=[],d1=0,gc=1,pc=2,po=3,Ef=4,mc=5,mo=6;function Oa(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;_w(t,n,{name:e,index:r,group:i,on:mw,tween:yw,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:d1})}function Eu(t,e){var n=Ce(t,e);if(n.state>d1)throw new Error("too late; already scheduled");return n}function Ye(t,e){var n=Ce(t,e);if(n.state>po)throw new Error("too late; already running");return n}function Ce(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function _w(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=za(o,0,n.time);function o(u){n.state=gc,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var l,h,f,d;if(n.state!==gc)return c();for(l in r)if(d=r[l],d.name===n.name){if(d.state===po)return dc(a);d.state===Ef?(d.state=mo,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[l]):+l<e&&(d.state=mo,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[l])}if(dc(function(){n.state===po&&(n.state=Ef,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=pc,n.on.call("start",t,t.__data__,n.index,n.group),n.state===pc){for(n.state=po,i=new Array(f=n.tween.length),l=0,h=-1;l<f;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=mc,1),h=-1,f=i.length;++h<f;)i[h].call(t,l);n.state===mc&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=mo,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Tn(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>pc&&r.state<mc,r.state=mo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function bw(t){return this.each(function(){Tn(this,t)})}function vw(t,e){var n,r;return function(){var i=Ye(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function ww(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ye(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function xw(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ce(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?vw:ww)(n,t,e))}function $u(t,e,n){var r=t._id;return t.each(function(){var i=Ye(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ce(i,r).value[e]}}function g1(t,e){var n;return(typeof e=="number"?me:e instanceof fn?yi:(n=fn(e))?(e=n,yi):Su)(t,e)}function Mw(t){return function(){this.removeAttribute(t)}}function kw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sw(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Ew(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function $w(t,e,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s)))}}function Tw(t,e,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s)))}}function Aw(t,e){var n=Ti(t),r=n==="transform"?i1:g1;return this.attrTween(t,typeof e=="function"?(n.local?Tw:$w)(n,r,$u(this,"attr."+t,e)):e==null?(n.local?kw:Mw)(n):(n.local?Ew:Sw)(n,r,e))}function Nw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Cw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Iw(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Cw(t,o)),n}return i._value=e,i}function Rw(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Nw(t,o)),n}return i._value=e,i}function Pw(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ti(t);return this.tween(n,(r.local?Iw:Rw)(r,e))}function Dw(t,e){return function(){Eu(this,t).delay=+e.apply(this,arguments)}}function zw(t,e){return e=+e,function(){Eu(this,t).delay=e}}function Ow(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Dw:zw)(e,t)):Ce(this.node(),e).delay}function Lw(t,e){return function(){Ye(this,t).duration=+e.apply(this,arguments)}}function Fw(t,e){return e=+e,function(){Ye(this,t).duration=e}}function Uw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lw:Fw)(e,t)):Ce(this.node(),e).duration}function Bw(t,e){if(typeof e!="function")throw new Error;return function(){Ye(this,t).ease=e}}function qw(t){var e=this._id;return arguments.length?this.each(Bw(e,t)):Ce(this.node(),e).ease}function Yw(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ye(this,t).ease=n}}function Gw(t){if(typeof t!="function")throw new Error;return this.each(Yw(this._id,t))}function Hw(t){typeof t!="function"&&(t=yu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&s.push(c);return new Fe(r,this._parents,this._name,this._id)}function Vw(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=e[s],u=n[s],l=c.length,h=a[s]=new Array(l),f,d=0;d<l;++d)(f=c[d]||u[d])&&(h[d]=f);for(;s<r;++s)a[s]=e[s];return new Fe(a,this._parents,this._name,this._id)}function jw(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ww(t,e,n){var r,i,o=jw(e)?Eu:Ye;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function Xw(t,e){var n=this._id;return arguments.length<2?Ce(this.node(),n).on.on(t):this.each(Ww(n,t,e))}function Kw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Zw(){return this.on("end.remove",Kw(this._id))}function Qw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$a(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,u=o[a]=new Array(c),l,h,f=0;f<c;++f)(l=s[f])&&(h=t.call(l,l.__data__,f,s))&&("__data__"in l&&(h.__data__=l.__data__),u[f]=h,Oa(u[f],e,n,f,u,Ce(l,n)));return new Fe(o,this._parents,e,n)}function Jw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mu(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],u=c.length,l,h=0;h<u;++h)if(l=c[h]){for(var f=t.call(l,l.__data__,h,c),d,g=Ce(l,n),p=0,m=f.length;p<m;++p)(d=f[p])&&Oa(d,e,n,p,f,g);o.push(f),a.push(l)}return new Fe(o,a,e,n)}var t3=Vn.prototype.constructor;function e3(){return new t3(this._groups,this._parents)}function n3(t,e){var n,r,i;return function(){var o=Pn(this,t),a=(this.style.removeProperty(t),Pn(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function p1(t){return function(){this.style.removeProperty(t)}}function r3(t,e,n){var r,i=n+"",o;return function(){var a=Pn(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function i3(t,e,n){var r,i,o;return function(){var a=Pn(this,t),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),Pn(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}function o3(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var c=Ye(this,t),u=c.on,l=c.value[o]==null?s||(s=p1(e)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(a,i=l),c.on=r}}function a3(t,e,n){var r=(t+="")=="transform"?r1:g1;return e==null?this.styleTween(t,n3(t,r)).on("end.style."+t,p1(t)):typeof e=="function"?this.styleTween(t,i3(t,r,$u(this,"style."+t,e))).each(o3(this._id,t)):this.styleTween(t,r3(t,r,e),n).on("end.style."+t,null)}function s3(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function c3(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&s3(t,a,n)),r}return o._value=e,o}function u3(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,c3(t,e,n??""))}function l3(t){return function(){this.textContent=t}}function f3(t){return function(){var e=t(this);this.textContent=e??""}}function h3(t){return this.tween("text",typeof t=="function"?f3($u(this,"text",t)):l3(t==null?"":t+""))}function d3(t){return function(e){this.textContent=t.call(this,e)}}function g3(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&d3(i)),e}return r._value=t,r}function p3(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,g3(t))}function m3(){for(var t=this._name,e=this._id,n=y1(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)if(c=a[u]){var l=Ce(c,e);Oa(c,t,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Fe(r,this._parents,t,n)}function y3(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var u=Ye(this,r),l=u.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),u.on=e}),i===0&&o()})}var _3=0;function Fe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function m1(t){return Vn().transition(t)}function y1(){return++_3}var He=Vn.prototype;Fe.prototype=m1.prototype={constructor:Fe,select:Qw,selectAll:Jw,selectChild:He.selectChild,selectChildren:He.selectChildren,filter:Hw,merge:Vw,selection:e3,transition:m3,call:He.call,nodes:He.nodes,node:He.node,size:He.size,empty:He.empty,each:He.each,on:Xw,attr:Aw,attrTween:Pw,style:a3,styleTween:u3,text:h3,textTween:p3,remove:Zw,tween:xw,delay:Ow,duration:Uw,ease:qw,easeVarying:Gw,end:y3,[Symbol.iterator]:He[Symbol.iterator]};const b3=t=>+t;function v3(t){return t*t}function w3(t){return t*(2-t)}function $f(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function x3(t){return t*t*t}function M3(t){return--t*t*t+1}function yc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tu=3,k3=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(Tu),S3=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(Tu),Tf=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(Tu),_1=Math.PI,b1=_1/2;function E3(t){return+t==1?1:1-Math.cos(t*b1)}function $3(t){return Math.sin(t*b1)}function Af(t){return(1-Math.cos(_1*t))/2}function hn(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function T3(t){return hn(1-+t)}function A3(t){return 1-hn(t)}function Nf(t){return((t*=2)<=1?hn(1-t):2-hn(t-1))/2}function N3(t){return 1-Math.sqrt(1-t*t)}function C3(t){return Math.sqrt(1- --t*t)}function Cf(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var _c=4/11,I3=6/11,R3=8/11,P3=3/4,D3=9/11,z3=10/11,O3=15/16,L3=21/22,F3=63/64,Vi=1/_c/_c;function U3(t){return 1-vi(1-t)}function vi(t){return(t=+t)<_c?Vi*t*t:t<R3?Vi*(t-=I3)*t+P3:t<z3?Vi*(t-=D3)*t+O3:Vi*(t-=L3)*t+F3}function B3(t){return((t*=2)<=1?1-vi(1-t):vi(t-1)+1)/2}var Au=1.70158,q3=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(Au),Y3=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(Au),If=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(Au),br=2*Math.PI,Nu=1,Cu=.3,G3=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=br);function i(o){return e*hn(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return t(o,n*br)},i.period=function(o){return t(e,o)},i}(Nu,Cu),Rf=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=br);function i(o){return 1-e*hn(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return t(o,n*br)},i.period=function(o){return t(e,o)},i}(Nu,Cu),H3=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=br);function i(o){return((o=o*2-1)<0?e*hn(-o)*Math.sin((r-o)/n):2-e*hn(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return t(o,n*br)},i.period=function(o){return t(e,o)},i}(Nu,Cu),V3={time:null,delay:0,duration:250,ease:yc};function j3(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function W3(t){var e,n;t instanceof Fe?(e=t._id,t=t._name):(e=y1(),(n=V3).time=Ni(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&Oa(c,t,e,u,a,n||j3(c,e));return new Fe(r,this._parents,t,e)}Vn.prototype.interrupt=bw;Vn.prototype.transition=W3;var X3=[null];function K3(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>gc&&r.name===e)return new Fe([[t]],X3,e,+i)}return null}const Ms=t=>()=>t;function Z3(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Q3(t){t.stopImmediatePropagation()}function ks(t){t.preventDefault(),t.stopImmediatePropagation()}var Pf={name:"drag"},Ss={name:"space"},Zn={name:"handle"},Qn={name:"center"};const{abs:Df,max:Lt,min:Ft}=Math;function zf(t){return[+t[0],+t[1]]}function bc(t){return[zf(t[0]),zf(t[1])]}var yo={name:"x",handles:["w","e"].map(wi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},_o={name:"y",handles:["n","s"].map(wi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},J3={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(wi),input:function(t){return t==null?null:bc(t)},output:function(t){return t}},Ve={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Of={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Lf={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},t6={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},e6={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function wi(t){return{type:t}}function n6(t){return!t.ctrlKey&&!t.button}function r6(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function i6(){return navigator.maxTouchPoints||"ontouchstart"in this}function Es(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function o6(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function a6(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function s6(){return Iu(yo)}function c6(){return Iu(_o)}function u6(){return Iu(J3)}function Iu(t){var e=r6,n=n6,r=i6,i=!0,o=Hn("start","brush","end"),a=6,s;function c(m){var y=m.property("__brush",p).selectAll(".overlay").data([wi("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ve.overlay).merge(y).each(function(){var v=Es(this).extent;Yt(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),m.selectAll(".selection").data([wi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ve.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=m.selectAll(".handle").data(t.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Ve[v.type]}),m.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(m,y,_){m.tween?m.on("start.brush",function(v){l(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){l(this,arguments).end(v)}).tween("brush",function(){var v=this,b=v.__brush,w=l(v,arguments),x=b.selection,E=t.input(typeof y=="function"?y.apply(this,arguments):y,b.extent),$=mn(x,E);function I(S){b.selection=S===1&&E===null?null:$(S),u.call(v),w.brush()}return x!==null&&E!==null?I:I(1)}):m.each(function(){var v=this,b=arguments,w=v.__brush,x=t.input(typeof y=="function"?y.apply(v,b):y,w.extent),E=l(v,b).beforestart();Tn(v),w.selection=x===null?null:x,u.call(v),E.start(_).brush(_).end(_)})},c.clear=function(m,y){c.move(m,null,y)};function u(){var m=Yt(this),y=Es(this).selection;y?(m.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?y[1][0]-a/2:y[0][0]-a/2}).attr("y",function(_){return _.type[0]==="s"?y[1][1]-a/2:y[0][1]-a/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?y[1][0]-y[0][0]+a:a}).attr("height",function(_){return _.type==="e"||_.type==="w"?y[1][1]-y[0][1]+a:a})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(m,y,_){var v=m.__brush.emitter;return v&&(!_||!v.clean)?v:new h(m,y,_)}function h(m,y,_){this.that=m,this.args=y,this.state=m.__brush,this.active=0,this.clean=_}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,y){return this.starting?(this.starting=!1,this.emit("start",m,y)):this.emit("brush",m),this},brush:function(m,y){return this.emit("brush",m,y),this},end:function(m,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,y)),this},emit:function(m,y,_){var v=Yt(this.that).datum();o.call(m,this.that,new Z3(m,{sourceEvent:y,target:c,selection:t.output(this.state.selection),mode:_,dispatch:o}),v)}};function f(m){if(s&&!m.touches||!n.apply(this,arguments))return;var y=this,_=m.target.__data__.type,v=(i&&m.metaKey?_="overlay":_)==="selection"?Pf:i&&m.altKey?Qn:Zn,b=t===_o?null:t6[_],w=t===yo?null:e6[_],x=Es(y),E=x.extent,$=x.selection,I=E[0][0],S,M,C=E[0][1],T,k,A=E[1][0],N,R,D=E[1][1],P,B,q=0,O=0,K,it=b&&w&&i&&m.shiftKey,rt,Q,j=Array.from(m.touches||[m],et=>{const $t=et.identifier;return et=he(et,y),et.point0=et.slice(),et.identifier=$t,et});Tn(y);var gt=l(y,arguments,!0).beforestart();if(_==="overlay"){$&&(K=!0);const et=[j[0],j[1]||j[0]];x.selection=$=[[S=t===_o?I:Ft(et[0][0],et[1][0]),T=t===yo?C:Ft(et[0][1],et[1][1])],[N=t===_o?A:Lt(et[0][0],et[1][0]),P=t===yo?D:Lt(et[0][1],et[1][1])]],j.length>1&&xt(m)}else S=$[0][0],T=$[0][1],N=$[1][0],P=$[1][1];M=S,k=T,R=N,B=P;var Y=Yt(y).attr("pointer-events","none"),nt=Y.selectAll(".overlay").attr("cursor",Ve[_]);if(m.touches)gt.moved=F,gt.ended=bt;else{var at=Yt(m.view).on("mousemove.brush",F,!0).on("mouseup.brush",bt,!0);i&&at.on("keydown.brush",Ht,!0).on("keyup.brush",Vt,!0),Ta(m.view)}u.call(y),gt.start(m,v.name);function F(et){for(const $t of et.changedTouches||[et])for(const Pr of j)Pr.identifier===$t.identifier&&(Pr.cur=he($t,y));if(it&&!rt&&!Q&&j.length===1){const $t=j[0];Df($t.cur[0]-$t[0])>Df($t.cur[1]-$t[1])?Q=!0:rt=!0}for(const $t of j)$t.cur&&($t[0]=$t.cur[0],$t[1]=$t.cur[1]);K=!0,ks(et),xt(et)}function xt(et){const $t=j[0],Pr=$t.point0;var rn;switch(q=$t[0]-Pr[0],O=$t[1]-Pr[1],v){case Ss:case Pf:{b&&(q=Lt(I-S,Ft(A-N,q)),M=S+q,R=N+q),w&&(O=Lt(C-T,Ft(D-P,O)),k=T+O,B=P+O);break}case Zn:{j[1]?(b&&(M=Lt(I,Ft(A,j[0][0])),R=Lt(I,Ft(A,j[1][0])),b=1),w&&(k=Lt(C,Ft(D,j[0][1])),B=Lt(C,Ft(D,j[1][1])),w=1)):(b<0?(q=Lt(I-S,Ft(A-S,q)),M=S+q,R=N):b>0&&(q=Lt(I-N,Ft(A-N,q)),M=S,R=N+q),w<0?(O=Lt(C-T,Ft(D-T,O)),k=T+O,B=P):w>0&&(O=Lt(C-P,Ft(D-P,O)),k=T,B=P+O));break}case Qn:{b&&(M=Lt(I,Ft(A,S-q*b)),R=Lt(I,Ft(A,N+q*b))),w&&(k=Lt(C,Ft(D,T-O*w)),B=Lt(C,Ft(D,P+O*w)));break}}R<M&&(b*=-1,rn=S,S=N,N=rn,rn=M,M=R,R=rn,_ in Of&&nt.attr("cursor",Ve[_=Of[_]])),B<k&&(w*=-1,rn=T,T=P,P=rn,rn=k,k=B,B=rn,_ in Lf&&nt.attr("cursor",Ve[_=Lf[_]])),x.selection&&($=x.selection),rt&&(M=$[0][0],R=$[1][0]),Q&&(k=$[0][1],B=$[1][1]),($[0][0]!==M||$[0][1]!==k||$[1][0]!==R||$[1][1]!==B)&&(x.selection=[[M,k],[R,B]],u.call(y),gt.brush(et,v.name))}function bt(et){if(Q3(et),et.touches){if(et.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else Aa(et.view,K),at.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Y.attr("pointer-events","all"),nt.attr("cursor",Ve.overlay),x.selection&&($=x.selection),o6($)&&(x.selection=null,u.call(y)),gt.end(et,v.name)}function Ht(et){switch(et.keyCode){case 16:{it=b&&w;break}case 18:{v===Zn&&(b&&(N=R-q*b,S=M+q*b),w&&(P=B-O*w,T=k+O*w),v=Qn,xt(et));break}case 32:{(v===Zn||v===Qn)&&(b<0?N=R-q:b>0&&(S=M-q),w<0?P=B-O:w>0&&(T=k-O),v=Ss,nt.attr("cursor",Ve.selection),xt(et));break}default:return}ks(et)}function Vt(et){switch(et.keyCode){case 16:{it&&(rt=Q=it=!1,xt(et));break}case 18:{v===Qn&&(b<0?N=R:b>0&&(S=M),w<0?P=B:w>0&&(T=k),v=Zn,xt(et));break}case 32:{v===Ss&&(et.altKey?(b&&(N=R-q*b,S=M+q*b),w&&(P=B-O*w,T=k+O*w),v=Qn):(b<0?N=R:b>0&&(S=M),w<0?P=B:w>0&&(T=k),v=Zn),nt.attr("cursor",Ve[_]),xt(et));break}default:return}ks(et)}}function d(m){l(this,arguments).moved(m)}function g(m){l(this,arguments).ended(m)}function p(){var m=this.__brush||{selection:null};return m.extent=bc(e.apply(this,arguments)),m.dim=t,m}return c.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Ms(bc(m)),c):e},c.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Ms(!!m),c):n},c.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Ms(!!m),c):r},c.handleSize=function(m){return arguments.length?(a=+m,c):a},c.keyModifiers=function(m){return arguments.length?(i=!!m,c):i},c.on=function(){var m=o.on.apply(o,arguments);return m===o?c:m},c}var Ff=Math.abs,Jn=Math.cos,tr=Math.sin,v1=Math.PI,ji=v1/2,Uf=v1*2,Bf=Math.max,$s=1e-12;function Ts(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function l6(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function f6(){return Ru(!1,!1)}function h6(){return Ru(!1,!0)}function d6(){return Ru(!0,!1)}function Ru(t,e){var n=0,r=null,i=null,o=null;function a(s){var c=s.length,u=new Array(c),l=Ts(0,c),h=new Array(c*c),f=new Array(c),d=0,g;s=Float64Array.from({length:c*c},e?(p,m)=>s[m%c][m/c|0]:(p,m)=>s[m/c|0][m%c]);for(let p=0;p<c;++p){let m=0;for(let y=0;y<c;++y)m+=s[p*c+y]+t*s[y*c+p];d+=u[p]=m}d=Bf(0,Uf-n*c)/d,g=d?n:Uf/c;{let p=0;r&&l.sort((m,y)=>r(u[m],u[y]));for(const m of l){const y=p;if(t){const _=Ts(~c+1,c).filter(v=>v<0?s[~v*c+m]:s[m*c+v]);i&&_.sort((v,b)=>i(v<0?-s[~v*c+m]:s[m*c+v],b<0?-s[~b*c+m]:s[m*c+b]));for(const v of _)if(v<0){const b=h[~v*c+m]||(h[~v*c+m]={source:null,target:null});b.target={index:m,startAngle:p,endAngle:p+=s[~v*c+m]*d,value:s[~v*c+m]}}else{const b=h[m*c+v]||(h[m*c+v]={source:null,target:null});b.source={index:m,startAngle:p,endAngle:p+=s[m*c+v]*d,value:s[m*c+v]}}f[m]={index:m,startAngle:y,endAngle:p,value:u[m]}}else{const _=Ts(0,c).filter(v=>s[m*c+v]||s[v*c+m]);i&&_.sort((v,b)=>i(s[m*c+v],s[m*c+b]));for(const v of _){let b;if(m<v?(b=h[m*c+v]||(h[m*c+v]={source:null,target:null}),b.source={index:m,startAngle:p,endAngle:p+=s[m*c+v]*d,value:s[m*c+v]}):(b=h[v*c+m]||(h[v*c+m]={source:null,target:null}),b.target={index:m,startAngle:p,endAngle:p+=s[m*c+v]*d,value:s[m*c+v]},m===v&&(b.source=b.target)),b.source&&b.target&&b.source.value<b.target.value){const w=b.source;b.source=b.target,b.target=w}}f[m]={index:m,startAngle:y,endAngle:p,value:u[m]}}p+=g}}return h=Object.values(h),h.groups=f,o?h.sort(o):h}return a.padAngle=function(s){return arguments.length?(n=Bf(0,s),a):n},a.sortGroups=function(s){return arguments.length?(r=s,a):r},a.sortSubgroups=function(s){return arguments.length?(i=s,a):i},a.sortChords=function(s){return arguments.length?(s==null?o=null:(o=l6(s))._=s,a):o&&o._},a}const vc=Math.PI,wc=2*vc,wn=1e-6,g6=wc-wn;function w1(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function p6(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w1;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Ci=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w1:p6(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=r-e,u=i-n,l=a-e,h=s-n,f=l*l+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>wn)if(!(Math.abs(h*c-u*l)>wn)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,g=i-s,p=c*c+u*u,m=d*d+g*g,y=Math.sqrt(p),_=Math.sqrt(f),v=o*Math.tan((vc-Math.acos((p+f-m)/(2*y*_)))/2),b=v/_,w=v/y;Math.abs(b-1)>wn&&this._append`L${e+b*l},${n+b*h}`,this._append`A${o},${o},0,0,${+(h*d>l*g)},${this._x1=e+w*c},${this._y1=n+w*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=e+s,l=n+c,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>wn||Math.abs(this._y1-l)>wn)&&this._append`L${u},${l}`,r&&(f<0&&(f=f%wc+wc),f>g6?this._append`A${r},${r},0,1,${h},${e-s},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=l}`:f>wn&&this._append`A${r},${r},0,${+(f>=vc)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Pu(){return new Ci}Pu.prototype=Ci.prototype;function m6(t=3){return new Ci(+t)}var y6=Array.prototype.slice;function bn(t){return function(){return t}}function _6(t){return t.source}function b6(t){return t.target}function qf(t){return t.radius}function v6(t){return t.startAngle}function w6(t){return t.endAngle}function x6(){return 0}function M6(){return 10}function x1(t){var e=_6,n=b6,r=qf,i=qf,o=v6,a=w6,s=x6,c=null;function u(){var l,h=e.apply(this,arguments),f=n.apply(this,arguments),d=s.apply(this,arguments)/2,g=y6.call(arguments),p=+r.apply(this,(g[0]=h,g)),m=o.apply(this,g)-ji,y=a.apply(this,g)-ji,_=+i.apply(this,(g[0]=f,g)),v=o.apply(this,g)-ji,b=a.apply(this,g)-ji;if(c||(c=l=Pu()),d>$s&&(Ff(y-m)>d*2+$s?y>m?(m+=d,y-=d):(m-=d,y+=d):m=y=(m+y)/2,Ff(b-v)>d*2+$s?b>v?(v+=d,b-=d):(v-=d,b+=d):v=b=(v+b)/2),c.moveTo(p*Jn(m),p*tr(m)),c.arc(0,0,p,m,y),m!==v||y!==b)if(t){var w=+t.apply(this,arguments),x=_-w,E=(v+b)/2;c.quadraticCurveTo(0,0,x*Jn(v),x*tr(v)),c.lineTo(_*Jn(E),_*tr(E)),c.lineTo(x*Jn(b),x*tr(b))}else c.quadraticCurveTo(0,0,_*Jn(v),_*tr(v)),c.arc(0,0,_,v,b);if(c.quadraticCurveTo(0,0,p*Jn(m),p*tr(m)),c.closePath(),l)return c=null,l+""||null}return t&&(u.headRadius=function(l){return arguments.length?(t=typeof l=="function"?l:bn(+l),u):t}),u.radius=function(l){return arguments.length?(r=i=typeof l=="function"?l:bn(+l),u):r},u.sourceRadius=function(l){return arguments.length?(r=typeof l=="function"?l:bn(+l),u):r},u.targetRadius=function(l){return arguments.length?(i=typeof l=="function"?l:bn(+l),u):i},u.startAngle=function(l){return arguments.length?(o=typeof l=="function"?l:bn(+l),u):o},u.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:bn(+l),u):a},u.padAngle=function(l){return arguments.length?(s=typeof l=="function"?l:bn(+l),u):s},u.source=function(l){return arguments.length?(e=l,u):e},u.target=function(l){return arguments.length?(n=l,u):n},u.context=function(l){return arguments.length?(c=l??null,u):c},u}function k6(){return x1()}function S6(){return x1(M6)}var E6=Array.prototype,M1=E6.slice;function $6(t,e){return t-e}function T6(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}const on=t=>()=>t;function A6(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=N6(t,e[n]))return i;return 0}function N6(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var c=t[o],u=c[0],l=c[1],h=t[s],f=h[0],d=h[1];if(C6(c,h,e))return 0;l>r!=d>r&&n<(f-u)*(r-l)/(d-l)+u&&(i=-i)}return i}function C6(t,e,n){var r;return I6(t,e,n)&&R6(t[r=+(t[0]===e[0])],n[r],e[r])}function I6(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function R6(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function P6(){}var je=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function xc(){var t=1,e=1,n=hu,r=c;function i(u){var l=n(u);if(Array.isArray(l))l=l.slice().sort($6);else{const h=ri(u,D6);for(l=In(...fu(h[0],h[1],l),l);l[l.length-1]>=h[1];)l.pop();for(;l[1]<h[0];)l.shift()}return l.map(h=>o(u,h))}function o(u,l){const h=l==null?NaN:+l;if(isNaN(h))throw new Error(`invalid value: ${l}`);var f=[],d=[];return a(u,h,function(g){r(g,u,h),T6(g)>0?f.push([g]):d.push(g)}),d.forEach(function(g){for(var p=0,m=f.length,y;p<m;++p)if(A6((y=f[p])[0],g)!==-1){y.push(g);return}}),{type:"MultiPolygon",value:l,coordinates:f}}function a(u,l,h){var f=new Array,d=new Array,g,p,m,y,_,v;for(g=p=-1,y=vn(u[0],l),je[y<<1].forEach(b);++g<t-1;)m=y,y=vn(u[g+1],l),je[m|y<<1].forEach(b);for(je[y<<0].forEach(b);++p<e-1;){for(g=-1,y=vn(u[p*t+t],l),_=vn(u[p*t],l),je[y<<1|_<<2].forEach(b);++g<t-1;)m=y,y=vn(u[p*t+t+g+1],l),v=_,_=vn(u[p*t+g+1],l),je[m|y<<1|_<<2|v<<3].forEach(b);je[y|_<<3].forEach(b)}for(g=-1,_=u[p*t]>=l,je[_<<2].forEach(b);++g<t-1;)v=_,_=vn(u[p*t+g+1],l),je[_<<2|v<<3].forEach(b);je[_<<3].forEach(b);function b(w){var x=[w[0][0]+g,w[0][1]+p],E=[w[1][0]+g,w[1][1]+p],$=s(x),I=s(E),S,M;(S=d[$])?(M=f[I])?(delete d[S.end],delete f[M.start],S===M?(S.ring.push(E),h(S.ring)):f[S.start]=d[M.end]={start:S.start,end:M.end,ring:S.ring.concat(M.ring)}):(delete d[S.end],S.ring.push(E),d[S.end=I]=S):(S=f[I])?(M=d[$])?(delete f[S.start],delete d[M.end],S===M?(S.ring.push(E),h(S.ring)):f[M.start]=d[S.end]={start:M.start,end:S.end,ring:M.ring.concat(S.ring)}):(delete f[S.start],S.ring.unshift(x),f[S.start=$]=S):f[$]=d[I]={start:$,end:I,ring:[x,E]}}}function s(u){return u[0]*2+u[1]*(t+1)*4}function c(u,l,h){u.forEach(function(f){var d=f[0],g=f[1],p=d|0,m=g|0,y=As(l[m*t+p]);d>0&&d<t&&p===d&&(f[0]=Yf(d,As(l[m*t+p-1]),y,h)),g>0&&g<e&&m===g&&(f[1]=Yf(g,As(l[(m-1)*t+p]),y,h))})}return i.contour=o,i.size=function(u){if(!arguments.length)return[t,e];var l=Math.floor(u[0]),h=Math.floor(u[1]);if(!(l>=0&&h>=0))throw new Error("invalid size");return t=l,e=h,i},i.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?on(M1.call(u)):on(u),i):n},i.smooth=function(u){return arguments.length?(r=u?c:P6,i):r===c},i}function D6(t){return isFinite(t)?t:NaN}function vn(t,e){return t==null?!1:+t>=e}function As(t){return t==null||isNaN(t=+t)?-1/0:t}function Yf(t,e,n,r){const i=r-e,o=n-e,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?t:t+a-.5}function z6(t){return t[0]}function O6(t){return t[1]}function L6(){return 1}function F6(){var t=z6,e=O6,n=L6,r=960,i=500,o=20,a=2,s=o*3,c=r+s*2>>a,u=i+s*2>>a,l=on(20);function h(_){var v=new Float32Array(c*u),b=Math.pow(2,-a),w=-1;for(const T of _){var x=(t(T,++w,_)+s)*b,E=(e(T,w,_)+s)*b,$=+n(T,w,_);if($&&x>=0&&x<c&&E>=0&&E<u){var I=Math.floor(x),S=Math.floor(E),M=x-I-.5,C=E-S-.5;v[I+S*c]+=(1-M)*(1-C)*$,v[I+1+S*c]+=M*(1-C)*$,v[I+1+(S+1)*c]+=M*C*$,v[I+(S+1)*c]+=(1-M)*C*$}}return rd({data:v,width:c,height:u},o*b),v}function f(_){var v=h(_),b=l(v),w=Math.pow(2,2*a);return Array.isArray(b)||(b=In(Number.MIN_VALUE,hi(v)/w,b)),xc().size([c,u]).thresholds(b.map(x=>x*w))(v).map((x,E)=>(x.value=+b[E],d(x)))}f.contours=function(_){var v=h(_),b=xc().size([c,u]),w=Math.pow(2,2*a),x=E=>{E=+E;var $=d(b.contour(v,E*w));return $.value=E,$};return Object.defineProperty(x,"max",{get:()=>hi(v)/w}),x};function d(_){return _.coordinates.forEach(g),_}function g(_){_.forEach(p)}function p(_){_.forEach(m)}function m(_){_[0]=_[0]*Math.pow(2,a)-s,_[1]=_[1]*Math.pow(2,a)-s}function y(){return s=o*3,c=r+s*2>>a,u=i+s*2>>a,f}return f.x=function(_){return arguments.length?(t=typeof _=="function"?_:on(+_),f):t},f.y=function(_){return arguments.length?(e=typeof _=="function"?_:on(+_),f):e},f.weight=function(_){return arguments.length?(n=typeof _=="function"?_:on(+_),f):n},f.size=function(_){if(!arguments.length)return[r,i];var v=+_[0],b=+_[1];if(!(v>=0&&b>=0))throw new Error("invalid size");return r=v,i=b,y()},f.cellSize=function(_){if(!arguments.length)return 1<<a;if(!((_=+_)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(_)/Math.LN2),y()},f.thresholds=function(_){return arguments.length?(l=typeof _=="function"?_:Array.isArray(_)?on(M1.call(_)):on(_),f):l},f.bandwidth=function(_){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*_*_+1)-1)/2,y()},f}const Je=11102230246251565e-32,Ut=134217729,U6=(3+8*Je)*Je;function Ns(t,e,n,r,i){let o,a,s,c,u=e[0],l=r[0],h=0,f=0;l>u==l>-u?(o=u,u=e[++h]):(o=l,l=r[++f]);let d=0;if(h<t&&f<n)for(l>u==l>-u?(a=u+o,s=o-(a-u),u=e[++h]):(a=l+o,s=o-(a-l),l=r[++f]),o=a,s!==0&&(i[d++]=s);h<t&&f<n;)l>u==l>-u?(a=o+u,c=a-o,s=o-(a-c)+(u-c),u=e[++h]):(a=o+l,c=a-o,s=o-(a-c)+(l-c),l=r[++f]),o=a,s!==0&&(i[d++]=s);for(;h<t;)a=o+u,c=a-o,s=o-(a-c)+(u-c),u=e[++h],o=a,s!==0&&(i[d++]=s);for(;f<n;)a=o+l,c=a-o,s=o-(a-c)+(l-c),l=r[++f],o=a,s!==0&&(i[d++]=s);return(o!==0||d===0)&&(i[d++]=o),d}function B6(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function Ii(t){return new Float64Array(t)}const q6=(3+16*Je)*Je,Y6=(2+12*Je)*Je,G6=(9+64*Je)*Je*Je,er=Ii(4),Gf=Ii(8),Hf=Ii(12),Vf=Ii(16),jt=Ii(4);function H6(t,e,n,r,i,o,a){let s,c,u,l,h,f,d,g,p,m,y,_,v,b,w,x,E,$;const I=t-i,S=n-i,M=e-o,C=r-o;b=I*C,f=Ut*I,d=f-(f-I),g=I-d,f=Ut*C,p=f-(f-C),m=C-p,w=g*m-(b-d*p-g*p-d*m),x=M*S,f=Ut*M,d=f-(f-M),g=M-d,f=Ut*S,p=f-(f-S),m=S-p,E=g*m-(x-d*p-g*p-d*m),y=w-E,h=w-y,er[0]=w-(y+h)+(h-E),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-x,h=v-y,er[1]=v-(y+h)+(h-x),$=_+y,h=$-_,er[2]=_-($-h)+(y-h),er[3]=$;let T=B6(4,er),k=Y6*a;if(T>=k||-T>=k||(h=t-I,s=t-(I+h)+(h-i),h=n-S,u=n-(S+h)+(h-i),h=e-M,c=e-(M+h)+(h-o),h=r-C,l=r-(C+h)+(h-o),s===0&&c===0&&u===0&&l===0)||(k=G6*a+U6*Math.abs(T),T+=I*l+C*s-(M*u+S*c),T>=k||-T>=k))return T;b=s*C,f=Ut*s,d=f-(f-s),g=s-d,f=Ut*C,p=f-(f-C),m=C-p,w=g*m-(b-d*p-g*p-d*m),x=c*S,f=Ut*c,d=f-(f-c),g=c-d,f=Ut*S,p=f-(f-S),m=S-p,E=g*m-(x-d*p-g*p-d*m),y=w-E,h=w-y,jt[0]=w-(y+h)+(h-E),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-x,h=v-y,jt[1]=v-(y+h)+(h-x),$=_+y,h=$-_,jt[2]=_-($-h)+(y-h),jt[3]=$;const A=Ns(4,er,4,jt,Gf);b=I*l,f=Ut*I,d=f-(f-I),g=I-d,f=Ut*l,p=f-(f-l),m=l-p,w=g*m-(b-d*p-g*p-d*m),x=M*u,f=Ut*M,d=f-(f-M),g=M-d,f=Ut*u,p=f-(f-u),m=u-p,E=g*m-(x-d*p-g*p-d*m),y=w-E,h=w-y,jt[0]=w-(y+h)+(h-E),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-x,h=v-y,jt[1]=v-(y+h)+(h-x),$=_+y,h=$-_,jt[2]=_-($-h)+(y-h),jt[3]=$;const N=Ns(A,Gf,4,jt,Hf);b=s*l,f=Ut*s,d=f-(f-s),g=s-d,f=Ut*l,p=f-(f-l),m=l-p,w=g*m-(b-d*p-g*p-d*m),x=c*u,f=Ut*c,d=f-(f-c),g=c-d,f=Ut*u,p=f-(f-u),m=u-p,E=g*m-(x-d*p-g*p-d*m),y=w-E,h=w-y,jt[0]=w-(y+h)+(h-E),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-x,h=v-y,jt[1]=v-(y+h)+(h-x),$=_+y,h=$-_,jt[2]=_-($-h)+(y-h),jt[3]=$;const R=Ns(N,Hf,4,jt,Vf);return Vf[R-1]}function Wi(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),c=a-s;if(a===0||s===0||a>0!=s>0)return c;const u=Math.abs(a+s);return Math.abs(c)>=q6*u?c:-H6(t,e,n,r,i,o,u)}const jf=Math.pow(2,-52),Xi=new Uint32Array(512);class Oo{static from(e,n=K6,r=Z6){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=e[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new Oo(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=e.length>>1;let s=1/0,c=1/0,u=-1/0,l=-1/0;for(let S=0;S<a;S++){const M=e[2*S],C=e[2*S+1];M<s&&(s=M),C<c&&(c=C),M>u&&(u=M),C>l&&(l=C),this._ids[S]=S}const h=(s+u)/2,f=(c+l)/2;let d=1/0,g,p,m;for(let S=0;S<a;S++){const M=Cs(h,f,e[2*S],e[2*S+1]);M<d&&(g=S,d=M)}const y=e[2*g],_=e[2*g+1];d=1/0;for(let S=0;S<a;S++){if(S===g)continue;const M=Cs(y,_,e[2*S],e[2*S+1]);M<d&&M>0&&(p=S,d=M)}let v=e[2*p],b=e[2*p+1],w=1/0;for(let S=0;S<a;S++){if(S===g||S===p)continue;const M=W6(y,_,v,b,e[2*S],e[2*S+1]);M<w&&(m=S,w=M)}let x=e[2*m],E=e[2*m+1];if(w===1/0){for(let C=0;C<a;C++)this._dists[C]=e[2*C]-e[0]||e[2*C+1]-e[1];ar(this._ids,this._dists,0,a-1);const S=new Uint32Array(a);let M=0;for(let C=0,T=-1/0;C<a;C++){const k=this._ids[C];this._dists[k]>T&&(S[M++]=k,T=this._dists[k])}this.hull=S.subarray(0,M),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Wi(y,_,v,b,x,E)<0){const S=p,M=v,C=b;p=m,v=x,b=E,m=S,x=M,E=C}const $=X6(y,_,v,b,x,E);this._cx=$.x,this._cy=$.y;for(let S=0;S<a;S++)this._dists[S]=Cs(e[2*S],e[2*S+1],$.x,$.y);ar(this._ids,this._dists,0,a-1),this._hullStart=g;let I=3;r[g]=n[m]=p,r[p]=n[g]=m,r[m]=n[p]=g,i[g]=0,i[p]=1,i[m]=2,o.fill(-1),o[this._hashKey(y,_)]=g,o[this._hashKey(v,b)]=p,o[this._hashKey(x,E)]=m,this.trianglesLen=0,this._addTriangle(g,p,m,-1,-1,-1);for(let S=0,M,C;S<this._ids.length;S++){const T=this._ids[S],k=e[2*T],A=e[2*T+1];if(S>0&&Math.abs(k-M)<=jf&&Math.abs(A-C)<=jf||(M=k,C=A,T===g||T===p||T===m))continue;let N=0;for(let q=0,O=this._hashKey(k,A);q<this._hashSize&&(N=o[(O+q)%this._hashSize],!(N!==-1&&N!==r[N]));q++);N=n[N];let R=N,D;for(;D=r[R],Wi(k,A,e[2*R],e[2*R+1],e[2*D],e[2*D+1])>=0;)if(R=D,R===N){R=-1;break}if(R===-1)continue;let P=this._addTriangle(R,T,r[R],-1,-1,i[R]);i[T]=this._legalize(P+2),i[R]=P,I++;let B=r[R];for(;D=r[B],Wi(k,A,e[2*B],e[2*B+1],e[2*D],e[2*D+1])<0;)P=this._addTriangle(B,T,D,i[T],-1,i[B]),i[T]=this._legalize(P+2),r[B]=B,I--,B=D;if(R===N)for(;D=n[R],Wi(k,A,e[2*D],e[2*D+1],e[2*R],e[2*R+1])<0;)P=this._addTriangle(D,T,R,-1,i[R],i[D]),this._legalize(P+2),i[D]=P,r[R]=R,I--,R=D;this._hullStart=n[T]=R,r[R]=n[B]=T,r[T]=B,o[this._hashKey(k,A)]=T,o[this._hashKey(e[2*R],e[2*R+1])]=R}this.hull=new Uint32Array(I);for(let S=0,M=this._hullStart;S<I;S++)this.hull[S]=M,M=r[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(V6(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[e],c=e-e%3;if(a=c+(e+2)%3,s===-1){if(o===0)break;e=Xi[--o];continue}const u=s-s%3,l=c+(e+1)%3,h=u+(s+2)%3,f=n[a],d=n[e],g=n[l],p=n[h];if(j6(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*g],i[2*g+1],i[2*p],i[2*p+1])){n[e]=p,n[s]=f;const y=r[h];if(y===-1){let v=this._hullStart;do{if(this._hullTri[v]===h){this._hullTri[v]=e;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(e,y),this._link(s,r[a]),this._link(a,h);const _=u+(s+1)%3;o<Xi.length&&(Xi[o++]=_)}else{if(o===0)break;e=Xi[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function V6(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function Cs(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function j6(t,e,n,r,i,o,a,s){const c=t-a,u=e-s,l=n-a,h=r-s,f=i-a,d=o-s,g=c*c+u*u,p=l*l+h*h,m=f*f+d*d;return c*(h*m-p*d)-u*(l*m-p*f)+g*(l*d-h*f)<0}function W6(t,e,n,r,i,o){const a=n-t,s=r-e,c=i-t,u=o-e,l=a*a+s*s,h=c*c+u*u,f=.5/(a*u-s*c),d=(u*l-s*h)*f,g=(a*h-c*l)*f;return d*d+g*g}function X6(t,e,n,r,i,o){const a=n-t,s=r-e,c=i-t,u=o-e,l=a*a+s*s,h=c*c+u*u,f=.5/(a*u-s*c),d=t+(u*l-s*h)*f,g=e+(a*h-c*l)*f;return{x:d,y:g}}function ar(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=t[i],a=e[o];let s=i-1;for(;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const i=n+r>>1;let o=n+1,a=r;Fr(t,i,o),e[t[n]]>e[t[r]]&&Fr(t,n,r),e[t[o]]>e[t[r]]&&Fr(t,o,r),e[t[n]]>e[t[o]]&&Fr(t,n,o);const s=t[o],c=e[s];for(;;){do o++;while(e[t[o]]<c);do a--;while(e[t[a]]>c);if(a<o)break;Fr(t,o,a)}t[n+1]=t[a],t[a]=s,r-o+1>=a-n?(ar(t,e,o,r),ar(t,e,n,a-1)):(ar(t,e,n,a-1),ar(t,e,o,r))}}function Fr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function K6(t){return t[0]}function Z6(t){return t[1]}const Wf=1e-6;class Sn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Wf||Math.abs(this._y1-o)>Wf)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Mc{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class k1{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let p=0,m=0,y=r.length,_,v;p<y;p+=3,m+=2){const b=r[p]*2,w=r[p+1]*2,x=r[p+2]*2,E=e[b],$=e[b+1],I=e[w],S=e[w+1],M=e[x],C=e[x+1],T=I-E,k=S-$,A=M-E,N=C-$,R=(T*N-k*A)*2;if(Math.abs(R)<1e-9){if(o===void 0){o=a=0;for(const P of n)o+=e[P*2],a+=e[P*2+1];o/=n.length,a/=n.length}const D=1e9*Math.sign((o-E)*N-(a-$)*A);_=(E+M)/2-D*N,v=($+C)/2+D*A}else{const D=1/R,P=T*T+k*k,B=A*A+N*N;_=E+(N*P-k*B)*D,v=$+(T*B-A*P)*D}s[m]=_,s[m+1]=v}let c=n[n.length-1],u,l=c*4,h,f=e[2*c],d,g=e[2*c+1];i.fill(0);for(let p=0;p<n.length;++p)c=n[p],u=l,h=f,d=g,l=c*4,f=e[2*c],g=e[2*c+1],i[u+2]=i[l]=d-g,i[u+3]=i[l+1]=f-h}render(e){const n=e==null?e=new Sn:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let l=0,h=r.length;l<h;++l){const f=r[l];if(f<l)continue;const d=Math.floor(l/3)*2,g=Math.floor(f/3)*2,p=a[d],m=a[d+1],y=a[g],_=a[g+1];this._renderSegment(p,m,y,_,e)}let c,u=o[o.length-1];for(let l=0;l<o.length;++l){c=u,u=o[l];const h=Math.floor(i[u]/3)*2,f=a[h],d=a[h+1],g=c*4,p=this._project(f,d,s[g+2],s[g+3]);p&&this._renderSegment(f,d,p[0],p[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new Sn:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new Sn:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new Mc;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let a;const s=this._regioncode(e,n),c=this._regioncode(r,i);s===0&&c===0?(o.moveTo(e,n),o.lineTo(r,i)):(a=this._clipSegment(e,n,r,i,s,c))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){t:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,c=i.length;s<c;s+=2)if(n[o]===i[s]&&n[o+1]===i[s+1]&&n[(o+2)%a]===i[(s+c-2)%c]&&n[(o+3)%a]===i[(s+c-1)%c]){yield r;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[e];if(a===-1)return null;const s=[];let c=a;do{const u=Math.floor(c/3);if(s.push(n[u*2],n[u*2+1]),c=c%3===2?c-2:c+1,o[c]!==e)break;c=i[c]}while(c!==a&&c!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,o,a,s=n[r-2],c=n[r-1],u,l=this._regioncode(s,c),h,f=0;for(let d=0;d<r;d+=2)if(o=s,a=c,s=n[d],c=n[d+1],u=l,l=this._regioncode(s,c),u===0&&l===0)h=f,f=0,i?i.push(s,c):i=[s,c];else{let g,p,m,y,_;if(u===0){if((g=this._clipSegment(o,a,s,c,u,l))===null)continue;[p,m,y,_]=g}else{if((g=this._clipSegment(s,c,o,a,l,u))===null)continue;[y,_,p,m]=g,h=f,f=this._edgecode(p,m),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(p,m):i=[p,m]}h=f,f=this._edgecode(y,_),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(y,_):i=[y,_]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(e,h,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,a){const s=o<a;for(s&&([e,n,r,i,o,a]=[r,i,e,n,a,o]);;){if(o===0&&a===0)return s?[r,i,e,n]:[e,n,r,i];if(o&a)return null;let c,u,l=o||a;l&8?(c=e+(r-e)*(this.ymax-n)/(i-n),u=this.ymax):l&4?(c=e+(r-e)*(this.ymin-n)/(i-n),u=this.ymin):l&2?(u=n+(i-n)*(this.xmax-e)/(r-e),c=this.xmax):(u=n+(i-n)*(this.xmin-e)/(r-e),c=this.xmin),o?(e=c,n=u,o=this._regioncode(e,n)):(r=c,i=u,a=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,a){let s=Array.from(n),c;if((c=this._project(s[0],s[1],r,i))&&s.unshift(c[0],c[1]),(c=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(c[0],c[1]),s=this._clipFinite(e,s))for(let u=0,l=s.length,h,f=this._edgecode(s[l-2],s[l-1]);u<l;u+=2)h=f,f=this._edgecode(s[u],s[u+1]),h&&f&&(u=this._edge(e,h,f,s,u),l=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,o){for(;n!==r;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(e,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(e,n,r,i){let o=1/0,a,s,c;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(c=this.ymin,s=e+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(c=this.ymax,s=e+(o=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<o&&(s=this.xmax,c=n+(o=a)*i)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<o&&(s=this.xmin,c=n+(o=a)*i)}return[s,c]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const Q6=2*Math.PI,nr=Math.pow;function J6(t){return t[0]}function t5(t){return t[1]}function e5(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function n5(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Du{static from(e,n=J6,r=t5,i){return new Du("length"in e?r5(e,n,r,i):Float64Array.from(i5(e,n,r,i)))}constructor(e){this._delaunator=new Oo(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&e5(e)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const c=this.collinear[0],u=this.collinear[this.collinear.length-1],l=[n[2*c],n[2*c+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(l[3]-l[1],l[2]-l[0]);for(let f=0,d=n.length/2;f<d;++f){const g=n5(n[2*f],n[2*f+1],h);n[2*f]=g[0],n[2*f+1]=g[1]}this._delaunator=new Oo(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let c=0,u=r.length;c<u;++c){const l=o[c%3===2?c-2:c+1];(r[c]===-1||a[l]===-1)&&(a[l]=c)}for(let c=0,u=i.length;c<u;++c)s[i[c]]=c;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new k1(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const h=s.indexOf(e);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}const c=n[e];if(c===-1)return;let u=c,l=-1;do{if(yield l=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=o[u],u===-1){const h=r[(i[e]+1)%r.length];h!==l&&(yield h);return}}while(u!==c)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:c,points:u}=this;if(i[e]===-1||!u.length)return(e+1)%(u.length>>1);let l=e,h=nr(n-u[e*2],2)+nr(r-u[e*2+1],2);const f=i[e];let d=f;do{let g=c[d];const p=nr(n-u[g*2],2)+nr(r-u[g*2+1],2);if(p<h&&(h=p,l=g),d=d%3===2?d-2:d+1,c[d]!==e)break;if(d=s[d],d===-1){if(d=o[(a[e]+1)%o.length],d!==g&&nr(n-u[d*2],2)+nr(r-u[d*2+1],2)<h)return d;break}}while(d!==f);return l}render(e){const n=e==null?e=new Sn:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const c=i[a];if(c<a)continue;const u=o[a]*2,l=o[c]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[l],r[l+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new Sn:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],c=i[o+1];e.moveTo(s+n,c),e.arc(s,c,n,0,Q6)}return r&&r.value()}renderHull(e){const n=e==null?e=new Sn:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;e.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const c=2*r[s];e.lineTo(i[c],i[c+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new Mc;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new Sn:void 0,{points:i,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,c=o[e+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[c],i[c+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new Mc;return this.renderTriangle(e,n),n.value()}}function r5(t,e,n,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=t[a];o[a*2]=e.call(r,s,a,t),o[a*2+1]=n.call(r,s,a,t)}return o}function*i5(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}function o5(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,a=n.length,s,c=0,u=0;for(o=0;o<a;++o)s=n[o],c+=s.x,u+=s.y;for(c=(c/a-t)*r,u=(u/a-e)*r,o=0;o<a;++o)s=n[o],s.x-=c,s.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function a5(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return S1(this.cover(e,n),e,n,t)}function S1(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,a={data:r},s=t._x0,c=t._y0,u=t._x1,l=t._y1,h,f,d,g,p,m,y,_;if(!o)return t._root=a,t;for(;o.length;)if((p=e>=(h=(s+u)/2))?s=h:u=h,(m=n>=(f=(c+l)/2))?c=f:l=f,i=o,!(o=o[y=m<<1|p]))return i[y]=a,t;if(d=+t._x.call(null,o.data),g=+t._y.call(null,o.data),e===d&&n===g)return a.next=o,i?i[y]=a:t._root=a,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(p=e>=(h=(s+u)/2))?s=h:u=h,(m=n>=(f=(c+l)/2))?c=f:l=f;while((y=m<<1|p)===(_=(g>=f)<<1|d>=h));return i[_]=o,i[y]=a,t}function s5(t){var e,n,r=t.length,i,o,a=new Array(r),s=new Array(r),c=1/0,u=1/0,l=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=i,s[n]=o,i<c&&(c=i),i>l&&(l=i),o<u&&(u=o),o>h&&(h=o));if(c>l||u>h)return this;for(this.cover(c,u).cover(l,h),n=0;n<r;++n)S1(this,a[n],s[n],t[n]);return this}function c5(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a=i-n||1,s=this._root,c,u;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,c=new Array(4),c[u]=s,s=c,a*=2,u){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function u5(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function l5(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Zt(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function f5(t,e,n){var r,i=this._x0,o=this._y0,a,s,c,u,l=this._x1,h=this._y1,f=[],d=this._root,g,p;for(d&&f.push(new Zt(d,i,o,l,h)),n==null?n=1/0:(i=t-n,o=e-n,l=t+n,h=e+n,n*=n);g=f.pop();)if(!(!(d=g.node)||(a=g.x0)>l||(s=g.y0)>h||(c=g.x1)<i||(u=g.y1)<o))if(d.length){var m=(a+c)/2,y=(s+u)/2;f.push(new Zt(d[3],m,y,c,u),new Zt(d[2],a,y,m,u),new Zt(d[1],m,s,c,y),new Zt(d[0],a,s,m,y)),(p=(e>=y)<<1|t>=m)&&(g=f[f.length-1],f[f.length-1]=f[f.length-1-p],f[f.length-1-p]=g)}else{var _=t-+this._x.call(null,d.data),v=e-+this._y.call(null,d.data),b=_*_+v*v;if(b<n){var w=Math.sqrt(n=b);i=t-w,o=e-w,l=t+w,h=e+w,r=d.data}}return r}function h5(t){if(isNaN(l=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,s=this._y0,c=this._x1,u=this._y1,l,h,f,d,g,p,m,y;if(!n)return this;if(n.length)for(;;){if((g=l>=(f=(a+c)/2))?a=f:c=f,(p=h>=(d=(s+u)/2))?s=d:u=d,e=n,!(n=n[m=p<<1|g]))return this;if(!n.length)break;(e[m+1&3]||e[m+2&3]||e[m+3&3])&&(r=e,y=m)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[m]=o:delete e[m],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function d5(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function g5(){return this._root}function p5(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function m5(t){var e=[],n,r=this._root,i,o,a,s,c;for(r&&e.push(new Zt(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,s=n.x1,c=n.y1)&&r.length){var u=(o+s)/2,l=(a+c)/2;(i=r[3])&&e.push(new Zt(i,u,l,s,c)),(i=r[2])&&e.push(new Zt(i,o,l,u,c)),(i=r[1])&&e.push(new Zt(i,u,a,s,l)),(i=r[0])&&e.push(new Zt(i,o,a,u,l))}return this}function y5(t){var e=[],n=[],r;for(this._root&&e.push(new Zt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,c=r.x1,u=r.y1,l=(a+c)/2,h=(s+u)/2;(o=i[0])&&e.push(new Zt(o,a,s,l,h)),(o=i[1])&&e.push(new Zt(o,l,s,c,h)),(o=i[2])&&e.push(new Zt(o,a,h,l,u)),(o=i[3])&&e.push(new Zt(o,l,h,c,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function _5(t){return t[0]}function b5(t){return arguments.length?(this._x=t,this):this._x}function v5(t){return t[1]}function w5(t){return arguments.length?(this._y=t,this):this._y}function La(t,e,n){var r=new zu(e??_5,n??v5,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function zu(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Xf(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var se=La.prototype=zu.prototype;se.copy=function(){var t=new zu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Xf(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Xf(r));return t};se.add=a5;se.addAll=s5;se.cover=c5;se.data=u5;se.extent=l5;se.find=f5;se.remove=h5;se.removeAll=d5;se.root=g5;se.size=p5;se.visit=m5;se.visitAfter=y5;se.x=b5;se.y=w5;function Ct(t){return function(){return t}}function un(t){return(t()-.5)*1e-6}function x5(t){return t.x+t.vx}function M5(t){return t.y+t.vy}function Ou(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=Ct(t==null?1:+t));function a(){for(var u,l=e.length,h,f,d,g,p,m,y=0;y<o;++y)for(h=La(e,x5,M5).visitAfter(s),u=0;u<l;++u)f=e[u],p=n[f.index],m=p*p,d=f.x+f.vx,g=f.y+f.vy,h.visit(_);function _(v,b,w,x,E){var $=v.data,I=v.r,S=p+I;if($){if($.index>f.index){var M=d-$.x-$.vx,C=g-$.y-$.vy,T=M*M+C*C;T<S*S&&(M===0&&(M=un(r),T+=M*M),C===0&&(C=un(r),T+=C*C),T=(S-(T=Math.sqrt(T)))/T*i,f.vx+=(M*=T)*(S=(I*=I)/(m+I)),f.vy+=(C*=T)*S,$.vx-=M*(S=1-S),$.vy-=C*S)}return}return b>d+S||x<d-S||w>g+S||E<g-S}}function s(u){if(u.data)return u.r=n[u.data.index];for(var l=u.r=0;l<4;++l)u[l]&&u[l].r>u.r&&(u.r=u[l].r)}function c(){if(e){var u,l=e.length,h;for(n=new Array(l),u=0;u<l;++u)h=e[u],n[h.index]=+t(h,u,e)}}return a.initialize=function(u,l){e=u,r=l,c()},a.iterations=function(u){return arguments.length?(o=+u,a):o},a.strength=function(u){return arguments.length?(i=+u,a):i},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(+u),c(),a):t},a}function k5(t){return t.index}function Kf(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function S5(t){var e=k5,n=h,r,i=Ct(30),o,a,s,c,u,l=1;t==null&&(t=[]);function h(m){return 1/Math.min(s[m.source.index],s[m.target.index])}function f(m){for(var y=0,_=t.length;y<l;++y)for(var v=0,b,w,x,E,$,I,S;v<_;++v)b=t[v],w=b.source,x=b.target,E=x.x+x.vx-w.x-w.vx||un(u),$=x.y+x.vy-w.y-w.vy||un(u),I=Math.sqrt(E*E+$*$),I=(I-o[v])/I*m*r[v],E*=I,$*=I,x.vx-=E*(S=c[v]),x.vy-=$*S,w.vx+=E*(S=1-S),w.vy+=$*S}function d(){if(a){var m,y=a.length,_=t.length,v=new Map(a.map((w,x)=>[e(w,x,a),w])),b;for(m=0,s=new Array(y);m<_;++m)b=t[m],b.index=m,typeof b.source!="object"&&(b.source=Kf(v,b.source)),typeof b.target!="object"&&(b.target=Kf(v,b.target)),s[b.source.index]=(s[b.source.index]||0)+1,s[b.target.index]=(s[b.target.index]||0)+1;for(m=0,c=new Array(_);m<_;++m)b=t[m],c[m]=s[b.source.index]/(s[b.source.index]+s[b.target.index]);r=new Array(_),g(),o=new Array(_),p()}}function g(){if(a)for(var m=0,y=t.length;m<y;++m)r[m]=+n(t[m],m,t)}function p(){if(a)for(var m=0,y=t.length;m<y;++m)o[m]=+i(t[m],m,t)}return f.initialize=function(m,y){a=m,u=y,d()},f.links=function(m){return arguments.length?(t=m,d(),f):t},f.id=function(m){return arguments.length?(e=m,f):e},f.iterations=function(m){return arguments.length?(l=+m,f):l},f.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Ct(+m),g(),f):n},f.distance=function(m){return arguments.length?(i=typeof m=="function"?m:Ct(+m),p(),f):i},f}const E5=1664525,$5=1013904223,Zf=4294967296;function T5(){let t=1;return()=>(t=(E5*t+$5)%Zf)/Zf}function A5(t){return t.x}function N5(t){return t.y}var C5=10,I5=Math.PI*(3-Math.sqrt(5));function Lu(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,c=za(h),u=Hn("tick","end"),l=T5();t==null&&(t=[]);function h(){f(),u.call("tick",e),n<r&&(c.stop(),u.call("end",e))}function f(p){var m,y=t.length,_;p===void 0&&(p=1);for(var v=0;v<p;++v)for(n+=(o-n)*i,s.forEach(function(b){b(n)}),m=0;m<y;++m)_=t[m],_.fx==null?_.x+=_.vx*=a:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=a:(_.y=_.fy,_.vy=0);return e}function d(){for(var p=0,m=t.length,y;p<m;++p){if(y=t[p],y.index=p,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var _=C5*Math.sqrt(.5+p),v=p*I5;y.x=_*Math.cos(v),y.y=_*Math.sin(v)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function g(p){return p.initialize&&p.initialize(t,l),p}return d(),e={tick:f,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(p){return arguments.length?(t=p,d(),s.forEach(g),e):t},alpha:function(p){return arguments.length?(n=+p,e):n},alphaMin:function(p){return arguments.length?(r=+p,e):r},alphaDecay:function(p){return arguments.length?(i=+p,e):+i},alphaTarget:function(p){return arguments.length?(o=+p,e):o},velocityDecay:function(p){return arguments.length?(a=1-p,e):1-a},randomSource:function(p){return arguments.length?(l=p,s.forEach(g),e):l},force:function(p,m){return arguments.length>1?(m==null?s.delete(p):s.set(p,g(m)),e):s.get(p)},find:function(p,m,y){var _=0,v=t.length,b,w,x,E,$;for(y==null?y=1/0:y*=y,_=0;_<v;++_)E=t[_],b=p-E.x,w=m-E.y,x=b*b+w*w,x<y&&($=E,y=x);return $},on:function(p,m){return arguments.length>1?(u.on(p,m),e):u.on(p)}}}function E1(){var t,e,n,r,i=Ct(-30),o,a=1,s=1/0,c=.81;function u(d){var g,p=t.length,m=La(t,A5,N5).visitAfter(h);for(r=d,g=0;g<p;++g)e=t[g],m.visit(f)}function l(){if(t){var d,g=t.length,p;for(o=new Array(g),d=0;d<g;++d)p=t[d],o[p.index]=+i(p,d,t)}}function h(d){var g=0,p,m,y=0,_,v,b;if(d.length){for(_=v=b=0;b<4;++b)(p=d[b])&&(m=Math.abs(p.value))&&(g+=p.value,y+=m,_+=m*p.x,v+=m*p.y);d.x=_/y,d.y=v/y}else{p=d,p.x=p.data.x,p.y=p.data.y;do g+=o[p.data.index];while(p=p.next)}d.value=g}function f(d,g,p,m){if(!d.value)return!0;var y=d.x-e.x,_=d.y-e.y,v=m-g,b=y*y+_*_;if(v*v/c<b)return b<s&&(y===0&&(y=un(n),b+=y*y),_===0&&(_=un(n),b+=_*_),b<a&&(b=Math.sqrt(a*b)),e.vx+=y*d.value*r/b,e.vy+=_*d.value*r/b),!0;if(d.length||b>=s)return;(d.data!==e||d.next)&&(y===0&&(y=un(n),b+=y*y),_===0&&(_=un(n),b+=_*_),b<a&&(b=Math.sqrt(a*b)));do d.data!==e&&(v=o[d.data.index]*r/b,e.vx+=y*v,e.vy+=_*v);while(d=d.next)}return u.initialize=function(d,g){t=d,n=g,l()},u.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Ct(+d),l(),u):i},u.distanceMin=function(d){return arguments.length?(a=d*d,u):Math.sqrt(a)},u.distanceMax=function(d){return arguments.length?(s=d*d,u):Math.sqrt(s)},u.theta=function(d){return arguments.length?(c=d*d,u):Math.sqrt(c)},u}function R5(t,e,n){var r,i=Ct(.1),o,a;typeof t!="function"&&(t=Ct(+t)),e==null&&(e=0),n==null&&(n=0);function s(u){for(var l=0,h=r.length;l<h;++l){var f=r[l],d=f.x-e||1e-6,g=f.y-n||1e-6,p=Math.sqrt(d*d+g*g),m=(a[l]-p)*o[l]*u/p;f.vx+=d*m,f.vy+=g*m}}function c(){if(r){var u,l=r.length;for(o=new Array(l),a=new Array(l),u=0;u<l;++u)a[u]=+t(r[u],u,r),o[u]=isNaN(a[u])?0:+i(r[u],u,r)}}return s.initialize=function(u){r=u,c()},s.strength=function(u){return arguments.length?(i=typeof u=="function"?u:Ct(+u),c(),s):i},s.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Ct(+u),c(),s):t},s.x=function(u){return arguments.length?(e=+u,s):e},s.y=function(u){return arguments.length?(n=+u,s):n},s}function P5(t){var e=Ct(.1),n,r,i;typeof t!="function"&&(t=Ct(t==null?0:+t));function o(s){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vx+=(i[c]-l.x)*r[c]*s}function a(){if(n){var s,c=n.length;for(r=new Array(c),i=new Array(c),s=0;s<c;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(+s),a(),o):e},o.x=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),a(),o):t},o}function D5(t){var e=Ct(.1),n,r,i;typeof t!="function"&&(t=Ct(t==null?0:+t));function o(s){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vy+=(i[c]-l.y)*r[c]*s}function a(){if(n){var s,c=n.length;for(r=new Array(c),i=new Array(c),s=0;s<c;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(+s),a(),o):e},o.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),a(),o):t},o}function z5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Lo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vr(t){return t=Lo(Math.abs(t)),t?t[1]:NaN}function O5(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function L5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var F5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wr(t){if(!(e=F5.exec(t)))throw new Error("invalid format: "+t);var e;return new Fa({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wr.prototype=Fa.prototype;function Fa(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Fa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function U5(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var $1;function B5(t,e){var n=Lo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-($1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Lo(t,Math.max(0,e+o-1))[0]}function Qf(t,e){var n=Lo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Jf={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:z5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Qf(t*100,e),r:Qf,s:B5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function th(t){return t}var eh=Array.prototype.map,nh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T1(t){var e=t.grouping===void 0||t.thousands===void 0?th:O5(eh.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?th:L5(eh.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=wr(h);var f=h.fill,d=h.align,g=h.sign,p=h.symbol,m=h.zero,y=h.width,_=h.comma,v=h.precision,b=h.trim,w=h.type;w==="n"?(_=!0,w="g"):Jf[w]||(v===void 0&&(v=12),b=!0,w="g"),(m||f==="0"&&d==="=")&&(m=!0,f="0",d="=");var x=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=p==="$"?r:/[%p]/.test(w)?a:"",$=Jf[w],I=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function S(M){var C=x,T=E,k,A,N;if(w==="c")T=$(M)+T,M="";else{M=+M;var R=M<0||1/M<0;if(M=isNaN(M)?c:$(Math.abs(M),v),b&&(M=U5(M)),R&&+M==0&&g!=="+"&&(R=!1),C=(R?g==="("?g:s:g==="-"||g==="("?"":g)+C,T=(w==="s"?nh[8+$1/3]:"")+T+(R&&g==="("?")":""),I){for(k=-1,A=M.length;++k<A;)if(N=M.charCodeAt(k),48>N||N>57){T=(N===46?i+M.slice(k+1):M.slice(k))+T,M=M.slice(0,k);break}}}_&&!m&&(M=e(M,1/0));var D=C.length+M.length+T.length,P=D<y?new Array(y-D+1).join(f):"";switch(_&&m&&(M=e(P+M,P.length?y-T.length:1/0),P=""),d){case"<":M=C+M+T+P;break;case"=":M=C+P+M+T;break;case"^":M=P.slice(0,D=P.length>>1)+C+M+T+P.slice(D);break;default:M=P+C+M+T;break}return o(M)}return S.toString=function(){return h+""},S}function l(h,f){var d=u((h=wr(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(vr(f)/3)))*3,p=Math.pow(10,-g),m=nh[8+g/3];return function(y){return d(p*y)+m}}return{format:u,formatPrefix:l}}var Ki,Ua,Fu;A1({thousands:",",grouping:[3],currency:["$",""]});function A1(t){return Ki=T1(t),Ua=Ki.format,Fu=Ki.formatPrefix,Ki}function N1(t){return Math.max(0,-vr(Math.abs(t)))}function C1(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vr(e)/3)))*3-vr(Math.abs(t)))}function I1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vr(e)-vr(t))+1}var J=1e-6,xi=1e-12,ft=Math.PI,At=ft/2,Fo=ft/4,te=ft*2,vt=180/ft,tt=ft/180,ht=Math.abs,Ir=Math.atan,ee=Math.atan2,W=Math.cos,Zi=Math.ceil,R1=Math.exp,kc=Math.hypot,Uo=Math.log,Is=Math.pow,V=Math.sin,_e=Math.sign||function(t){return t>0?1:t<0?-1:0},Dt=Math.sqrt,Uu=Math.tan;function P1(t){return t>1?0:t<-1?ft:Math.acos(t)}function ne(t){return t>1?At:t<-1?-At:Math.asin(t)}function rh(t){return(t=V(t/2))*t}function St(){}function Bo(t,e){t&&oh.hasOwnProperty(t.type)&&oh[t.type](t,e)}var ih={Feature:function(t,e){Bo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Bo(n[r].geometry,e)}},oh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Sc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Sc(n[r],e,0)},Polygon:function(t,e){ah(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ah(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Bo(n[r],e)}};function Sc(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function ah(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Sc(t[n],e,1);e.polygonEnd()}function Ee(t,e){t&&ih.hasOwnProperty(t.type)?ih[t.type](t,e):Bo(t,e)}var qo=new It,Yo=new It,D1,z1,Ec,$c,Tc,Ue={point:St,lineStart:St,lineEnd:St,polygonStart:function(){qo=new It,Ue.lineStart=q5,Ue.lineEnd=Y5},polygonEnd:function(){var t=+qo;Yo.add(t<0?te+t:t),this.lineStart=this.lineEnd=this.point=St},sphere:function(){Yo.add(te)}};function q5(){Ue.point=G5}function Y5(){O1(D1,z1)}function G5(t,e){Ue.point=O1,D1=t,z1=e,t*=tt,e*=tt,Ec=t,$c=W(e=e/2+Fo),Tc=V(e)}function O1(t,e){t*=tt,e*=tt,e=e/2+Fo;var n=t-Ec,r=n>=0?1:-1,i=r*n,o=W(e),a=V(e),s=Tc*a,c=$c*o+s*W(i),u=s*r*V(i);qo.add(ee(u,c)),Ec=t,$c=o,Tc=a}function H5(t){return Yo=new It,Ee(t,Ue),Yo*2}function Go(t){return[ee(t[1],t[0]),ne(t[2])]}function On(t){var e=t[0],n=t[1],r=W(n);return[r*W(e),r*V(e),V(n)]}function Qi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function xr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Rs(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ji(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ho(t){var e=Dt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var kt,le,Tt,de,xn,L1,F1,fr,ii,an,tn,Xe={point:Ac,lineStart:sh,lineEnd:ch,polygonStart:function(){Xe.point=B1,Xe.lineStart=V5,Xe.lineEnd=j5,ii=new It,Ue.polygonStart()},polygonEnd:function(){Ue.polygonEnd(),Xe.point=Ac,Xe.lineStart=sh,Xe.lineEnd=ch,qo<0?(kt=-(Tt=180),le=-(de=90)):ii>J?de=90:ii<-J&&(le=-90),tn[0]=kt,tn[1]=Tt},sphere:function(){kt=-(Tt=180),le=-(de=90)}};function Ac(t,e){an.push(tn=[kt=t,Tt=t]),e<le&&(le=e),e>de&&(de=e)}function U1(t,e){var n=On([t*tt,e*tt]);if(fr){var r=xr(fr,n),i=[r[1],-r[0],0],o=xr(i,r);Ho(o),o=Go(o);var a=t-xn,s=a>0?1:-1,c=o[0]*vt*s,u,l=ht(a)>180;l^(s*xn<c&&c<s*t)?(u=o[1]*vt,u>de&&(de=u)):(c=(c+360)%360-180,l^(s*xn<c&&c<s*t)?(u=-o[1]*vt,u<le&&(le=u)):(e<le&&(le=e),e>de&&(de=e))),l?t<xn?fe(kt,t)>fe(kt,Tt)&&(Tt=t):fe(t,Tt)>fe(kt,Tt)&&(kt=t):Tt>=kt?(t<kt&&(kt=t),t>Tt&&(Tt=t)):t>xn?fe(kt,t)>fe(kt,Tt)&&(Tt=t):fe(t,Tt)>fe(kt,Tt)&&(kt=t)}else an.push(tn=[kt=t,Tt=t]);e<le&&(le=e),e>de&&(de=e),fr=n,xn=t}function sh(){Xe.point=U1}function ch(){tn[0]=kt,tn[1]=Tt,Xe.point=Ac,fr=null}function B1(t,e){if(fr){var n=t-xn;ii.add(ht(n)>180?n+(n>0?360:-360):n)}else L1=t,F1=e;Ue.point(t,e),U1(t,e)}function V5(){Ue.lineStart()}function j5(){B1(L1,F1),Ue.lineEnd(),ht(ii)>J&&(kt=-(Tt=180)),tn[0]=kt,tn[1]=Tt,fr=null}function fe(t,e){return(e-=t)<0?e+360:e}function W5(t,e){return t[0]-e[0]}function uh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function X5(t){var e,n,r,i,o,a,s;if(de=Tt=-(kt=le=1/0),an=[],Ee(t,Xe),n=an.length){for(an.sort(W5),e=1,r=an[0],o=[r];e<n;++e)i=an[e],uh(r,i[0])||uh(r,i[1])?(fe(r[0],i[1])>fe(r[0],r[1])&&(r[1]=i[1]),fe(i[0],r[1])>fe(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=fe(r[1],i[0]))>a&&(a=s,kt=i[0],Tt=r[1])}return an=tn=null,kt===1/0||le===1/0?[[NaN,NaN],[NaN,NaN]]:[[kt,le],[Tt,de]]}var jr,Vo,jo,Wo,Xo,Ko,Zo,Qo,Nc,Cc,Ic,q1,Y1,Wt,Xt,Kt,Te={sphere:St,point:Bu,lineStart:lh,lineEnd:fh,polygonStart:function(){Te.lineStart=Q5,Te.lineEnd=J5},polygonEnd:function(){Te.lineStart=lh,Te.lineEnd=fh}};function Bu(t,e){t*=tt,e*=tt;var n=W(e);Ri(n*W(t),n*V(t),V(e))}function Ri(t,e,n){++jr,jo+=(t-jo)/jr,Wo+=(e-Wo)/jr,Xo+=(n-Xo)/jr}function lh(){Te.point=K5}function K5(t,e){t*=tt,e*=tt;var n=W(e);Wt=n*W(t),Xt=n*V(t),Kt=V(e),Te.point=Z5,Ri(Wt,Xt,Kt)}function Z5(t,e){t*=tt,e*=tt;var n=W(e),r=n*W(t),i=n*V(t),o=V(e),a=ee(Dt((a=Xt*o-Kt*i)*a+(a=Kt*r-Wt*o)*a+(a=Wt*i-Xt*r)*a),Wt*r+Xt*i+Kt*o);Vo+=a,Ko+=a*(Wt+(Wt=r)),Zo+=a*(Xt+(Xt=i)),Qo+=a*(Kt+(Kt=o)),Ri(Wt,Xt,Kt)}function fh(){Te.point=Bu}function Q5(){Te.point=t4}function J5(){G1(q1,Y1),Te.point=Bu}function t4(t,e){q1=t,Y1=e,t*=tt,e*=tt,Te.point=G1;var n=W(e);Wt=n*W(t),Xt=n*V(t),Kt=V(e),Ri(Wt,Xt,Kt)}function G1(t,e){t*=tt,e*=tt;var n=W(e),r=n*W(t),i=n*V(t),o=V(e),a=Xt*o-Kt*i,s=Kt*r-Wt*o,c=Wt*i-Xt*r,u=kc(a,s,c),l=ne(u),h=u&&-l/u;Nc.add(h*a),Cc.add(h*s),Ic.add(h*c),Vo+=l,Ko+=l*(Wt+(Wt=r)),Zo+=l*(Xt+(Xt=i)),Qo+=l*(Kt+(Kt=o)),Ri(Wt,Xt,Kt)}function e4(t){jr=Vo=jo=Wo=Xo=Ko=Zo=Qo=0,Nc=new It,Cc=new It,Ic=new It,Ee(t,Te);var e=+Nc,n=+Cc,r=+Ic,i=kc(e,n,r);return i<xi&&(e=Ko,n=Zo,r=Qo,Vo<J&&(e=jo,n=Wo,r=Xo),i=kc(e,n,r),i<xi)?[NaN,NaN]:[ee(n,e)*vt,ne(r/i)*vt]}function rr(t){return function(){return t}}function Rc(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Pc(t,e){return ht(t)>ft&&(t-=Math.round(t/te)*te),[t,e]}Pc.invert=Pc;function qu(t,e,n){return(t%=te)?e||n?Rc(dh(t),gh(e,n)):dh(t):e||n?gh(e,n):Pc}function hh(t){return function(e,n){return e+=t,ht(e)>ft&&(e-=Math.round(e/te)*te),[e,n]}}function dh(t){var e=hh(t);return e.invert=hh(-t),e}function gh(t,e){var n=W(t),r=V(t),i=W(e),o=V(e);function a(s,c){var u=W(c),l=W(s)*u,h=V(s)*u,f=V(c),d=f*n+l*r;return[ee(h*i-d*o,l*n-f*r),ne(d*i+h*o)]}return a.invert=function(s,c){var u=W(c),l=W(s)*u,h=V(s)*u,f=V(c),d=f*i-h*o;return[ee(h*i+f*o,l*n+d*r),ne(d*n-l*r)]},a}function H1(t){t=qu(t[0]*tt,t[1]*tt,t.length>2?t[2]*tt:0);function e(n){return n=t(n[0]*tt,n[1]*tt),n[0]*=vt,n[1]*=vt,n}return e.invert=function(n){return n=t.invert(n[0]*tt,n[1]*tt),n[0]*=vt,n[1]*=vt,n},e}function V1(t,e,n,r,i,o){if(n){var a=W(e),s=V(e),c=r*n;i==null?(i=e+r*te,o=e-c/2):(i=ph(a,i),o=ph(a,o),(r>0?i<o:i>o)&&(i+=r*te));for(var u,l=i;r>0?l>o:l<o;l-=c)u=Go([a,-s*W(l),-s*V(l)]),t.point(u[0],u[1])}}function ph(t,e){e=On(e),e[0]-=t,Ho(e);var n=P1(-e[1]);return((-e[2]<0?-n:n)+te-J)%te}function n4(){var t=rr([0,0]),e=rr(90),n=rr(6),r,i,o={point:a};function a(c,u){r.push(c=i(c,u)),c[0]*=vt,c[1]*=vt}function s(){var c=t.apply(this,arguments),u=e.apply(this,arguments)*tt,l=n.apply(this,arguments)*tt;return r=[],i=qu(-c[0]*tt,-c[1]*tt,0).invert,V1(o,u,l,1),c={type:"Polygon",coordinates:[r]},r=i=null,c}return s.center=function(c){return arguments.length?(t=typeof c=="function"?c:rr([+c[0],+c[1]]),s):t},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:rr(+c),s):e},s.precision=function(c){return arguments.length?(n=typeof c=="function"?c:rr(+c),s):n},s}function j1(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:St,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function bo(t,e){return ht(t[0]-e[0])<J&&ht(t[1]-e[1])<J}function to(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function W1(t,e,n,r,i){var o=[],a=[],s,c;if(t.forEach(function(g){if(!((p=g.length-1)<=0)){var p,m=g[0],y=g[p],_;if(bo(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),s=0;s<p;++s)i.point((m=g[s])[0],m[1]);i.lineEnd();return}y[0]+=2*J}o.push(_=new to(m,g,null,!0)),a.push(_.o=new to(m,null,_,!1)),o.push(_=new to(y,g,null,!1)),a.push(_.o=new to(y,null,_,!0))}}),!!o.length){for(a.sort(e),mh(o),mh(a),s=0,c=a.length;s<c;++s)a[s].e=n=!n;for(var u=o[0],l,h;;){for(var f=u,d=!0;f.v;)if((f=f.n)===u)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,c=l.length;s<c;++s)i.point((h=l[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,s=l.length-1;s>=0;--s)i.point((h=l[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);i.lineEnd()}}}function mh(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ps(t){return ht(t[0])<=ft?t[0]:_e(t[0])*((ht(t[0])+ft)%te-ft)}function X1(t,e){var n=Ps(e),r=e[1],i=V(r),o=[V(n),-W(n),0],a=0,s=0,c=new It;i===1?r=At+J:i===-1&&(r=-At-J);for(var u=0,l=t.length;u<l;++u)if(f=(h=t[u]).length)for(var h,f,d=h[f-1],g=Ps(d),p=d[1]/2+Fo,m=V(p),y=W(p),_=0;_<f;++_,g=b,m=x,y=E,d=v){var v=h[_],b=Ps(v),w=v[1]/2+Fo,x=V(w),E=W(w),$=b-g,I=$>=0?1:-1,S=I*$,M=S>ft,C=m*x;if(c.add(ee(C*I*V(S),y*E+C*W(S))),a+=M?$+I*te:$,M^g>=n^b>=n){var T=xr(On(d),On(v));Ho(T);var k=xr(o,T);Ho(k);var A=(M^$>=0?-1:1)*ne(k[2]);(r>A||r===A&&(T[0]||T[1]))&&(s+=M^$>=0?1:-1)}}return(a<-J||a<J&&c<-xi)^s&1}function K1(t,e,n,r){return function(i){var o=e(i),a=j1(),s=e(a),c=!1,u,l,h,f={point:d,lineStart:p,lineEnd:m,polygonStart:function(){f.point=y,f.lineStart=_,f.lineEnd=v,l=[],u=[]},polygonEnd:function(){f.point=d,f.lineStart=p,f.lineEnd=m,l=pu(l);var b=X1(u,r);l.length?(c||(i.polygonStart(),c=!0),W1(l,i4,b,n,i)):b&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(b,w){t(b,w)&&i.point(b,w)}function g(b,w){o.point(b,w)}function p(){f.point=g,o.lineStart()}function m(){f.point=d,o.lineEnd()}function y(b,w){h.push([b,w]),s.point(b,w)}function _(){s.lineStart(),h=[]}function v(){y(h[0][0],h[0][1]),s.lineEnd();var b=s.clean(),w=a.result(),x,E=w.length,$,I,S;if(h.pop(),u.push(h),h=null,!!E){if(b&1){if(I=w[0],($=I.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<$;++x)i.point((S=I[x])[0],S[1]);i.lineEnd()}return}E>1&&b&2&&w.push(w.pop().concat(w.shift())),l.push(w.filter(r4))}}return f}}function r4(t){return t.length>1}function i4(t,e){return((t=t.x)[0]<0?t[1]-At-J:At-t[1])-((e=e.x)[0]<0?e[1]-At-J:At-e[1])}const Dc=K1(function(){return!0},o4,s4,[-ft,-At]);function o4(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?ft:-ft,c=ht(o-e);ht(c-ft)<J?(t.point(e,n=(n+a)/2>0?At:-At),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&c>=ft&&(ht(e-r)<J&&(e-=r*J),ht(o-s)<J&&(o-=s*J),n=a4(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function a4(t,e,n,r){var i,o,a=V(t-n);return ht(a)>J?Ir((V(e)*(o=W(r))*V(n)-V(r)*(i=W(e))*V(t))/(i*o*a)):(e+r)/2}function s4(t,e,n,r){var i;if(t==null)i=n*At,r.point(-ft,i),r.point(0,i),r.point(ft,i),r.point(ft,0),r.point(ft,-i),r.point(0,-i),r.point(-ft,-i),r.point(-ft,0),r.point(-ft,i);else if(ht(t[0]-e[0])>J){var o=t[0]<e[0]?ft:-ft;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Z1(t){var e=W(t),n=6*tt,r=e>0,i=ht(e)>J;function o(l,h,f,d){V1(d,t,n,f,l,h)}function a(l,h){return W(l)*W(h)>e}function s(l){var h,f,d,g,p;return{lineStart:function(){g=d=!1,p=1},point:function(m,y){var _=[m,y],v,b=a(m,y),w=r?b?0:u(m,y):b?u(m+(m<0?ft:-ft),y):0;if(!h&&(g=d=b)&&l.lineStart(),b!==d&&(v=c(h,_),(!v||bo(h,v)||bo(_,v))&&(_[2]=1)),b!==d)p=0,b?(l.lineStart(),v=c(_,h),l.point(v[0],v[1])):(v=c(h,_),l.point(v[0],v[1],2),l.lineEnd()),h=v;else if(i&&h&&r^b){var x;!(w&f)&&(x=c(_,h,!0))&&(p=0,r?(l.lineStart(),l.point(x[0][0],x[0][1]),l.point(x[1][0],x[1][1]),l.lineEnd()):(l.point(x[1][0],x[1][1]),l.lineEnd(),l.lineStart(),l.point(x[0][0],x[0][1],3)))}b&&(!h||!bo(h,_))&&l.point(_[0],_[1]),h=_,d=b,f=w},lineEnd:function(){d&&l.lineEnd(),h=null},clean:function(){return p|(g&&d)<<1}}}function c(l,h,f){var d=On(l),g=On(h),p=[1,0,0],m=xr(d,g),y=Qi(m,m),_=m[0],v=y-_*_;if(!v)return!f&&l;var b=e*y/v,w=-e*_/v,x=xr(p,m),E=Ji(p,b),$=Ji(m,w);Rs(E,$);var I=x,S=Qi(E,I),M=Qi(I,I),C=S*S-M*(Qi(E,E)-1);if(!(C<0)){var T=Dt(C),k=Ji(I,(-S-T)/M);if(Rs(k,E),k=Go(k),!f)return k;var A=l[0],N=h[0],R=l[1],D=h[1],P;N<A&&(P=A,A=N,N=P);var B=N-A,q=ht(B-ft)<J,O=q||B<J;if(!q&&D<R&&(P=R,R=D,D=P),O?q?R+D>0^k[1]<(ht(k[0]-A)<J?R:D):R<=k[1]&&k[1]<=D:B>ft^(A<=k[0]&&k[0]<=N)){var K=Ji(I,(-S+T)/M);return Rs(K,E),[k,Go(K)]}}}function u(l,h){var f=r?t:ft-t,d=0;return l<-f?d|=1:l>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return K1(a,s,o,r?[0,-t]:[-ft,t-ft])}function c4(t,e,n,r,i,o){var a=t[0],s=t[1],c=e[0],u=e[1],l=0,h=1,f=c-a,d=u-s,g;if(g=n-a,!(!f&&g>0)){if(g/=f,f<0){if(g<l)return;g<h&&(h=g)}else if(f>0){if(g>h)return;g>l&&(l=g)}if(g=i-a,!(!f&&g<0)){if(g/=f,f<0){if(g>h)return;g>l&&(l=g)}else if(f>0){if(g<l)return;g<h&&(h=g)}if(g=r-s,!(!d&&g>0)){if(g/=d,d<0){if(g<l)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>l&&(l=g)}if(g=o-s,!(!d&&g<0)){if(g/=d,d<0){if(g>h)return;g>l&&(l=g)}else if(d>0){if(g<l)return;g<h&&(h=g)}return l>0&&(t[0]=a+l*f,t[1]=s+l*d),h<1&&(e[0]=a+h*f,e[1]=s+h*d),!0}}}}}var Wr=1e9,eo=-Wr;function Ba(t,e,n,r){function i(u,l){return t<=u&&u<=n&&e<=l&&l<=r}function o(u,l,h,f){var d=0,g=0;if(u==null||(d=a(u,h))!==(g=a(l,h))||c(u,l)<0^h>0)do f.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==g);else f.point(l[0],l[1])}function a(u,l){return ht(u[0]-t)<J?l>0?0:3:ht(u[0]-n)<J?l>0?2:1:ht(u[1]-e)<J?l>0?1:0:l>0?3:2}function s(u,l){return c(u.x,l.x)}function c(u,l){var h=a(u,1),f=a(l,1);return h!==f?h-f:h===0?l[1]-u[1]:h===1?u[0]-l[0]:h===2?u[1]-l[1]:l[0]-u[0]}return function(u){var l=u,h=j1(),f,d,g,p,m,y,_,v,b,w,x,E={point:$,lineStart:C,lineEnd:T,polygonStart:S,polygonEnd:M};function $(A,N){i(A,N)&&l.point(A,N)}function I(){for(var A=0,N=0,R=d.length;N<R;++N)for(var D=d[N],P=1,B=D.length,q=D[0],O,K,it=q[0],rt=q[1];P<B;++P)O=it,K=rt,q=D[P],it=q[0],rt=q[1],K<=r?rt>r&&(it-O)*(r-K)>(rt-K)*(t-O)&&++A:rt<=r&&(it-O)*(r-K)<(rt-K)*(t-O)&&--A;return A}function S(){l=h,f=[],d=[],x=!0}function M(){var A=I(),N=x&&A,R=(f=pu(f)).length;(N||R)&&(u.polygonStart(),N&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),R&&W1(f,s,A,o,u),u.polygonEnd()),l=u,f=d=g=null}function C(){E.point=k,d&&d.push(g=[]),w=!0,b=!1,_=v=NaN}function T(){f&&(k(p,m),y&&b&&h.rejoin(),f.push(h.result())),E.point=$,b&&l.lineEnd()}function k(A,N){var R=i(A,N);if(d&&g.push([A,N]),w)p=A,m=N,y=R,w=!1,R&&(l.lineStart(),l.point(A,N));else if(R&&b)l.point(A,N);else{var D=[_=Math.max(eo,Math.min(Wr,_)),v=Math.max(eo,Math.min(Wr,v))],P=[A=Math.max(eo,Math.min(Wr,A)),N=Math.max(eo,Math.min(Wr,N))];c4(D,P,t,e,n,r)?(b||(l.lineStart(),l.point(D[0],D[1])),l.point(P[0],P[1]),R||l.lineEnd(),x=!1):R&&(l.lineStart(),l.point(A,N),x=!1)}_=A,v=N,b=R}return E}}function u4(){var t=0,e=0,n=960,r=500,i,o,a;return a={stream:function(s){return i&&o===s?i:i=Ba(t,e,n,r)(o=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=o=null,a):[[t,e],[n,r]]}}}var zc,Oc,vo,wo,Mr={sphere:St,point:St,lineStart:l4,lineEnd:St,polygonStart:St,polygonEnd:St};function l4(){Mr.point=h4,Mr.lineEnd=f4}function f4(){Mr.point=Mr.lineEnd=St}function h4(t,e){t*=tt,e*=tt,Oc=t,vo=V(e),wo=W(e),Mr.point=d4}function d4(t,e){t*=tt,e*=tt;var n=V(e),r=W(e),i=ht(t-Oc),o=W(i),a=V(i),s=r*a,c=wo*n-vo*r*o,u=vo*n+wo*r*o;zc.add(ee(Dt(s*s+c*c),u)),Oc=t,vo=n,wo=r}function Q1(t){return zc=new It,Ee(t,Mr),+zc}var Lc=[null,null],g4={type:"LineString",coordinates:Lc};function Jo(t,e){return Lc[0]=t,Lc[1]=e,Q1(g4)}var yh={Feature:function(t,e){return ta(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(ta(n[r].geometry,e))return!0;return!1}},_h={Sphere:function(){return!0},Point:function(t,e){return bh(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(bh(n[r],e))return!0;return!1},LineString:function(t,e){return vh(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(vh(n[r],e))return!0;return!1},Polygon:function(t,e){return wh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(wh(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(ta(n[r],e))return!0;return!1}};function ta(t,e){return t&&_h.hasOwnProperty(t.type)?_h[t.type](t,e):!1}function bh(t,e){return Jo(t,e)===0}function vh(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(r=Jo(t[o],e),r===0||o>0&&(i=Jo(t[o],t[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<xi*i))return!0;n=r}return!1}function wh(t,e){return!!X1(t.map(p4),J1(e))}function p4(t){return t=t.map(J1),t.pop(),t}function J1(t){return[t[0]*tt,t[1]*tt]}function m4(t,e){return(t&&yh.hasOwnProperty(t.type)?yh[t.type]:ta)(t,e)}function xh(t,e,n){var r=cn(t,e-J,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function Mh(t,e,n){var r=cn(t,e-J,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function tg(){var t,e,n,r,i,o,a,s,c=10,u=c,l=90,h=360,f,d,g,p,m=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return cn(Zi(r/l)*l,n,l).map(g).concat(cn(Zi(s/h)*h,a,h).map(p)).concat(cn(Zi(e/c)*c,t,c).filter(function(v){return ht(v%l)>J}).map(f)).concat(cn(Zi(o/u)*u,i,u).filter(function(v){return ht(v%h)>J}).map(d))}return y.lines=function(){return _().map(function(v){return{type:"LineString",coordinates:v}})},y.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(p(a).slice(1),g(n).reverse().slice(1),p(s).reverse().slice(1))]}},y.extent=function(v){return arguments.length?y.extentMajor(v).extentMinor(v):y.extentMinor()},y.extentMajor=function(v){return arguments.length?(r=+v[0][0],n=+v[1][0],s=+v[0][1],a=+v[1][1],r>n&&(v=r,r=n,n=v),s>a&&(v=s,s=a,a=v),y.precision(m)):[[r,s],[n,a]]},y.extentMinor=function(v){return arguments.length?(e=+v[0][0],t=+v[1][0],o=+v[0][1],i=+v[1][1],e>t&&(v=e,e=t,t=v),o>i&&(v=o,o=i,i=v),y.precision(m)):[[e,o],[t,i]]},y.step=function(v){return arguments.length?y.stepMajor(v).stepMinor(v):y.stepMinor()},y.stepMajor=function(v){return arguments.length?(l=+v[0],h=+v[1],y):[l,h]},y.stepMinor=function(v){return arguments.length?(c=+v[0],u=+v[1],y):[c,u]},y.precision=function(v){return arguments.length?(m=+v,f=xh(o,i,90),d=Mh(e,t,m),g=xh(s,a,90),p=Mh(r,n,m),y):m},y.extentMajor([[-180,-90+J],[180,90-J]]).extentMinor([[-180,-80-J],[180,80+J]])}function y4(){return tg()()}function _4(t,e){var n=t[0]*tt,r=t[1]*tt,i=e[0]*tt,o=e[1]*tt,a=W(r),s=V(r),c=W(o),u=V(o),l=a*W(n),h=a*V(n),f=c*W(i),d=c*V(i),g=2*ne(Dt(rh(o-r)+a*c*rh(i-n))),p=V(g),m=g?function(y){var _=V(y*=g)/p,v=V(g-y)/p,b=v*l+_*f,w=v*h+_*d,x=v*s+_*u;return[ee(w,b)*vt,ee(x,Dt(b*b+w*w))*vt]}:function(){return[n*vt,r*vt]};return m.distance=g,m}const Mi=t=>t;var Ds=new It,Fc=new It,eg,ng,Uc,Bc,sn={point:St,lineStart:St,lineEnd:St,polygonStart:function(){sn.lineStart=b4,sn.lineEnd=w4},polygonEnd:function(){sn.lineStart=sn.lineEnd=sn.point=St,Ds.add(ht(Fc)),Fc=new It},result:function(){var t=Ds/2;return Ds=new It,t}};function b4(){sn.point=v4}function v4(t,e){sn.point=rg,eg=Uc=t,ng=Bc=e}function rg(t,e){Fc.add(Bc*t-Uc*e),Uc=t,Bc=e}function w4(){rg(eg,ng)}const kh=sn;var kr=1/0,ea=kr,ki=-kr,na=ki,x4={point:M4,lineStart:St,lineEnd:St,polygonStart:St,polygonEnd:St,result:function(){var t=[[kr,ea],[ki,na]];return ki=na=-(ea=kr=1/0),t}};function M4(t,e){t<kr&&(kr=t),t>ki&&(ki=t),e<ea&&(ea=e),e>na&&(na=e)}const ra=x4;var qc=0,Yc=0,Xr=0,ia=0,oa=0,sr=0,Gc=0,Hc=0,Kr=0,ig,og,Ie,Re,$e={point:Ln,lineStart:Sh,lineEnd:Eh,polygonStart:function(){$e.lineStart=E4,$e.lineEnd=$4},polygonEnd:function(){$e.point=Ln,$e.lineStart=Sh,$e.lineEnd=Eh},result:function(){var t=Kr?[Gc/Kr,Hc/Kr]:sr?[ia/sr,oa/sr]:Xr?[qc/Xr,Yc/Xr]:[NaN,NaN];return qc=Yc=Xr=ia=oa=sr=Gc=Hc=Kr=0,t}};function Ln(t,e){qc+=t,Yc+=e,++Xr}function Sh(){$e.point=k4}function k4(t,e){$e.point=S4,Ln(Ie=t,Re=e)}function S4(t,e){var n=t-Ie,r=e-Re,i=Dt(n*n+r*r);ia+=i*(Ie+t)/2,oa+=i*(Re+e)/2,sr+=i,Ln(Ie=t,Re=e)}function Eh(){$e.point=Ln}function E4(){$e.point=T4}function $4(){ag(ig,og)}function T4(t,e){$e.point=ag,Ln(ig=Ie=t,og=Re=e)}function ag(t,e){var n=t-Ie,r=e-Re,i=Dt(n*n+r*r);ia+=i*(Ie+t)/2,oa+=i*(Re+e)/2,sr+=i,i=Re*t-Ie*e,Gc+=i*(Ie+t),Hc+=i*(Re+e),Kr+=i*3,Ln(Ie=t,Re=e)}const $h=$e;function sg(t){this._context=t}sg.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,te);break}}},result:St};var Vc=new It,zs,cg,ug,Zr,Qr,aa={point:St,lineStart:function(){aa.point=A4},lineEnd:function(){zs&&lg(cg,ug),aa.point=St},polygonStart:function(){zs=!0},polygonEnd:function(){zs=null},result:function(){var t=+Vc;return Vc=new It,t}};function A4(t,e){aa.point=lg,cg=Zr=t,ug=Qr=e}function lg(t,e){Zr-=t,Qr-=e,Vc.add(Dt(Zr*Zr+Qr*Qr)),Zr=t,Qr=e}const Th=aa;let Ah,sa,Nh,Ch;class Ih{constructor(e){this._append=e==null?fg:N4(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Nh||this._append!==sa){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Nh=r,sa=this._append,Ch=this._,this._=i}this._+=Ch;break}}}result(){const e=this._;return this._="",e.length?e:null}}function fg(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function N4(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return fg;if(e!==Ah){const n=10**e;Ah=e,sa=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return sa}function C4(t,e){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Ee(s,i(o))),o.result()}return a.area=function(s){return Ee(s,i(kh)),kh.result()},a.measure=function(s){return Ee(s,i(Th)),Th.result()},a.bounds=function(s){return Ee(s,i(ra)),ra.result()},a.centroid=function(s){return Ee(s,i($h)),$h.result()},a.projection=function(s){return arguments.length?(i=s==null?(t=null,Mi):(t=s).stream,a):t},a.context=function(s){return arguments.length?(o=s==null?(e=null,new Ih(n)):new sg(e=s),typeof r!="function"&&o.pointRadius(r),a):e},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const c=Math.floor(s);if(!(c>=0))throw new RangeError(`invalid digits: ${s}`);n=c}return e===null&&(o=new Ih(n)),a},a.projection(t).digits(n).context(e)}function I4(t){return{stream:Pi(t)}}function Pi(t){return function(e){var n=new jc;for(var r in t)n[r]=t[r];return n.stream=e,n}}function jc(){}jc.prototype={constructor:jc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Yu(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Ee(n,t.stream(ra)),e(ra.result()),r!=null&&t.clipExtent(r),t}function qa(t,e,n){return Yu(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,c])},n)}function Gu(t,e,n){return qa(t,[[0,0],e],n)}function Hu(t,e,n){return Yu(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},n)}function Vu(t,e,n){return Yu(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},n)}var Rh=16,R4=W(30*tt);function Ph(t,e){return+e?D4(t,e):P4(t)}function P4(t){return Pi({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function D4(t,e){function n(r,i,o,a,s,c,u,l,h,f,d,g,p,m){var y=u-r,_=l-i,v=y*y+_*_;if(v>4*e&&p--){var b=a+f,w=s+d,x=c+g,E=Dt(b*b+w*w+x*x),$=ne(x/=E),I=ht(ht(x)-1)<J||ht(o-h)<J?(o+h)/2:ee(w,b),S=t(I,$),M=S[0],C=S[1],T=M-r,k=C-i,A=_*T-y*k;(A*A/v>e||ht((y*T+_*k)/v-.5)>.3||a*f+s*d+c*g<R4)&&(n(r,i,o,a,s,c,M,C,I,b/=E,w/=E,x,p,m),m.point(M,C),n(M,C,I,b,w,x,u,l,h,f,d,g,p,m))}}return function(r){var i,o,a,s,c,u,l,h,f,d,g,p,m={point:y,lineStart:_,lineEnd:b,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=_}};function y($,I){$=t($,I),r.point($[0],$[1])}function _(){h=NaN,m.point=v,r.lineStart()}function v($,I){var S=On([$,I]),M=t($,I);n(h,f,l,d,g,p,h=M[0],f=M[1],l=$,d=S[0],g=S[1],p=S[2],Rh,r),r.point(h,f)}function b(){m.point=y,r.lineEnd()}function w(){_(),m.point=x,m.lineEnd=E}function x($,I){v(i=$,I),o=h,a=f,s=d,c=g,u=p,m.point=v}function E(){n(h,f,l,d,g,p,o,a,i,s,c,u,Rh,r),m.lineEnd=b,b()}return m}}var z4=Pi({point:function(t,e){this.stream.point(t*tt,e*tt)}});function O4(t){return Pi({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function L4(t,e,n,r,i){function o(a,s){return a*=r,s*=i,[e+t*a,n-t*s]}return o.invert=function(a,s){return[(a-e)/t*r,(n-s)/t*i]},o}function Dh(t,e,n,r,i,o){if(!o)return L4(t,e,n,r,i);var a=W(o),s=V(o),c=a*t,u=s*t,l=a/t,h=s/t,f=(s*n-a*e)/t,d=(s*e+a*n)/t;function g(p,m){return p*=r,m*=i,[c*p-u*m+e,n-u*p-c*m]}return g.invert=function(p,m){return[r*(l*p-h*m+f),i*(d-h*p-l*m)]},g}function Ge(t){return ju(function(){return t})()}function ju(t){var e,n=150,r=480,i=250,o=0,a=0,s=0,c=0,u=0,l,h=0,f=1,d=1,g=null,p=Dc,m=null,y,_,v,b=Mi,w=.5,x,E,$,I,S;function M(A){return $(A[0]*tt,A[1]*tt)}function C(A){return A=$.invert(A[0],A[1]),A&&[A[0]*vt,A[1]*vt]}M.stream=function(A){return I&&S===A?I:I=z4(O4(l)(p(x(b(S=A)))))},M.preclip=function(A){return arguments.length?(p=A,g=void 0,k()):p},M.postclip=function(A){return arguments.length?(b=A,m=y=_=v=null,k()):b},M.clipAngle=function(A){return arguments.length?(p=+A?Z1(g=A*tt):(g=null,Dc),k()):g*vt},M.clipExtent=function(A){return arguments.length?(b=A==null?(m=y=_=v=null,Mi):Ba(m=+A[0][0],y=+A[0][1],_=+A[1][0],v=+A[1][1]),k()):m==null?null:[[m,y],[_,v]]},M.scale=function(A){return arguments.length?(n=+A,T()):n},M.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],T()):[r,i]},M.center=function(A){return arguments.length?(o=A[0]%360*tt,a=A[1]%360*tt,T()):[o*vt,a*vt]},M.rotate=function(A){return arguments.length?(s=A[0]%360*tt,c=A[1]%360*tt,u=A.length>2?A[2]%360*tt:0,T()):[s*vt,c*vt,u*vt]},M.angle=function(A){return arguments.length?(h=A%360*tt,T()):h*vt},M.reflectX=function(A){return arguments.length?(f=A?-1:1,T()):f<0},M.reflectY=function(A){return arguments.length?(d=A?-1:1,T()):d<0},M.precision=function(A){return arguments.length?(x=Ph(E,w=A*A),k()):Dt(w)},M.fitExtent=function(A,N){return qa(M,A,N)},M.fitSize=function(A,N){return Gu(M,A,N)},M.fitWidth=function(A,N){return Hu(M,A,N)},M.fitHeight=function(A,N){return Vu(M,A,N)};function T(){var A=Dh(n,0,0,f,d,h).apply(null,e(o,a)),N=Dh(n,r-A[0],i-A[1],f,d,h);return l=qu(s,c,u),E=Rc(e,N),$=Rc(l,E),x=Ph(E,w),k()}function k(){return I=S=null,M}return function(){return e=t.apply(this,arguments),M.invert=e.invert&&C,T()}}function Wu(t){var e=0,n=ft/3,r=ju(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*tt,n=o[1]*tt):[e*vt,n*vt]},i}function F4(t){var e=W(t);function n(r,i){return[r*e,V(i)/e]}return n.invert=function(r,i){return[r/e,ne(i*e)]},n}function hg(t,e){var n=V(t),r=(n+V(e))/2;if(ht(r)<J)return F4(t);var i=1+n*(2*r-n),o=Dt(i)/r;function a(s,c){var u=Dt(i-2*r*V(c))/r;return[u*V(s*=r),o-u*W(s)]}return a.invert=function(s,c){var u=o-c,l=ee(s,ht(u))*_e(u);return u*r<0&&(l-=ft*_e(s)*_e(u)),[l/r,ne((i-(s*s+u*u)*r*r)/(2*r))]},a}function ca(){return Wu(hg).scale(155.424).center([0,33.6442])}function dg(){return ca().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function U4(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function B4(){var t,e,n=dg(),r,i=ca().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=ca().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,c,u={point:function(f,d){c=[f,d]}};function l(f){var d=f[0],g=f[1];return c=null,r.point(d,g),c||(o.point(d,g),c)||(s.point(d,g),c)}l.invert=function(f){var d=n.scale(),g=n.translate(),p=(f[0]-g[0])/d,m=(f[1]-g[1])/d;return(m>=.12&&m<.234&&p>=-.425&&p<-.214?i:m>=.166&&m<.234&&p>=-.214&&p<-.115?a:n).invert(f)},l.stream=function(f){return t&&e===f?t:t=U4([n.stream(e=f),i.stream(f),a.stream(f)])},l.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),a.precision(f),h()):n.precision()},l.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),a.scale(f),l.translate(n.translate())):n.scale()},l.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),g=+f[0],p=+f[1];return r=n.translate(f).clipExtent([[g-.455*d,p-.238*d],[g+.455*d,p+.238*d]]).stream(u),o=i.translate([g-.307*d,p+.201*d]).clipExtent([[g-.425*d+J,p+.12*d+J],[g-.214*d-J,p+.234*d-J]]).stream(u),s=a.translate([g-.205*d,p+.212*d]).clipExtent([[g-.214*d+J,p+.166*d+J],[g-.115*d-J,p+.234*d-J]]).stream(u),h()},l.fitExtent=function(f,d){return qa(l,f,d)},l.fitSize=function(f,d){return Gu(l,f,d)},l.fitWidth=function(f,d){return Hu(l,f,d)},l.fitHeight=function(f,d){return Vu(l,f,d)};function h(){return t=e=null,l}return l.scale(1070)}function gg(t){return function(e,n){var r=W(e),i=W(n),o=t(r*i);return o===1/0?[2,0]:[o*i*V(e),o*V(n)]}}function Di(t){return function(e,n){var r=Dt(e*e+n*n),i=t(r),o=V(i),a=W(i);return[ee(e*o,r*a),ne(r&&n*o/r)]}}var Xu=gg(function(t){return Dt(2/(1+t))});Xu.invert=Di(function(t){return 2*ne(t/2)});function q4(){return Ge(Xu).scale(124.75).clipAngle(180-.001)}var Ku=gg(function(t){return(t=P1(t))&&t/V(t)});Ku.invert=Di(function(t){return t});function Y4(){return Ge(Ku).scale(79.4188).clipAngle(180-.001)}function zi(t,e){return[t,Uo(Uu((At+e)/2))]}zi.invert=function(t,e){return[t,2*Ir(R1(e))-At]};function G4(){return pg(zi).scale(961/te)}function pg(t){var e=Ge(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,s,c,u;e.scale=function(h){return arguments.length?(r(h),l()):r()},e.translate=function(h){return arguments.length?(i(h),l()):i()},e.center=function(h){return arguments.length?(n(h),l()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=s=c=u=null:(a=+h[0][0],s=+h[0][1],c=+h[1][0],u=+h[1][1]),l()):a==null?null:[[a,s],[c,u]]};function l(){var h=ft*r(),f=e(H1(e.rotate()).invert([0,0]));return o(a==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:t===zi?[[Math.max(f[0]-h,a),s],[Math.min(f[0]+h,c),u]]:[[a,Math.max(f[1]-h,s)],[c,Math.min(f[1]+h,u)]])}return l()}function no(t){return Uu((At+t)/2)}function mg(t,e){var n=W(t),r=t===e?V(t):Uo(n/W(e))/Uo(no(e)/no(t)),i=n*Is(no(t),r)/r;if(!r)return zi;function o(a,s){i>0?s<-At+J&&(s=-At+J):s>At-J&&(s=At-J);var c=i/Is(no(s),r);return[c*V(r*a),i-c*W(r*a)]}return o.invert=function(a,s){var c=i-s,u=_e(r)*Dt(a*a+c*c),l=ee(a,ht(c))*_e(c);return c*r<0&&(l-=ft*_e(a)*_e(c)),[l/r,2*Ir(Is(i/u,1/r))-At]},o}function H4(){return Wu(mg).scale(109.5).parallels([30,30])}function Si(t,e){return[t,e]}Si.invert=Si;function V4(){return Ge(Si).scale(152.63)}function yg(t,e){var n=W(t),r=t===e?V(t):(n-W(e))/(e-t),i=n/r+t;if(ht(r)<J)return Si;function o(a,s){var c=i-s,u=r*a;return[c*V(u),i-c*W(u)]}return o.invert=function(a,s){var c=i-s,u=ee(a,ht(c))*_e(c);return c*r<0&&(u-=ft*_e(a)*_e(c)),[u/r,i-_e(r)*Dt(a*a+c*c)]},o}function j4(){return Wu(yg).scale(131.154).center([0,13.9389])}var oi=1.340264,ai=-.081106,si=893e-6,ci=.003796,ua=Dt(3)/2,W4=12;function Zu(t,e){var n=ne(ua*V(e)),r=n*n,i=r*r*r;return[t*W(n)/(ua*(oi+3*ai*r+i*(7*si+9*ci*r))),n*(oi+ai*r+i*(si+ci*r))]}Zu.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,s,c;o<W4&&(s=n*(oi+ai*r+i*(si+ci*r))-e,c=oi+3*ai*r+i*(7*si+9*ci*r),n-=a=s/c,r=n*n,i=r*r*r,!(ht(a)<xi));++o);return[ua*t*(oi+3*ai*r+i*(7*si+9*ci*r))/W(n),ne(V(n)/ua)]};function X4(){return Ge(Zu).scale(177.158)}function Qu(t,e){var n=W(e),r=W(t)*n;return[n*V(t)/r,V(e)/r]}Qu.invert=Di(Ir);function K4(){return Ge(Qu).scale(144.049).clipAngle(60)}function Z4(){var t=1,e=0,n=0,r=1,i=1,o=0,a,s,c=null,u,l,h,f=1,d=1,g=Pi({point:function(b,w){var x=v([b,w]);this.stream.point(x[0],x[1])}}),p=Mi,m,y;function _(){return f=t*r,d=t*i,m=y=null,v}function v(b){var w=b[0]*f,x=b[1]*d;if(o){var E=x*a-w*s;w=w*a+x*s,x=E}return[w+e,x+n]}return v.invert=function(b){var w=b[0]-e,x=b[1]-n;if(o){var E=x*a+w*s;w=w*a-x*s,x=E}return[w/f,x/d]},v.stream=function(b){return m&&y===b?m:m=g(p(y=b))},v.postclip=function(b){return arguments.length?(p=b,c=u=l=h=null,_()):p},v.clipExtent=function(b){return arguments.length?(p=b==null?(c=u=l=h=null,Mi):Ba(c=+b[0][0],u=+b[0][1],l=+b[1][0],h=+b[1][1]),_()):c==null?null:[[c,u],[l,h]]},v.scale=function(b){return arguments.length?(t=+b,_()):t},v.translate=function(b){return arguments.length?(e=+b[0],n=+b[1],_()):[e,n]},v.angle=function(b){return arguments.length?(o=b%360*tt,s=V(o),a=W(o),_()):o*vt},v.reflectX=function(b){return arguments.length?(r=b?-1:1,_()):r<0},v.reflectY=function(b){return arguments.length?(i=b?-1:1,_()):i<0},v.fitExtent=function(b,w){return qa(v,b,w)},v.fitSize=function(b,w){return Gu(v,b,w)},v.fitWidth=function(b,w){return Hu(v,b,w)},v.fitHeight=function(b,w){return Vu(v,b,w)},v}function Ju(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Ju.invert=function(t,e){var n=e,r=25,i;do{var o=n*n,a=o*o;n-=i=(n*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-e)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(ht(i)>J&&--r>0);return[t/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function Q4(){return Ge(Ju).scale(175.295)}function tl(t,e){return[W(e)*V(t),V(e)]}tl.invert=Di(ne);function J4(){return Ge(tl).scale(249.5).clipAngle(90+J)}function el(t,e){var n=W(e),r=1+W(t)*n;return[n*V(t)/r,V(e)/r]}el.invert=Di(function(t){return 2*Ir(t)});function t8(){return Ge(el).scale(250).clipAngle(142)}function nl(t,e){return[Uo(Uu((At+e)/2)),-t]}nl.invert=function(t,e){return[-e,2*Ir(R1(t))-At]};function e8(){var t=pg(nl),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function n8(t,e){return t.parent===e.parent?1:2}function r8(t){return t.reduce(i8,0)/t.length}function i8(t,e){return t+e.x}function o8(t){return 1+t.reduce(a8,0)}function a8(t,e){return Math.max(t,e.y)}function s8(t){for(var e;e=t.children;)t=e[0];return t}function c8(t){for(var e;e=t.children;)t=e[e.length-1];return t}function u8(){var t=n8,e=1,n=1,r=!1;function i(o){var a,s=0;o.eachAfter(function(f){var d=f.children;d?(f.x=r8(d),f.y=o8(d)):(f.x=a?s+=t(f,a):0,f.y=0,a=f)});var c=s8(o),u=c8(o),l=c.x-t(c,u)/2,h=u.x+t(u,c)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*e,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-l)/(h-l)*e,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,e=+o[0],n=+o[1],i):r?null:[e,n]},i.nodeSize=function(o){return arguments.length?(r=!0,e=+o[0],n=+o[1],i):r?[e,n]:null},i}function l8(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function f8(){return this.eachAfter(l8)}function h8(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function d8(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function g8(t,e){for(var n=this,r=[n],i=[],o,a,s,c=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++c,this);return this}function p8(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function m8(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function y8(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function _8(t){for(var e=this,n=b8(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function b8(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function v8(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function w8(){return Array.from(this)}function x8(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function M8(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*k8(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Ya(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=$8)):e===void 0&&(e=E8);for(var n=new Fn(t),r,i=[n],o,a,s,c;r=i.pop();)if((a=e(r.data))&&(c=(a=Array.from(a)).length))for(r.children=a,s=c-1;s>=0;--s)i.push(o=a[s]=new Fn(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(_g)}function S8(){return Ya(this).eachBefore(T8)}function E8(t){return t.children}function $8(t){return Array.isArray(t)?t[1]:null}function T8(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function _g(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Fn(t){this.data=t,this.depth=this.height=0,this.parent=null}Fn.prototype=Ya.prototype={constructor:Fn,count:f8,each:h8,eachAfter:g8,eachBefore:d8,find:p8,sum:m8,sort:y8,path:_8,ancestors:v8,descendants:w8,leaves:x8,links:M8,copy:S8,[Symbol.iterator]:k8};function xo(t){return t==null?null:bg(t)}function bg(t){if(typeof t!="function")throw new Error;return t}function Mn(){return 0}function or(t){return function(){return t}}const A8=1664525,N8=1013904223,zh=4294967296;function rl(){let t=1;return()=>(t=(A8*t+N8)%zh)/zh}function C8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function I8(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function R8(t){return vg(t,rl())}function vg(t,e){for(var n=0,r=(t=I8(Array.from(t),e)).length,i=[],o,a;n<r;)o=t[n],a&&wg(a,o)?++n:(a=D8(i=P8(i,o)),n=0);return a}function P8(t,e){var n,r;if(Os(e,t))return[e];for(n=0;n<t.length;++n)if(ro(e,t[n])&&Os(Jr(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(ro(Jr(t[n],t[r]),e)&&ro(Jr(t[n],e),t[r])&&ro(Jr(t[r],e),t[n])&&Os(xg(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function ro(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function wg(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Os(t,e){for(var n=0;n<e.length;++n)if(!wg(t,e[n]))return!1;return!0}function D8(t){switch(t.length){case 1:return z8(t[0]);case 2:return Jr(t[0],t[1]);case 3:return xg(t[0],t[1],t[2])}}function z8(t){return{x:t.x,y:t.y,r:t.r}}function Jr(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,c=o-n,u=a-r,l=s-i,h=Math.sqrt(c*c+u*u);return{x:(n+o+c/h*l)/2,y:(r+a+u/h*l)/2,r:(h+i+s)/2}}function xg(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,c=e.r,u=n.x,l=n.y,h=n.r,f=r-a,d=r-u,g=i-s,p=i-l,m=c-o,y=h-o,_=r*r+i*i-o*o,v=_-a*a-s*s+c*c,b=_-u*u-l*l+h*h,w=d*g-f*p,x=(g*b-p*v)/(w*2)-r,E=(p*m-g*y)/w,$=(d*v-f*b)/(w*2)-i,I=(f*y-d*m)/w,S=E*E+I*I-1,M=2*(o+x*E+$*I),C=x*x+$*$-o*o,T=-(Math.abs(S)>1e-6?(M+Math.sqrt(M*M-4*S*C))/(2*S):C/M);return{x:r+x+E*T,y:i+$+I*T,r:T}}function Oh(t,e,n){var r=t.x-e.x,i,o,a=t.y-e.y,s,c,u=r*r+a*a;u?(o=e.r+n.r,o*=o,c=t.r+n.r,c*=c,o>c?(i=(u+c-o)/(2*u),s=Math.sqrt(Math.max(0,c/u-i*i)),n.x=t.x-i*r-s*a,n.y=t.y-i*a+s*r):(i=(u+o-c)/(2*u),s=Math.sqrt(Math.max(0,o/u-i*i)),n.x=e.x+i*r-s*a,n.y=e.y+i*a+s*r)):(n.x=e.x+n.r,n.y=e.y)}function Lh(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Fh(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function io(t){this._=t,this.next=null,this.previous=null}function Mg(t,e){if(!(o=(t=C8(t)).length))return 0;var n,r,i,o,a,s,c,u,l,h,f;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Oh(r,n,i=t[2]),n=new io(n),r=new io(r),i=new io(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(c=3;c<o;++c){Oh(n._,r._,i=t[c]),i=new io(i),u=r.next,l=n.previous,h=r._.r,f=n._.r;do if(h<=f){if(Lh(u._,i._)){r=u,n.next=r,r.previous=n,--c;continue t}h+=u._.r,u=u.next}else{if(Lh(l._,i._)){n=l,n.next=r,r.previous=n,--c;continue t}f+=l._.r,l=l.previous}while(u!==l.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=Fh(n);(i=i.next)!==r;)(s=Fh(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=vg(n,e),c=0;c<o;++c)n=t[c],n.x-=i.x,n.y-=i.y;return i.r}function O8(t){return Mg(t,rl()),t}function L8(t){return Math.sqrt(t.value)}function kg(){var t=null,e=1,n=1,r=Mn;function i(o){const a=rl();return o.x=e/2,o.y=n/2,t?o.eachBefore(Uh(t)).eachAfter(Ls(r,.5,a)).eachBefore(Bh(1)):o.eachBefore(Uh(L8)).eachAfter(Ls(Mn,1,a)).eachAfter(Ls(r,o.r/Math.min(e,n),a)).eachBefore(Bh(Math.min(e,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=xo(o),i):t},i.size=function(o){return arguments.length?(e=+o[0],n=+o[1],i):[e,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:or(+o),i):r},i}function Uh(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Ls(t,e,n){return function(r){if(i=r.children){var i,o,a=i.length,s=t(r)*e||0,c;if(s)for(o=0;o<a;++o)i[o].r+=s;if(c=Mg(i,n),s)for(o=0;o<a;++o)i[o].r-=s;r.r=c+s}}}function Bh(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Sg(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Oi(t,e,n,r,i){for(var o=t.children,a,s=-1,c=o.length,u=t.value&&(r-e)/t.value;++s<c;)a=o[s],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}function F8(){var t=1,e=1,n=0,r=!1;function i(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/s,a.eachBefore(o(e,s)),r&&a.eachBefore(Sg),a}function o(a,s){return function(c){c.children&&Oi(c,c.x0,a*(c.depth+1)/s,c.x1,a*(c.depth+2)/s);var u=c.x0,l=c.y0,h=c.x1-n,f=c.y1-n;h<u&&(u=h=(u+h)/2),f<l&&(l=f=(l+f)/2),c.x0=u,c.y0=l,c.x1=h,c.y1=f}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(t=+a[0],e=+a[1],i):[t,e]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}var U8={depth:-1},qh={},Fs={};function B8(t){return t.id}function q8(t){return t.parentId}function Y8(){var t=B8,e=q8,n;function r(i){var o=Array.from(i),a=t,s=e,c,u,l,h,f,d,g,p,m=new Map;if(n!=null){const y=o.map((b,w)=>G8(n(b,w,i))),_=y.map(Yh),v=new Set(y).add("");for(const b of _)v.has(b)||(v.add(b),y.push(b),_.push(Yh(b)),o.push(Fs));a=(b,w)=>y[w],s=(b,w)=>_[w]}for(l=0,c=o.length;l<c;++l)u=o[l],d=o[l]=new Fn(u),(g=a(u,l,i))!=null&&(g+="")&&(p=d.id=g,m.set(p,m.has(p)?qh:d)),(g=s(u,l,i))!=null&&(g+="")&&(d.parent=g);for(l=0;l<c;++l)if(d=o[l],g=d.parent){if(f=m.get(g),!f)throw new Error("missing: "+g);if(f===qh)throw new Error("ambiguous: "+g);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(n!=null){for(;h.data===Fs&&h.children.length===1;)h=h.children[0],--c;for(let y=o.length-1;y>=0&&(d=o[y],d.data===Fs);--y)d.data=null}if(h.parent=U8,h.eachBefore(function(y){y.depth=y.parent.depth+1,--c}).eachBefore(_g),h.parent=null,c>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=xo(i),r):t},r.parentId=function(i){return arguments.length?(e=xo(i),r):e},r.path=function(i){return arguments.length?(n=xo(i),r):n},r}function G8(t){t=`${t}`;let e=t.length;return Wc(t,e-1)&&!Wc(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function Yh(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Wc(t,e););return t.slice(0,e)}function Wc(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function H8(t,e){return t.parent===e.parent?1:2}function Us(t){var e=t.children;return e?e[0]:t.t}function Bs(t){var e=t.children;return e?e[e.length-1]:t.t}function V8(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function j8(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function W8(t,e,n){return t.a.parent===e.parent?t.a:n}function Mo(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Mo.prototype=Object.create(Fn.prototype);function X8(t){for(var e=new Mo(t,0),n,r=[e],i,o,a,s;n=r.pop();)if(o=n._.children)for(n.children=new Array(s=o.length),a=s-1;a>=0;--a)r.push(i=n.children[a]=new Mo(o[a],a)),i.parent=n;return(e.parent=new Mo(null,0)).children=[e],e}function K8(){var t=H8,e=1,n=1,r=null;function i(u){var l=X8(u);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)u.eachBefore(c);else{var h=u,f=u,d=u;u.eachBefore(function(_){_.x<h.x&&(h=_),_.x>f.x&&(f=_),_.depth>d.depth&&(d=_)});var g=h===f?1:t(h,f)/2,p=g-h.x,m=e/(f.x+g+p),y=n/(d.depth||1);u.eachBefore(function(_){_.x=(_.x+p)*m,_.y=_.depth*y})}return u}function o(u){var l=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(l){j8(u);var d=(l[0].z+l[l.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-d):u.z=d}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,l,h){if(l){for(var f=u,d=u,g=l,p=f.parent.children[0],m=f.m,y=d.m,_=g.m,v=p.m,b;g=Bs(g),f=Us(f),g&&f;)p=Us(p),d=Bs(d),d.a=u,b=g.z+_-f.z-m+t(g._,f._),b>0&&(V8(W8(g,u,h),u,b),m+=b,y+=b),_+=g.m,m+=f.m,v+=p.m,y+=d.m;g&&!Bs(d)&&(d.t=g,d.m+=_-y),f&&!Us(p)&&(p.t=f,p.m+=m-v,h=u)}return h}function c(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i}function Ga(t,e,n,r,i){for(var o=t.children,a,s=-1,c=o.length,u=t.value&&(i-n)/t.value;++s<c;)a=o[s],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var Eg=(1+Math.sqrt(5))/2;function $g(t,e,n,r,i,o){for(var a=[],s=e.children,c,u,l=0,h=0,f=s.length,d,g,p=e.value,m,y,_,v,b,w,x;l<f;){d=i-n,g=o-r;do m=s[h++].value;while(!m&&h<f);for(y=_=m,w=Math.max(g/d,d/g)/(p*t),x=m*m*w,b=Math.max(_/x,x/y);h<f;++h){if(m+=u=s[h].value,u<y&&(y=u),u>_&&(_=u),x=m*m*w,v=Math.max(_/x,x/y),v>b){m-=u;break}b=v}a.push(c={value:m,dice:d<g,children:s.slice(l,h)}),c.dice?Oi(c,n,r,i,p?r+=g*m/p:o):Ga(c,n,r,p?n+=d*m/p:i,o),p-=m,l=h}return a}const Tg=function t(e){function n(r,i,o,a,s){$g(e,r,i,o,a,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Eg);function Z8(){var t=Tg,e=!1,n=1,r=1,i=[0],o=Mn,a=Mn,s=Mn,c=Mn,u=Mn;function l(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),i=[0],e&&f.eachBefore(Sg),f}function h(f){var d=i[f.depth],g=f.x0+d,p=f.y0+d,m=f.x1-d,y=f.y1-d;m<g&&(g=m=(g+m)/2),y<p&&(p=y=(p+y)/2),f.x0=g,f.y0=p,f.x1=m,f.y1=y,f.children&&(d=i[f.depth+1]=o(f)/2,g+=u(f)-d,p+=a(f)-d,m-=s(f)-d,y-=c(f)-d,m<g&&(g=m=(g+m)/2),y<p&&(p=y=(p+y)/2),t(f,g,p,m,y))}return l.round=function(f){return arguments.length?(e=!!f,l):e},l.size=function(f){return arguments.length?(n=+f[0],r=+f[1],l):[n,r]},l.tile=function(f){return arguments.length?(t=bg(f),l):t},l.padding=function(f){return arguments.length?l.paddingInner(f).paddingOuter(f):l.paddingInner()},l.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:or(+f),l):o},l.paddingOuter=function(f){return arguments.length?l.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):l.paddingTop()},l.paddingTop=function(f){return arguments.length?(a=typeof f=="function"?f:or(+f),l):a},l.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:or(+f),l):s},l.paddingBottom=function(f){return arguments.length?(c=typeof f=="function"?f:or(+f),l):c},l.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:or(+f),l):u},l}function Q8(t,e,n,r,i){var o=t.children,a,s=o.length,c,u=new Array(s+1);for(u[0]=c=a=0;a<s;++a)u[a+1]=c+=o[a].value;l(0,s,t.value,e,n,r,i);function l(h,f,d,g,p,m,y){if(h>=f-1){var _=o[h];_.x0=g,_.y0=p,_.x1=m,_.y1=y;return}for(var v=u[h],b=d/2+v,w=h+1,x=f-1;w<x;){var E=w+x>>>1;u[E]<b?w=E+1:x=E}b-u[w-1]<u[w]-b&&h+1<w&&--w;var $=u[w]-v,I=d-$;if(m-g>y-p){var S=d?(g*I+m*$)/d:m;l(h,w,$,g,p,S,y),l(w,f,I,S,p,m,y)}else{var M=d?(p*I+y*$)/d:y;l(h,w,$,g,p,m,M),l(w,f,I,g,M,m,y)}}}function J8(t,e,n,r,i){(t.depth&1?Ga:Oi)(t,e,n,r,i)}const t7=function t(e){function n(r,i,o,a,s){if((c=r._squarify)&&c.ratio===e)for(var c,u,l,h,f=-1,d,g=c.length,p=r.value;++f<g;){for(u=c[f],l=u.children,h=u.value=0,d=l.length;h<d;++h)u.value+=l[h].value;u.dice?Oi(u,i,o,a,p?o+=(s-o)*u.value/p:s):Ga(u,i,o,p?i+=(a-i)*u.value/p:a,s),p-=u.value}else r._squarify=c=$g(e,r,i,o,a,s),c.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Eg);function e7(t){for(var e=-1,n=t.length,r,i=t[n-1],o=0;++e<n;)r=i,i=t[e],o+=r[1]*i[0]-r[0]*i[1];return o/2}function n7(t){for(var e=-1,n=t.length,r=0,i=0,o,a=t[n-1],s,c=0;++e<n;)o=a,a=t[e],c+=s=o[0]*a[1]-a[0]*o[1],r+=(o[0]+a[0])*s,i+=(o[1]+a[1])*s;return c*=3,[r/c,i/c]}function r7(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function i7(t,e){return t[0]-e[0]||t[1]-e[1]}function Gh(t){const e=t.length,n=[0,1];let r=2,i;for(i=2;i<e;++i){for(;r>1&&r7(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function o7(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(i7),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Gh(r),a=Gh(i),s=a[0]===o[0],c=a[a.length-1]===o[o.length-1],u=[];for(e=o.length-1;e>=0;--e)u.push(t[r[o[e]][2]]);for(e=+s;e<a.length-c;++e)u.push(t[r[a[e]][2]]);return u}function a7(t,e){for(var n=t.length,r=t[n-1],i=e[0],o=e[1],a=r[0],s=r[1],c,u,l=!1,h=0;h<n;++h)r=t[h],c=r[0],u=r[1],u>o!=s>o&&i<(a-c)*(o-u)/(s-u)+c&&(l=!l),a=c,s=u;return l}function s7(t){for(var e=-1,n=t.length,r=t[n-1],i,o,a=r[0],s=r[1],c=0;++e<n;)i=a,o=s,r=t[e],a=r[0],s=r[1],i-=a,o-=s,c+=Math.hypot(i,o);return c}const Ot=Math.random,c7=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(Ot),u7=function t(e){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(e()*i+r)}}return n.source=t,n}(Ot),il=function t(e){function n(r,i){var o,a;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(o!=null)s=o,o=null;else do o=e()*2-1,s=e()*2-1,a=o*o+s*s;while(!a||a>1);return r+i*s*Math.sqrt(-2*Math.log(a)/a)}}return n.source=t,n}(Ot),l7=function t(e){var n=il.source(e);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(Ot),Ag=function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=e();return i+o*e()}}return n.source=t,n}(Ot),f7=function t(e){var n=Ag.source(e);function r(i){if((i=+i)==0)return e;var o=n(i);return function(){return o()/i}}return r.source=t,r}(Ot),h7=function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n}(Ot),d7=function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n}(Ot),g7=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n}(Ot),Ng=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n}(Ot),ol=function t(e){var n=il.source(e)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-e())*o;var a=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(a)),c=i<1?()=>Math.pow(e(),1/i):()=>1;return function(){do{do var u=n(),l=1+s*u;while(l<=0);l*=l*l;var h=1-e()}while(h>=1-.0331*u*u*u*u&&Math.log(h)>=.5*u*u+a*(1-l+Math.log(l)));return a*l*c()*o}}return r.source=t,r}(Ot),Cg=function t(e){var n=ol.source(e);function r(i,o){var a=n(i),s=n(o);return function(){var c=a();return c===0?0:c/(c+s())}}return r.source=t,r}(Ot),Ig=function t(e){var n=Ng.source(e),r=Cg.source(e);function i(o,a){return o=+o,(a=+a)>=1?()=>o:a<=0?()=>0:function(){for(var s=0,c=o,u=a;c*u>16&&c*(1-u)>16;){var l=Math.floor((c+1)*u),h=r(l,c-l+1)();h<=u?(s+=l,c-=l,u=(u-h)/(1-h)):(c=l-1,u/=h)}for(var f=u<.5,d=f?u:1-u,g=n(d),p=g(),m=0;p<=c;++m)p+=g();return s+(f?m:c-m)}}return i.source=t,i}(Ot),p7=function t(e){function n(r,i,o){var a;return(r=+r)==0?a=s=>-Math.log(s):(r=1/r,a=s=>Math.pow(s,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*a(-Math.log1p(-e()))}}return n.source=t,n}(Ot),m7=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*e())}}return n.source=t,n}(Ot),y7=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=e();return r+i*Math.log(o/(1-o))}}return n.source=t,n}(Ot),_7=function t(e){var n=ol.source(e),r=Ig.source(e);function i(o){return function(){for(var a=0,s=o;s>16;){var c=Math.floor(.875*s),u=n(c)();if(u>s)return a+r(c-1,s/u)();a+=c,s-=u}for(var l=-Math.log1p(-e()),h=0;l<=s;++h)l-=Math.log1p(-e());return a+h}}return i.source=t,i}(Ot),b7=1664525,v7=1013904223,Hh=1/4294967296;function w7(t=Math.random()){let e=(0<=t&&t<1?t/Hh:Math.abs(t))|0;return()=>(e=b7*e+v7|0,Hh*(e>>>0))}function ke(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function nn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Xc=Symbol("implicit");function al(){var t=new fi,e=[],n=[],r=Xc;function i(o){let a=t.get(o);if(a===void 0){if(r!==Xc)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new fi;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return al(e,n).unknown(r)},ke.apply(i,arguments),i}function sl(){var t=al().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,c=0,u=0,l=.5;delete t.unknown;function h(){var f=e().length,d=i<r,g=d?i:r,p=d?r:i;o=(p-g)/Math.max(1,f-c+u*2),s&&(o=Math.floor(o)),g+=(p-g-o*(f-c))*l,a=o*(1-c),s&&(g=Math.round(g),a=Math.round(a));var m=cn(f).map(function(y){return g+o*y});return n(d?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),h()):l},t.copy=function(){return sl(e(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(l)},ke.apply(h(),arguments)}function Rg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Rg(e())},t}function Kc(){return Rg(sl.apply(null,arguments).paddingInner(1))}function x7(t){return function(){return t}}function la(t){return+t}var Vh=[0,1];function Qt(t){return t}function Zc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:x7(isNaN(e)?NaN:.5)}function M7(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function k7(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Zc(i,r),o=n(a,o)):(r=Zc(r,i),o=n(o,a)),function(s){return o(r(s))}}function S7(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Zc(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var c=Gn(t,s,1,r)-1;return o[c](i[c](s))}}function Li(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ha(){var t=Vh,e=Vh,n=mn,r,i,o,a=Qt,s,c,u;function l(){var f=Math.min(t.length,e.length);return a!==Qt&&(a=M7(t[0],t[f-1])),s=f>2?S7:k7,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(c||(c=s(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((u||(u=s(e,t.map(r),me)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,la),l()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),l()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=Ra,l()},h.clamp=function(f){return arguments.length?(a=f?!0:Qt,l()):a!==Qt},h.interpolate=function(f){return arguments.length?(n=f,l()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,d){return r=f,i=d,l()}}function cl(){return Ha()(Qt,Qt)}function Pg(t,e,n,r){var i=$o(t,e,n),o;switch(r=wr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=C1(i,a))&&(r.precision=o),Fu(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=I1(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=N1(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ua(r)}function yn(t){var e=t.domain;return t.ticks=function(n){var r=e();return In(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Pg(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],c,u,l=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);l-- >0;){if(u=Rn(a,s,n),u===c)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;c=u}return t},t}function Dg(){var t=cl();return t.copy=function(){return Li(t,Dg())},ke.apply(t,arguments),yn(t)}function zg(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,la),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return zg(t).unknown(e)},t=arguments.length?Array.from(t,la):[0,1],yn(n)}function Og(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function jh(t){return Math.log(t)}function Wh(t){return Math.exp(t)}function E7(t){return-Math.log(-t)}function $7(t){return-Math.exp(-t)}function T7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function A7(t){return t===10?T7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function N7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Xh(t){return(e,n)=>-t(-e,n)}function ul(t){const e=t(jh,Wh),n=e.domain;let r=10,i,o;function a(){return i=N7(r),o=A7(r),n()[0]<0?(i=Xh(i),o=Xh(o),t(E7,$7)):t(jh,Wh),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const c=n();let u=c[0],l=c[c.length-1];const h=l<u;h&&([u,l]=[l,u]);let f=i(u),d=i(l),g,p;const m=s==null?10:+s;let y=[];if(!(r%1)&&d-f<m){if(f=Math.floor(f),d=Math.ceil(d),u>0){for(;f<=d;++f)for(g=1;g<r;++g)if(p=f<0?g/o(-f):g*o(f),!(p<u)){if(p>l)break;y.push(p)}}else for(;f<=d;++f)for(g=r-1;g>=1;--g)if(p=f>0?g/o(-f):g*o(f),!(p<u)){if(p>l)break;y.push(p)}y.length*2<m&&(y=In(u,l,m))}else y=In(f,d,Math.min(d-f,m)).map(o);return h?y.reverse():y},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=wr(c)).precision==null&&(c.trim=!0),c=Ua(c)),s===1/0)return c;const u=Math.max(1,r*s/e.ticks().length);return l=>{let h=l/o(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=u?c(l):""}},e.nice=()=>n(Og(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Lg(){const t=ul(Ha()).domain([1,10]);return t.copy=()=>Li(t,Lg()).base(t.base()),ke.apply(t,arguments),t}function Kh(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Zh(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ll(t){var e=1,n=t(Kh(e),Zh(e));return n.constant=function(r){return arguments.length?t(Kh(e=+r),Zh(e)):e},yn(n)}function Fg(){var t=ll(Ha());return t.copy=function(){return Li(t,Fg()).constant(t.constant())},ke.apply(t,arguments)}function Qh(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function C7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function I7(t){return t<0?-t*t:t*t}function fl(t){var e=t(Qt,Qt),n=1;function r(){return n===1?t(Qt,Qt):n===.5?t(C7,I7):t(Qh(n),Qh(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},yn(e)}function hl(){var t=fl(Ha());return t.copy=function(){return Li(t,hl()).exponent(t.exponent())},ke.apply(t,arguments),t}function R7(){return hl.apply(null,arguments).exponent(.5)}function Jh(t){return Math.sign(t)*t*t}function P7(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ug(){var t=cl(),e=[0,1],n=!1,r;function i(o){var a=P7(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(Jh(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,la)).map(Jh)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ug(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ke.apply(i,arguments),yn(i)}function Bg(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=yd(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Gn(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Et),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Bg().domain(t).range(e).unknown(r)},ke.apply(o,arguments)}function qg(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[Gn(r,c,0,n)]:o}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return qg().domain([t,e]).range(i).unknown(o)},ke.apply(yn(a),arguments)}function Yg(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Gn(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Yg().domain(t).range(e).unknown(n)},ke.apply(i,arguments)}const qs=new Date,Ys=new Date;function Nt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const c=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return c;let u;do c.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return c},i.filter=o=>Nt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(qs.setTime(+o),Ys.setTime(+a),t(qs),t(Ys),Math.floor(n(qs,Ys))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Sr=Nt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sr.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Sr);const t0=Sr.range,Ke=1e3,be=Ke*60,Ze=be*60,en=Ze*24,dl=en*7,e0=en*30,Gs=en*365,Qe=Nt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ke)},(t,e)=>(e-t)/Ke,t=>t.getUTCSeconds()),n0=Qe.range,Va=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ke)},(t,e)=>{t.setTime(+t+e*be)},(t,e)=>(e-t)/be,t=>t.getMinutes()),D7=Va.range,ja=Nt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*be)},(t,e)=>(e-t)/be,t=>t.getUTCMinutes()),z7=ja.range,Wa=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ke-t.getMinutes()*be)},(t,e)=>{t.setTime(+t+e*Ze)},(t,e)=>(e-t)/Ze,t=>t.getHours()),O7=Wa.range,Xa=Nt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ze)},(t,e)=>(e-t)/Ze,t=>t.getUTCHours()),L7=Xa.range,Rr=Nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*be)/en,t=>t.getDate()-1),F7=Rr.range,Fi=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/en,t=>t.getUTCDate()-1),U7=Fi.range,gl=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/en,t=>Math.floor(t/en)),B7=gl.range;function jn(t){return Nt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*be)/dl)}const Er=jn(0),Ei=jn(1),Gg=jn(2),Hg=jn(3),Un=jn(4),Vg=jn(5),jg=jn(6),r0=Er.range,q7=Ei.range,Y7=Gg.range,G7=Hg.range,H7=Un.range,V7=Vg.range,j7=jg.range;function Wn(t){return Nt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dl)}const $r=Wn(0),$i=Wn(1),Wg=Wn(2),Xg=Wn(3),Bn=Wn(4),Kg=Wn(5),Zg=Wn(6),i0=$r.range,W7=$i.range,X7=Wg.range,K7=Xg.range,Z7=Bn.range,Q7=Kg.range,J7=Zg.range,Ka=Nt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),tx=Ka.range,Za=Nt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),ex=Za.range,Be=Nt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Be.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});const nx=Be.range,qe=Nt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qe.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});const rx=qe.range;function Qg(t,e,n,r,i,o){const a=[[Qe,1,Ke],[Qe,5,5*Ke],[Qe,15,15*Ke],[Qe,30,30*Ke],[o,1,be],[o,5,5*be],[o,15,15*be],[o,30,30*be],[i,1,Ze],[i,3,3*Ze],[i,6,6*Ze],[i,12,12*Ze],[r,1,en],[r,2,2*en],[n,1,dl],[e,1,e0],[e,3,3*e0],[t,1,Gs]];function s(u,l,h){const f=l<u;f&&([u,l]=[l,u]);const d=h&&typeof h.range=="function"?h:c(u,l,h),g=d?d.range(u,+l+1):[];return f?g.reverse():g}function c(u,l,h){const f=Math.abs(l-u)/h,d=xa(([,,m])=>m).right(a,f);if(d===a.length)return t.every($o(u/Gs,l/Gs,h));if(d===0)return Sr.every(Math.max($o(u,l,h),1));const[g,p]=a[f/a[d-1][2]<a[d][2]/f?d-1:d];return g.every(p)}return[s,c]}const[Jg,tp]=Qg(qe,Za,$r,gl,Xa,ja),[ep,np]=Qg(Be,Ka,Er,Rr,Wa,Va);function Hs(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vs(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ur(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rp(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,c=t.shortMonths,u=Br(i),l=qr(i),h=Br(o),f=qr(o),d=Br(a),g=qr(a),p=Br(s),m=qr(s),y=Br(c),_=qr(c),v={a:R,A:D,b:P,B,c:null,d:l0,e:l0,f:Ex,g:zx,G:Lx,H:Mx,I:kx,j:Sx,L:ip,m:$x,M:Tx,p:q,q:O,Q:d0,s:g0,S:Ax,u:Nx,U:Cx,V:Ix,w:Rx,W:Px,x:null,X:null,y:Dx,Y:Ox,Z:Fx,"%":h0},b={a:K,A:it,b:rt,B:Q,c:null,d:f0,e:f0,f:Yx,g:Jx,G:e9,H:Ux,I:Bx,j:qx,L:ap,m:Gx,M:Hx,p:j,q:gt,Q:d0,s:g0,S:Vx,u:jx,U:Wx,V:Xx,w:Kx,W:Zx,x:null,X:null,y:Qx,Y:t9,Z:n9,"%":h0},w={a:S,A:M,b:C,B:T,c:k,d:c0,e:c0,f:bx,g:s0,G:a0,H:u0,I:u0,j:px,L:_x,m:gx,M:mx,p:I,q:dx,Q:wx,s:xx,S:yx,u:cx,U:ux,V:lx,w:sx,W:fx,x:A,X:N,y:s0,Y:a0,Z:hx,"%":vx};v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b);function x(Y,nt){return function(at){var F=[],xt=-1,bt=0,Ht=Y.length,Vt,et,$t;for(at instanceof Date||(at=new Date(+at));++xt<Ht;)Y.charCodeAt(xt)===37&&(F.push(Y.slice(bt,xt)),(et=o0[Vt=Y.charAt(++xt)])!=null?Vt=Y.charAt(++xt):et=Vt==="e"?" ":"0",($t=nt[Vt])&&(Vt=$t(at,et)),F.push(Vt),bt=xt+1);return F.push(Y.slice(bt,xt)),F.join("")}}function E(Y,nt){return function(at){var F=Ur(1900,void 0,1),xt=$(F,Y,at+="",0),bt,Ht;if(xt!=at.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(nt&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(bt=Vs(Ur(F.y,0,1)),Ht=bt.getUTCDay(),bt=Ht>4||Ht===0?$i.ceil(bt):$i(bt),bt=Fi.offset(bt,(F.V-1)*7),F.y=bt.getUTCFullYear(),F.m=bt.getUTCMonth(),F.d=bt.getUTCDate()+(F.w+6)%7):(bt=Hs(Ur(F.y,0,1)),Ht=bt.getDay(),bt=Ht>4||Ht===0?Ei.ceil(bt):Ei(bt),bt=Rr.offset(bt,(F.V-1)*7),F.y=bt.getFullYear(),F.m=bt.getMonth(),F.d=bt.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),Ht="Z"in F?Vs(Ur(F.y,0,1)).getUTCDay():Hs(Ur(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(Ht+5)%7:F.w+F.U*7-(Ht+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Vs(F)):Hs(F)}}function $(Y,nt,at,F){for(var xt=0,bt=nt.length,Ht=at.length,Vt,et;xt<bt;){if(F>=Ht)return-1;if(Vt=nt.charCodeAt(xt++),Vt===37){if(Vt=nt.charAt(xt++),et=w[Vt in o0?nt.charAt(xt++):Vt],!et||(F=et(Y,at,F))<0)return-1}else if(Vt!=at.charCodeAt(F++))return-1}return F}function I(Y,nt,at){var F=u.exec(nt.slice(at));return F?(Y.p=l.get(F[0].toLowerCase()),at+F[0].length):-1}function S(Y,nt,at){var F=d.exec(nt.slice(at));return F?(Y.w=g.get(F[0].toLowerCase()),at+F[0].length):-1}function M(Y,nt,at){var F=h.exec(nt.slice(at));return F?(Y.w=f.get(F[0].toLowerCase()),at+F[0].length):-1}function C(Y,nt,at){var F=y.exec(nt.slice(at));return F?(Y.m=_.get(F[0].toLowerCase()),at+F[0].length):-1}function T(Y,nt,at){var F=p.exec(nt.slice(at));return F?(Y.m=m.get(F[0].toLowerCase()),at+F[0].length):-1}function k(Y,nt,at){return $(Y,e,nt,at)}function A(Y,nt,at){return $(Y,n,nt,at)}function N(Y,nt,at){return $(Y,r,nt,at)}function R(Y){return a[Y.getDay()]}function D(Y){return o[Y.getDay()]}function P(Y){return c[Y.getMonth()]}function B(Y){return s[Y.getMonth()]}function q(Y){return i[+(Y.getHours()>=12)]}function O(Y){return 1+~~(Y.getMonth()/3)}function K(Y){return a[Y.getUTCDay()]}function it(Y){return o[Y.getUTCDay()]}function rt(Y){return c[Y.getUTCMonth()]}function Q(Y){return s[Y.getUTCMonth()]}function j(Y){return i[+(Y.getUTCHours()>=12)]}function gt(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var nt=x(Y+="",v);return nt.toString=function(){return Y},nt},parse:function(Y){var nt=E(Y+="",!1);return nt.toString=function(){return Y},nt},utcFormat:function(Y){var nt=x(Y+="",b);return nt.toString=function(){return Y},nt},utcParse:function(Y){var nt=E(Y+="",!0);return nt.toString=function(){return Y},nt}}}var o0={"-":"",_:" ",0:"0"},zt=/^\s*\d+/,ix=/^%/,ox=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ax(t){return t.replace(ox,"\\$&")}function Br(t){return new RegExp("^(?:"+t.map(ax).join("|")+")","i")}function qr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sx(t,e,n){var r=zt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cx(t,e,n){var r=zt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ux(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lx(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fx(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function a0(t,e,n){var r=zt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function s0(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hx(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dx(t,e,n){var r=zt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function gx(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function c0(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function px(t,e,n){var r=zt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function u0(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mx(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yx(t,e,n){var r=zt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _x(t,e,n){var r=zt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bx(t,e,n){var r=zt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vx(t,e,n){var r=ix.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wx(t,e,n){var r=zt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xx(t,e,n){var r=zt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function l0(t,e){return mt(t.getDate(),e,2)}function Mx(t,e){return mt(t.getHours(),e,2)}function kx(t,e){return mt(t.getHours()%12||12,e,2)}function Sx(t,e){return mt(1+Rr.count(Be(t),t),e,3)}function ip(t,e){return mt(t.getMilliseconds(),e,3)}function Ex(t,e){return ip(t,e)+"000"}function $x(t,e){return mt(t.getMonth()+1,e,2)}function Tx(t,e){return mt(t.getMinutes(),e,2)}function Ax(t,e){return mt(t.getSeconds(),e,2)}function Nx(t){var e=t.getDay();return e===0?7:e}function Cx(t,e){return mt(Er.count(Be(t)-1,t),e,2)}function op(t){var e=t.getDay();return e>=4||e===0?Un(t):Un.ceil(t)}function Ix(t,e){return t=op(t),mt(Un.count(Be(t),t)+(Be(t).getDay()===4),e,2)}function Rx(t){return t.getDay()}function Px(t,e){return mt(Ei.count(Be(t)-1,t),e,2)}function Dx(t,e){return mt(t.getFullYear()%100,e,2)}function zx(t,e){return t=op(t),mt(t.getFullYear()%100,e,2)}function Ox(t,e){return mt(t.getFullYear()%1e4,e,4)}function Lx(t,e){var n=t.getDay();return t=n>=4||n===0?Un(t):Un.ceil(t),mt(t.getFullYear()%1e4,e,4)}function Fx(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function f0(t,e){return mt(t.getUTCDate(),e,2)}function Ux(t,e){return mt(t.getUTCHours(),e,2)}function Bx(t,e){return mt(t.getUTCHours()%12||12,e,2)}function qx(t,e){return mt(1+Fi.count(qe(t),t),e,3)}function ap(t,e){return mt(t.getUTCMilliseconds(),e,3)}function Yx(t,e){return ap(t,e)+"000"}function Gx(t,e){return mt(t.getUTCMonth()+1,e,2)}function Hx(t,e){return mt(t.getUTCMinutes(),e,2)}function Vx(t,e){return mt(t.getUTCSeconds(),e,2)}function jx(t){var e=t.getUTCDay();return e===0?7:e}function Wx(t,e){return mt($r.count(qe(t)-1,t),e,2)}function sp(t){var e=t.getUTCDay();return e>=4||e===0?Bn(t):Bn.ceil(t)}function Xx(t,e){return t=sp(t),mt(Bn.count(qe(t),t)+(qe(t).getUTCDay()===4),e,2)}function Kx(t){return t.getUTCDay()}function Zx(t,e){return mt($i.count(qe(t)-1,t),e,2)}function Qx(t,e){return mt(t.getUTCFullYear()%100,e,2)}function Jx(t,e){return t=sp(t),mt(t.getUTCFullYear()%100,e,2)}function t9(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function e9(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bn(t):Bn.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function n9(){return"+0000"}function h0(){return"%"}function d0(t){return+t}function g0(t){return Math.floor(+t/1e3)}var ir,pl,cp,Qa,ml;up({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function up(t){return ir=rp(t),pl=ir.format,cp=ir.parse,Qa=ir.utcFormat,ml=ir.utcParse,ir}var lp="%Y-%m-%dT%H:%M:%S.%LZ";function r9(t){return t.toISOString()}var i9=Date.prototype.toISOString?r9:Qa(lp);const o9=i9;function a9(t){var e=new Date(t);return isNaN(e)?null:e}var s9=+new Date("2000-01-01T00:00:00.000Z")?a9:ml(lp);const c9=s9;function u9(t){return new Date(t)}function l9(t){return t instanceof Date?+t:+new Date(+t)}function yl(t,e,n,r,i,o,a,s,c,u){var l=cl(),h=l.invert,f=l.domain,d=u(".%L"),g=u(":%S"),p=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),_=u("%b %d"),v=u("%B"),b=u("%Y");function w(x){return(c(x)<x?d:s(x)<x?g:a(x)<x?p:o(x)<x?m:r(x)<x?i(x)<x?y:_:n(x)<x?v:b)(x)}return l.invert=function(x){return new Date(h(x))},l.domain=function(x){return arguments.length?f(Array.from(x,l9)):f().map(u9)},l.ticks=function(x){var E=f();return t(E[0],E[E.length-1],x??10)},l.tickFormat=function(x,E){return E==null?w:u(E)},l.nice=function(x){var E=f();return(!x||typeof x.range!="function")&&(x=e(E[0],E[E.length-1],x??10)),x?f(Og(E,x)):l},l.copy=function(){return Li(l,yl(t,e,n,r,i,o,a,s,c,u))},l}function f9(){return ke.apply(yl(ep,np,Be,Ka,Er,Rr,Wa,Va,Qe,pl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function h9(){return ke.apply(yl(Jg,tp,qe,Za,$r,Fi,Xa,ja,Qe,Qa).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ja(){var t=0,e=1,n,r,i,o,a=Qt,s=!1,c;function u(h){return h==null||isNaN(h=+h)?c:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(a=h,u):a};function l(h){return function(f){var d,g;return arguments.length?([d,g]=f,a=h(d,g),u):[a(0),a(1)]}}return u.range=l(mn),u.rangeRound=l(Ra),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function _n(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function fp(){var t=yn(Ja()(Qt));return t.copy=function(){return _n(t,fp())},nn.apply(t,arguments)}function hp(){var t=ul(Ja()).domain([1,10]);return t.copy=function(){return _n(t,hp()).base(t.base())},nn.apply(t,arguments)}function dp(){var t=ll(Ja());return t.copy=function(){return _n(t,dp()).constant(t.constant())},nn.apply(t,arguments)}function _l(){var t=fl(Ja());return t.copy=function(){return _n(t,_l()).exponent(t.exponent())},nn.apply(t,arguments)}function d9(){return _l.apply(null,arguments).exponent(.5)}function gp(){var t=[],e=Qt;function n(r){if(r!=null&&!isNaN(r=+r))return e((Gn(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Et),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>di(t,o/r))},n.copy=function(){return gp(e).domain(t)},nn.apply(n,arguments)}function ts(){var t=0,e=.5,n=1,r=1,i,o,a,s,c,u=Qt,l,h=!1,f;function d(p){return isNaN(p=+p)?f:(p=.5+((p=+l(p))-o)*(r*p<r*o?s:c),u(h?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e,n]=p,i=l(t=+t),o=l(e=+e),a=l(n=+n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(p){return arguments.length?(h=!!p,d):h},d.interpolator=function(p){return arguments.length?(u=p,d):u};function g(p){return function(m){var y,_,v;return arguments.length?([y,_,v]=m,u=u1(p,[y,_,v]),d):[u(0),u(.5),u(1)]}}return d.range=g(mn),d.rangeRound=g(Ra),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return l=p,i=p(t),o=p(e),a=p(n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function pp(){var t=yn(ts()(Qt));return t.copy=function(){return _n(t,pp())},nn.apply(t,arguments)}function mp(){var t=ul(ts()).domain([.1,1,10]);return t.copy=function(){return _n(t,mp()).base(t.base())},nn.apply(t,arguments)}function yp(){var t=ll(ts());return t.copy=function(){return _n(t,yp()).constant(t.constant())},nn.apply(t,arguments)}function bl(){var t=fl(ts());return t.copy=function(){return _n(t,bl()).exponent(t.exponent())},nn.apply(t,arguments)}function g9(){return bl.apply(null,arguments).exponent(.5)}function st(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const p9=st("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),m9=st("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),y9=st("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),_9=st("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),b9=st("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),v9=st("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),w9=st("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),x9=st("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),M9=st("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),k9=st("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),wt=t=>Kd(t[t.length-1]);var _p=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(st);const S9=wt(_p);var bp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(st);const E9=wt(bp);var vp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(st);const $9=wt(vp);var wp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(st);const T9=wt(wp);var xp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(st);const A9=wt(xp);var Mp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(st);const N9=wt(Mp);var kp=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(st);const C9=wt(kp);var Sp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(st);const I9=wt(Sp);var Ep=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(st);const R9=wt(Ep);var $p=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(st);const P9=wt($p);var Tp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(st);const D9=wt(Tp);var Ap=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(st);const z9=wt(Ap);var Np=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(st);const O9=wt(Np);var Cp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(st);const L9=wt(Cp);var Ip=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(st);const F9=wt(Ip);var Rp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(st);const U9=wt(Rp);var Pp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(st);const B9=wt(Pp);var Dp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(st);const q9=wt(Dp);var zp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(st);const Y9=wt(zp);var Op=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(st);const G9=wt(Op);var Lp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(st);const H9=wt(Lp);var Fp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(st);const V9=wt(Fp);var Up=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(st);const j9=wt(Up);var vl=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(st);const W9=wt(vl);var Bp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(st);const X9=wt(Bp);var qp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(st);const K9=wt(qp);var Yp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(st);const Z9=wt(Yp);function Q9(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const J9=Pa(Ne(300,.5,0),Ne(-240,.5,1));var tM=Pa(Ne(-100,.75,.35),Ne(80,1.5,.8)),eM=Pa(Ne(260,.75,.35),Ne(80,1.5,.8)),oo=Ne();function nM(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return oo.h=360*t-100,oo.s=1.5-1.5*e,oo.l=.8-.9*e,oo+""}var ao=yr(),rM=Math.PI/3,iM=Math.PI*2/3;function oM(t){var e;return t=(.5-t)*Math.PI,ao.r=255*(e=Math.sin(t))*e,ao.g=255*(e=Math.sin(t+rM))*e,ao.b=255*(e=Math.sin(t+iM))*e,ao+""}function aM(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function es(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const sM=es(st("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var cM=es(st("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),uM=es(st("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),lM=es(st("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ot(t){return function(){return t}}const p0=Math.abs,Bt=Math.atan2,We=Math.cos,fM=Math.max,hr=Math.min,ue=Math.sin,Mt=Math.sqrt,qt=1e-12,dn=Math.PI,fa=dn/2,ln=2*dn;function hM(t){return t>1?0:t<-1?dn:Math.acos(t)}function m0(t){return t>=1?fa:t<=-1?-fa:Math.asin(t)}function Ui(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ci(e)}function dM(t){return t.innerRadius}function gM(t){return t.outerRadius}function pM(t){return t.startAngle}function mM(t){return t.endAngle}function yM(t){return t&&t.padAngle}function _M(t,e,n,r,i,o,a,s){var c=n-t,u=r-e,l=a-i,h=s-o,f=h*c-l*u;if(!(f*f<qt))return f=(l*(e-o)-h*(t-i))/f,[t+f*c,e+f*u]}function so(t,e,n,r,i,o,a){var s=t-n,c=e-r,u=(a?o:-o)/Mt(s*s+c*c),l=u*c,h=-u*s,f=t+l,d=e+h,g=n+l,p=r+h,m=(f+g)/2,y=(d+p)/2,_=g-f,v=p-d,b=_*_+v*v,w=i-o,x=f*p-g*d,E=(v<0?-1:1)*Mt(fM(0,w*w*b-x*x)),$=(x*v-_*E)/b,I=(-x*_-v*E)/b,S=(x*v+_*E)/b,M=(-x*_+v*E)/b,C=$-m,T=I-y,k=S-m,A=M-y;return C*C+T*T>k*k+A*A&&($=S,I=M),{cx:$,cy:I,x01:-l,y01:-h,x11:$*(i/w-1),y11:I*(i/w-1)}}function bM(){var t=dM,e=gM,n=ot(0),r=null,i=pM,o=mM,a=yM,s=null,c=Ui(u);function u(){var l,h,f=+t.apply(this,arguments),d=+e.apply(this,arguments),g=i.apply(this,arguments)-fa,p=o.apply(this,arguments)-fa,m=p0(p-g),y=p>g;if(s||(s=l=c()),d<f&&(h=d,d=f,f=h),!(d>qt))s.moveTo(0,0);else if(m>ln-qt)s.moveTo(d*We(g),d*ue(g)),s.arc(0,0,d,g,p,!y),f>qt&&(s.moveTo(f*We(p),f*ue(p)),s.arc(0,0,f,p,g,y));else{var _=g,v=p,b=g,w=p,x=m,E=m,$=a.apply(this,arguments)/2,I=$>qt&&(r?+r.apply(this,arguments):Mt(f*f+d*d)),S=hr(p0(d-f)/2,+n.apply(this,arguments)),M=S,C=S,T,k;if(I>qt){var A=m0(I/f*ue($)),N=m0(I/d*ue($));(x-=A*2)>qt?(A*=y?1:-1,b+=A,w-=A):(x=0,b=w=(g+p)/2),(E-=N*2)>qt?(N*=y?1:-1,_+=N,v-=N):(E=0,_=v=(g+p)/2)}var R=d*We(_),D=d*ue(_),P=f*We(w),B=f*ue(w);if(S>qt){var q=d*We(v),O=d*ue(v),K=f*We(b),it=f*ue(b),rt;if(m<dn)if(rt=_M(R,D,K,it,q,O,P,B)){var Q=R-rt[0],j=D-rt[1],gt=q-rt[0],Y=O-rt[1],nt=1/ue(hM((Q*gt+j*Y)/(Mt(Q*Q+j*j)*Mt(gt*gt+Y*Y)))/2),at=Mt(rt[0]*rt[0]+rt[1]*rt[1]);M=hr(S,(f-at)/(nt-1)),C=hr(S,(d-at)/(nt+1))}else M=C=0}E>qt?C>qt?(T=so(K,it,R,D,d,C,y),k=so(q,O,P,B,d,C,y),s.moveTo(T.cx+T.x01,T.cy+T.y01),C<S?s.arc(T.cx,T.cy,C,Bt(T.y01,T.x01),Bt(k.y01,k.x01),!y):(s.arc(T.cx,T.cy,C,Bt(T.y01,T.x01),Bt(T.y11,T.x11),!y),s.arc(0,0,d,Bt(T.cy+T.y11,T.cx+T.x11),Bt(k.cy+k.y11,k.cx+k.x11),!y),s.arc(k.cx,k.cy,C,Bt(k.y11,k.x11),Bt(k.y01,k.x01),!y))):(s.moveTo(R,D),s.arc(0,0,d,_,v,!y)):s.moveTo(R,D),!(f>qt)||!(x>qt)?s.lineTo(P,B):M>qt?(T=so(P,B,q,O,f,-M,y),k=so(R,D,K,it,f,-M,y),s.lineTo(T.cx+T.x01,T.cy+T.y01),M<S?s.arc(T.cx,T.cy,M,Bt(T.y01,T.x01),Bt(k.y01,k.x01),!y):(s.arc(T.cx,T.cy,M,Bt(T.y01,T.x01),Bt(T.y11,T.x11),!y),s.arc(0,0,f,Bt(T.cy+T.y11,T.cx+T.x11),Bt(k.cy+k.y11,k.cx+k.x11),y),s.arc(k.cx,k.cy,M,Bt(k.y11,k.x11),Bt(k.y01,k.x01),!y))):s.arc(0,0,f,w,b,y)}if(s.closePath(),l)return s=null,l+""||null}return u.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-dn/2;return[We(h)*l,ue(h)*l]},u.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:ot(+l),u):t},u.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:ot(+l),u):e},u.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:ot(+l),u):n},u.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:ot(+l),u):r},u.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:ot(+l),u):i},u.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:ot(+l),u):o},u.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:ot(+l),u):a},u.context=function(l){return arguments.length?(s=l??null,u):s},u}var vM=Array.prototype.slice;function ns(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Gp(t){this._context=t}Gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rs(t){return new Gp(t)}function wl(t){return t[0]}function xl(t){return t[1]}function Ml(t,e){var n=ot(!0),r=null,i=rs,o=null,a=Ui(s);t=typeof t=="function"?t:t===void 0?wl:ot(t),e=typeof e=="function"?e:e===void 0?xl:ot(e);function s(c){var u,l=(c=ns(c)).length,h,f=!1,d;for(r==null&&(o=i(d=a())),u=0;u<=l;++u)!(u<l&&n(h=c[u],u,c))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,u,c),+e(h,u,c));if(d)return o=null,d+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:ot(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:ot(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ot(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),s):r},s}function Hp(t,e,n){var r=null,i=ot(!0),o=null,a=rs,s=null,c=Ui(u);t=typeof t=="function"?t:t===void 0?wl:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?xl:ot(+n);function u(h){var f,d,g,p=(h=ns(h)).length,m,y=!1,_,v=new Array(p),b=new Array(p);for(o==null&&(s=a(_=c())),f=0;f<=p;++f){if(!(f<p&&i(m=h[f],f,h))===y)if(y=!y)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=f-1;g>=d;--g)s.point(v[g],b[g]);s.lineEnd(),s.areaEnd()}y&&(v[f]=+t(m,f,h),b[f]=+e(m,f,h),s.point(r?+r(m,f,h):v[f],n?+n(m,f,h):b[f]))}if(_)return s=null,_+""||null}function l(){return Ml().defined(i).curve(a).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:ot(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:ot(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:ot(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:ot(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:ot(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ot(+h),u):n},u.lineX0=u.lineY0=function(){return l().x(t).y(e)},u.lineY1=function(){return l().x(t).y(n)},u.lineX1=function(){return l().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:ot(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),u):a},u.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),u):o},u}function wM(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function xM(t){return t}function MM(){var t=xM,e=wM,n=null,r=ot(0),i=ot(ln),o=ot(0);function a(s){var c,u=(s=ns(s)).length,l,h,f=0,d=new Array(u),g=new Array(u),p=+r.apply(this,arguments),m=Math.min(ln,Math.max(-ln,i.apply(this,arguments)-p)),y,_=Math.min(Math.abs(m)/u,o.apply(this,arguments)),v=_*(m<0?-1:1),b;for(c=0;c<u;++c)(b=g[d[c]=c]=+t(s[c],c,s))>0&&(f+=b);for(e!=null?d.sort(function(w,x){return e(g[w],g[x])}):n!=null&&d.sort(function(w,x){return n(s[w],s[x])}),c=0,h=f?(m-u*v)/f:0;c<u;++c,p=y)l=d[c],b=g[l],y=p+(b>0?b*h:0)+v,g[l]={data:s[l],index:c,value:b,startAngle:p,endAngle:y,padAngle:_};return g}return a.value=function(s){return arguments.length?(t=typeof s=="function"?s:ot(+s),a):t},a.sortValues=function(s){return arguments.length?(e=s,n=null,a):e},a.sort=function(s){return arguments.length?(n=s,e=null,a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:ot(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:ot(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:ot(+s),a):o},a}var Vp=kl(rs);function jp(t){this._curve=t}jp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function kl(t){function e(n){return new jp(t(n))}return e._curve=t,e}function ti(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(kl(n)):e()._curve},t}function y0(){return ti(Ml().curve(Vp))}function _0(){var t=Hp().curve(Vp),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ti(n())},delete t.lineX0,t.lineEndAngle=function(){return ti(r())},delete t.lineX1,t.lineInnerRadius=function(){return ti(i())},delete t.lineY0,t.lineOuterRadius=function(){return ti(o())},delete t.lineY1,t.curve=function(a){return arguments.length?e(kl(a)):e()._curve},t}function ei(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class Wp{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class kM{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const r=ei(this._x0,this._y0),i=ei(this._x0,this._y0=(this._y0+n)/2),o=ei(e,this._y0),a=ei(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=e,this._y0=n}}function Xp(t){return new Wp(t,!0)}function Kp(t){return new Wp(t,!1)}function SM(t){return new kM(t)}function EM(t){return t.source}function $M(t){return t.target}function is(t){let e=EM,n=$M,r=wl,i=xl,o=null,a=null,s=Ui(c);function c(){let u;const l=vM.call(arguments),h=e.apply(this,l),f=n.apply(this,l);if(o==null&&(a=t(u=s())),a.lineStart(),l[0]=h,a.point(+r.apply(this,l),+i.apply(this,l)),l[0]=f,a.point(+r.apply(this,l),+i.apply(this,l)),a.lineEnd(),u)return a=null,u+""||null}return c.source=function(u){return arguments.length?(e=u,c):e},c.target=function(u){return arguments.length?(n=u,c):n},c.x=function(u){return arguments.length?(r=typeof u=="function"?u:ot(+u),c):r},c.y=function(u){return arguments.length?(i=typeof u=="function"?u:ot(+u),c):i},c.context=function(u){return arguments.length?(u==null?o=a=null:a=t(o=u),c):o},c}function TM(){return is(Xp)}function AM(){return is(Kp)}function NM(){const t=is(SM);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const CM=Mt(3),Zp={draw(t,e){const n=Mt(e+hr(e/28,.75))*.59436,r=n/2,i=r*CM;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},os={draw(t,e){const n=Mt(e/dn);t.moveTo(n,0),t.arc(0,0,n,0,ln)}},Qp={draw(t,e){const n=Mt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Jp=Mt(1/3),IM=Jp*2,tm={draw(t,e){const n=Mt(e/IM),r=n*Jp;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},em={draw(t,e){const n=Mt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},nm={draw(t,e){const n=Mt(e-hr(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},rm={draw(t,e){const n=Mt(e),r=-n/2;t.rect(r,r,n,n)}},im={draw(t,e){const n=Mt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},RM=.8908130915292852,om=ue(dn/10)/ue(7*dn/10),PM=ue(ln/10)*om,DM=-We(ln/10)*om,am={draw(t,e){const n=Mt(e*RM),r=PM*n,i=DM*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ln*o/5,s=We(a),c=ue(a);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},js=Mt(3),sm={draw(t,e){const n=-Mt(e/(js*3));t.moveTo(0,n*2),t.lineTo(-js*n,-n),t.lineTo(js*n,-n),t.closePath()}},zM=Mt(3),cm={draw(t,e){const n=Mt(e)*.6824,r=n/2,i=n*zM/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},ge=-.5,pe=Mt(3)/2,Qc=1/Mt(12),OM=(Qc/2+1)*3,um={draw(t,e){const n=Mt(e/OM),r=n/2,i=n*Qc,o=r,a=n*Qc+n,s=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,c),t.lineTo(ge*r-pe*i,pe*r+ge*i),t.lineTo(ge*o-pe*a,pe*o+ge*a),t.lineTo(ge*s-pe*c,pe*s+ge*c),t.lineTo(ge*r+pe*i,ge*i-pe*r),t.lineTo(ge*o+pe*a,ge*a-pe*o),t.lineTo(ge*s+pe*c,ge*c-pe*s),t.closePath()}},Jc={draw(t,e){const n=Mt(e-hr(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},b0=[os,Qp,tm,rm,am,sm,um],LM=[os,nm,Jc,cm,Zp,im,em];function FM(t,e){let n=null,r=Ui(i);t=typeof t=="function"?t:ot(t||os),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ot(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ot(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function gn(){}function ha(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function as(t){this._context=t}as.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ha(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ha(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UM(t){return new as(t)}function lm(t){this._context=t}lm.prototype={areaStart:gn,areaEnd:gn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ha(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BM(t){return new lm(t)}function fm(t){this._context=t}fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ha(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qM(t){return new fm(t)}function hm(t,e){this._basis=new as(t),this._beta=e}hm.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,s=-1,c;++s<=n;)c=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+c*o),this._beta*e[s]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const YM=function t(e){function n(r){return e===1?new as(r):new hm(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function da(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Sl(t,e){this._context=t,this._k=(1-e)/6}Sl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:da(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:da(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const GM=function t(e){function n(r){return new Sl(r,e)}return n.tension=function(r){return t(+r)},n}(0);function El(t,e){this._context=t,this._k=(1-e)/6}El.prototype={areaStart:gn,areaEnd:gn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:da(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const HM=function t(e){function n(r){return new El(r,e)}return n.tension=function(r){return t(+r)},n}(0);function $l(t,e){this._context=t,this._k=(1-e)/6}$l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:da(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const VM=function t(e){function n(r){return new $l(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Tl(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>qt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>qt){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function dm(t,e){this._context=t,this._alpha=e}dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Tl(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const jM=function t(e){function n(r){return e?new dm(r,e):new Sl(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function gm(t,e){this._context=t,this._alpha=e}gm.prototype={areaStart:gn,areaEnd:gn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Tl(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const WM=function t(e){function n(r){return e?new gm(r,e):new El(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function pm(t,e){this._context=t,this._alpha=e}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tl(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const XM=function t(e){function n(r){return e?new pm(r,e):new $l(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function mm(t){this._context=t}mm.prototype={areaStart:gn,areaEnd:gn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function KM(t){return new mm(t)}function v0(t){return t<0?-1:1}function w0(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(v0(o)+v0(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function x0(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ws(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function ga(t){this._context=t}ga.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ws(this,this._t0,x0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ws(this,x0(this,n=w0(this,t,e)),n);break;default:Ws(this,this._t0,n=w0(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ym(t){this._context=new _m(t)}(ym.prototype=Object.create(ga.prototype)).point=function(t,e){ga.prototype.point.call(this,e,t)};function _m(t){this._context=t}_m.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function ZM(t){return new ga(t)}function QM(t){return new ym(t)}function bm(t){this._context=t}bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=M0(t),i=M0(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function M0(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function JM(t){return new bm(t)}function ss(t,e){this._context=t,this._t=e}ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function tk(t){return new ss(t,.5)}function ek(t){return new ss(t,0)}function nk(t){return new ss(t,1)}function Tr(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ar(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rk(t,e){return t[e]}function ik(t){const e=[];return e.key=t,e}function ok(){var t=ot([]),e=Ar,n=Tr,r=rk;function i(o){var a=Array.from(t.apply(this,arguments),ik),s,c=a.length,u=-1,l;for(const h of o)for(s=0,++u;s<c;++s)(a[s][u]=[0,+r(h,a[s].key,u,o)]).data=h;for(s=0,l=ns(e(a));s<c;++s)a[l[s]].index=s;return n(a,l),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ot(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ot(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Ar:typeof o=="function"?o:ot(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Tr,i):n},i}function ak(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Tr(t,e)}}function sk(t,e){if((c=t.length)>0)for(var n,r=0,i,o,a,s,c,u=t[e[0]].length;r<u;++r)for(a=s=0,n=0;n<c;++n)(o=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function ck(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Tr(t,e)}}function uk(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,c=0,u=0;s<a;++s){for(var l=t[e[s]],h=l[r][1]||0,f=l[r-1][1]||0,d=(h-f)/2,g=0;g<s;++g){var p=t[e[g]],m=p[r][1]||0,y=p[r-1][1]||0;d+=m-y}c+=h,u+=d*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Tr(t,e)}}function vm(t){var e=t.map(lk);return Ar(t).sort(function(n,r){return e[n]-e[r]})}function lk(t){for(var e=-1,n=0,r=t.length,i,o=-1/0;++e<r;)(i=+t[e][1])>o&&(o=i,n=e);return n}function wm(t){var e=t.map(xm);return Ar(t).sort(function(n,r){return e[n]-e[r]})}function xm(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function fk(t){return wm(t).reverse()}function hk(t){var e=t.length,n,r,i=t.map(xm),o=vm(t),a=0,s=0,c=[],u=[];for(n=0;n<e;++n)r=o[n],a<s?(a+=i[r],c.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(c)}function dk(t){return Ar(t).reverse()}const co=t=>()=>t;function gk(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function De(t,e,n){this.k=t,this.x=e,this.y=n}De.prototype={constructor:De,scale:function(t){return t===1?this:new De(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new De(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cs=new De(1,0,0);Mm.prototype=De.prototype;function Mm(t){for(;!t.__zoom;)if(!(t=t.parentNode))return cs;return t.__zoom}function Xs(t){t.stopImmediatePropagation()}function Yr(t){t.preventDefault(),t.stopImmediatePropagation()}function pk(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function mk(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function k0(){return this.__zoom||cs}function yk(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function _k(){return navigator.maxTouchPoints||"ontouchstart"in this}function bk(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function vk(){var t=pk,e=mk,n=bk,r=yk,i=_k,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,c=o1,u=Hn("start","zoom","end"),l,h,f,d=500,g=150,p=0,m=10;function y(k){k.property("__zoom",k0).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",S).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(k,A,N,R){var D=k.selection?k.selection():k;D.property("__zoom",k0),k!==D?w(k,A,N,R):D.interrupt().each(function(){x(this,arguments).event(R).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},y.scaleBy=function(k,A,N,R){y.scaleTo(k,function(){var D=this.__zoom.k,P=typeof A=="function"?A.apply(this,arguments):A;return D*P},N,R)},y.scaleTo=function(k,A,N,R){y.transform(k,function(){var D=e.apply(this,arguments),P=this.__zoom,B=N==null?b(D):typeof N=="function"?N.apply(this,arguments):N,q=P.invert(B),O=typeof A=="function"?A.apply(this,arguments):A;return n(v(_(P,O),B,q),D,a)},N,R)},y.translateBy=function(k,A,N,R){y.transform(k,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof N=="function"?N.apply(this,arguments):N),e.apply(this,arguments),a)},null,R)},y.translateTo=function(k,A,N,R,D){y.transform(k,function(){var P=e.apply(this,arguments),B=this.__zoom,q=R==null?b(P):typeof R=="function"?R.apply(this,arguments):R;return n(cs.translate(q[0],q[1]).scale(B.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof N=="function"?-N.apply(this,arguments):-N),P,a)},R,D)};function _(k,A){return A=Math.max(o[0],Math.min(o[1],A)),A===k.k?k:new De(A,k.x,k.y)}function v(k,A,N){var R=A[0]-N[0]*k.k,D=A[1]-N[1]*k.k;return R===k.x&&D===k.y?k:new De(k.k,R,D)}function b(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function w(k,A,N,R){k.on("start.zoom",function(){x(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(R).end()}).tween("zoom",function(){var D=this,P=arguments,B=x(D,P).event(R),q=e.apply(D,P),O=N==null?b(q):typeof N=="function"?N.apply(D,P):N,K=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),it=D.__zoom,rt=typeof A=="function"?A.apply(D,P):A,Q=c(it.invert(O).concat(K/it.k),rt.invert(O).concat(K/rt.k));return function(j){if(j===1)j=rt;else{var gt=Q(j),Y=K/gt[2];j=new De(Y,O[0]-gt[0]*Y,O[1]-gt[1]*Y)}B.zoom(null,j)}})}function x(k,A,N){return!N&&k.__zooming||new E(k,A)}function E(k,A){this.that=k,this.args=A,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,A),this.taps=0}E.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,A){return this.mouse&&k!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var A=Yt(this.that).datum();u.call(k,this.that,new gk(k,{sourceEvent:this.sourceEvent,target:y,type:k,transform:this.that.__zoom,dispatch:u}),A)}};function $(k,...A){if(!t.apply(this,arguments))return;var N=x(this,A).event(k),R=this.__zoom,D=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),P=he(k);if(N.wheel)(N.mouse[0][0]!==P[0]||N.mouse[0][1]!==P[1])&&(N.mouse[1]=R.invert(N.mouse[0]=P)),clearTimeout(N.wheel);else{if(R.k===D)return;N.mouse=[P,R.invert(P)],Tn(this),N.start()}Yr(k),N.wheel=setTimeout(B,g),N.zoom("mouse",n(v(_(R,D),N.mouse[0],N.mouse[1]),N.extent,a));function B(){N.wheel=null,N.end()}}function I(k,...A){if(f||!t.apply(this,arguments))return;var N=k.currentTarget,R=x(this,A,!0).event(k),D=Yt(k.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",K,!0),P=he(k,N),B=k.clientX,q=k.clientY;Ta(k.view),Xs(k),R.mouse=[P,this.__zoom.invert(P)],Tn(this),R.start();function O(it){if(Yr(it),!R.moved){var rt=it.clientX-B,Q=it.clientY-q;R.moved=rt*rt+Q*Q>p}R.event(it).zoom("mouse",n(v(R.that.__zoom,R.mouse[0]=he(it,N),R.mouse[1]),R.extent,a))}function K(it){D.on("mousemove.zoom mouseup.zoom",null),Aa(it.view,R.moved),Yr(it),R.event(it).end()}}function S(k,...A){if(t.apply(this,arguments)){var N=this.__zoom,R=he(k.changedTouches?k.changedTouches[0]:k,this),D=N.invert(R),P=N.k*(k.shiftKey?.5:2),B=n(v(_(N,P),R,D),e.apply(this,A),a);Yr(k),s>0?Yt(this).transition().duration(s).call(w,B,R,k):Yt(this).call(y.transform,B,R,k)}}function M(k,...A){if(t.apply(this,arguments)){var N=k.touches,R=N.length,D=x(this,A,k.changedTouches.length===R).event(k),P,B,q,O;for(Xs(k),B=0;B<R;++B)q=N[B],O=he(q,this),O=[O,this.__zoom.invert(O),q.identifier],D.touch0?!D.touch1&&D.touch0[2]!==O[2]&&(D.touch1=O,D.taps=0):(D.touch0=O,P=!0,D.taps=1+!!l);l&&(l=clearTimeout(l)),P&&(D.taps<2&&(h=O[0],l=setTimeout(function(){l=null},d)),Tn(this),D.start())}}function C(k,...A){if(this.__zooming){var N=x(this,A).event(k),R=k.changedTouches,D=R.length,P,B,q,O;for(Yr(k),P=0;P<D;++P)B=R[P],q=he(B,this),N.touch0&&N.touch0[2]===B.identifier?N.touch0[0]=q:N.touch1&&N.touch1[2]===B.identifier&&(N.touch1[0]=q);if(B=N.that.__zoom,N.touch1){var K=N.touch0[0],it=N.touch0[1],rt=N.touch1[0],Q=N.touch1[1],j=(j=rt[0]-K[0])*j+(j=rt[1]-K[1])*j,gt=(gt=Q[0]-it[0])*gt+(gt=Q[1]-it[1])*gt;B=_(B,Math.sqrt(j/gt)),q=[(K[0]+rt[0])/2,(K[1]+rt[1])/2],O=[(it[0]+Q[0])/2,(it[1]+Q[1])/2]}else if(N.touch0)q=N.touch0[0],O=N.touch0[1];else return;N.zoom("touch",n(v(B,q,O),N.extent,a))}}function T(k,...A){if(this.__zooming){var N=x(this,A).event(k),R=k.changedTouches,D=R.length,P,B;for(Xs(k),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),P=0;P<D;++P)B=R[P],N.touch0&&N.touch0[2]===B.identifier?delete N.touch0:N.touch1&&N.touch1[2]===B.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(B=he(B,this),Math.hypot(h[0]-B[0],h[1]-B[1])<m)){var q=Yt(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return y.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:co(+k),y):r},y.filter=function(k){return arguments.length?(t=typeof k=="function"?k:co(!!k),y):t},y.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:co(!!k),y):i},y.extent=function(k){return arguments.length?(e=typeof k=="function"?k:co([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),y):e},y.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],y):[o[0],o[1]]},y.translateExtent=function(k){return arguments.length?(a[0][0]=+k[0][0],a[1][0]=+k[1][0],a[0][1]=+k[0][1],a[1][1]=+k[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(k){return arguments.length?(n=k,y):n},y.duration=function(k){return arguments.length?(s=+k,y):s},y.interpolate=function(k){return arguments.length?(c=k,y):c},y.on=function(){var k=u.on.apply(u,arguments);return k===u?y:k},y.clickDistance=function(k){return arguments.length?(p=(k=+k)*k,y):Math.sqrt(p)},y.tapDistance=function(k){return arguments.length?(m=+k,y):m},y}const wk=Object.freeze(Object.defineProperty({__proto__:null,Adder:It,Delaunay:Du,FormatSpecifier:Fa,InternMap:fi,InternSet:Cn,Node:Fn,Path:Ci,Voronoi:k1,ZoomTransform:De,active:K3,arc:bM,area:Hp,areaRadial:_0,ascending:Et,autoType:r2,axisBottom:U_,axisLeft:B_,axisRight:F_,axisTop:L_,bin:cf,bisect:Gn,bisectCenter:Py,bisectLeft:Ry,bisectRight:nd,bisector:xa,blob:Fm,blur:Dy,blur2:rd,blurImage:zy,brush:u6,brushSelection:a6,brushX:s6,brushY:c6,buffer:Bm,chord:f6,chordDirected:d6,chordTranspose:h6,cluster:u8,color:fn,contourDensity:F6,contours:xc,count:Ma,create:xv,creator:Ea,cross:Yy,csv:tu,csvFormat:Vm,csvFormatBody:jm,csvFormatRow:Xm,csvFormatRows:Wm,csvFormatValue:Km,csvParse:I0,csvParseRows:Hm,cubehelix:Ne,cumsum:Gy,curveBasis:UM,curveBasisClosed:BM,curveBasisOpen:qM,curveBumpX:Xp,curveBumpY:Kp,curveBundle:YM,curveCardinal:GM,curveCardinalClosed:HM,curveCardinalOpen:VM,curveCatmullRom:jM,curveCatmullRomClosed:WM,curveCatmullRomOpen:XM,curveLinear:rs,curveLinearClosed:KM,curveMonotoneX:ZM,curveMonotoneY:QM,curveNatural:JM,curveStep:tk,curveStepAfter:nk,curveStepBefore:ek,descending:Q0,deviation:ad,difference:E_,disjoint:$_,dispatch:Hn,drag:Cv,dragDisable:Ta,dragEnable:Aa,dsv:a2,dsvFormat:ma,easeBack:If,easeBackIn:q3,easeBackInOut:If,easeBackOut:Y3,easeBounce:vi,easeBounceIn:U3,easeBounceInOut:B3,easeBounceOut:vi,easeCircle:Cf,easeCircleIn:N3,easeCircleInOut:Cf,easeCircleOut:C3,easeCubic:yc,easeCubicIn:x3,easeCubicInOut:yc,easeCubicOut:M3,easeElastic:Rf,easeElasticIn:G3,easeElasticInOut:H3,easeElasticOut:Rf,easeExp:Nf,easeExpIn:T3,easeExpInOut:Nf,easeExpOut:A3,easeLinear:b3,easePoly:Tf,easePolyIn:k3,easePolyInOut:Tf,easePolyOut:S3,easeQuad:$f,easeQuadIn:v3,easeQuadInOut:$f,easeQuadOut:w3,easeSin:Af,easeSinIn:E3,easeSinInOut:Af,easeSinOut:$3,every:v_,extent:ri,fcumsum:Vy,filter:x_,flatGroup:jy,flatRollup:Wy,forceCenter:o5,forceCollide:Ou,forceLink:S5,forceManyBody:E1,forceRadial:R5,forceSimulation:Lu,forceX:P5,forceY:D5,get format(){return Ua},formatDefaultLocale:A1,formatLocale:T1,get formatPrefix(){return Fu},formatSpecifier:wr,fsum:Hy,geoAlbers:dg,geoAlbersUsa:B4,geoArea:H5,geoAzimuthalEqualArea:q4,geoAzimuthalEqualAreaRaw:Xu,geoAzimuthalEquidistant:Y4,geoAzimuthalEquidistantRaw:Ku,geoBounds:X5,geoCentroid:e4,geoCircle:n4,geoClipAntimeridian:Dc,geoClipCircle:Z1,geoClipExtent:u4,geoClipRectangle:Ba,geoConicConformal:H4,geoConicConformalRaw:mg,geoConicEqualArea:ca,geoConicEqualAreaRaw:hg,geoConicEquidistant:j4,geoConicEquidistantRaw:yg,geoContains:m4,geoDistance:Jo,geoEqualEarth:X4,geoEqualEarthRaw:Zu,geoEquirectangular:V4,geoEquirectangularRaw:Si,geoGnomonic:K4,geoGnomonicRaw:Qu,geoGraticule:tg,geoGraticule10:y4,geoIdentity:Z4,geoInterpolate:_4,geoLength:Q1,geoMercator:G4,geoMercatorRaw:zi,geoNaturalEarth1:Q4,geoNaturalEarth1Raw:Ju,geoOrthographic:J4,geoOrthographicRaw:tl,geoPath:C4,geoProjection:Ge,geoProjectionMutator:ju,geoRotation:H1,geoStereographic:t8,geoStereographicRaw:el,geoStream:Ee,geoTransform:I4,geoTransverseMercator:e8,geoTransverseMercatorRaw:nl,gray:Yv,greatest:md,greatestIndex:g_,group:ld,groupSort:Zy,groups:fd,hcl:Po,hierarchy:Ya,histogram:cf,hsl:Co,html:h2,image:c2,index:Xy,indexes:Ky,interpolate:mn,interpolateArray:Xv,interpolateBasis:Vd,interpolateBasisClosed:jd,interpolateBlues:V9,interpolateBrBG:S9,interpolateBuGn:P9,interpolateBuPu:D9,interpolateCividis:Q9,interpolateCool:eM,interpolateCubehelix:lw,interpolateCubehelixDefault:J9,interpolateCubehelixLong:Pa,interpolateDate:Jd,interpolateDiscrete:Qv,interpolateGnBu:z9,interpolateGreens:j9,interpolateGreys:W9,interpolateHcl:cw,interpolateHclLong:uw,interpolateHsl:ow,interpolateHslLong:aw,interpolateHue:Jv,interpolateInferno:uM,interpolateLab:sw,interpolateMagma:cM,interpolateNumber:me,interpolateNumberArray:ku,interpolateObject:t1,interpolateOrRd:O9,interpolateOranges:Z9,interpolatePRGn:E9,interpolatePiYG:$9,interpolatePlasma:lM,interpolatePuBu:F9,interpolatePuBuGn:L9,interpolatePuOr:T9,interpolatePuRd:U9,interpolatePurples:X9,interpolateRainbow:nM,interpolateRdBu:A9,interpolateRdGy:N9,interpolateRdPu:B9,interpolateRdYlBu:C9,interpolateRdYlGn:I9,interpolateReds:K9,interpolateRgb:yi,interpolateRgbBasis:Kd,interpolateRgbBasisClosed:Wv,interpolateRound:Ra,interpolateSinebow:oM,interpolateSpectral:R9,interpolateString:Su,interpolateTransformCss:r1,interpolateTransformSvg:i1,interpolateTurbo:aM,interpolateViridis:sM,interpolateWarm:tM,interpolateYlGn:Y9,interpolateYlGnBu:q9,interpolateYlOrBr:G9,interpolateYlOrRd:H9,interpolateZoom:o1,interrupt:Tn,intersection:T_,interval:pw,isoFormat:o9,isoParse:c9,json:l2,lab:Ro,lch:Gv,least:d_,leastIndex:bd,line:Ml,lineRadial:y0,link:is,linkHorizontal:TM,linkRadial:NM,linkVertical:AM,local:Cd,map:M_,matcher:yu,max:hi,maxIndex:du,mean:o_,median:a_,medianIndex:s_,merge:pu,min:To,minIndex:gu,mode:u_,namespace:Ti,namespaces:sc,nice:fu,now:Ni,pack:kg,packEnclose:R8,packSiblings:O8,pairs:l_,partition:F8,path:Pu,pathRound:m6,permute:pd,pie:MM,piecewise:u1,pointRadial:ei,pointer:he,pointers:kv,polygonArea:e7,polygonCentroid:n7,polygonContains:a7,polygonHull:o7,polygonLength:s7,precisionFixed:N1,precisionPrefix:C1,precisionRound:I1,quadtree:La,quantile:di,quantileIndex:_d,quantileSorted:yd,quantize:fw,quickselect:ka,radialArea:_0,radialLine:y0,randomBates:f7,randomBernoulli:g7,randomBeta:Cg,randomBinomial:Ig,randomCauchy:m7,randomExponential:h7,randomGamma:ol,randomGeometric:Ng,randomInt:u7,randomIrwinHall:Ag,randomLcg:w7,randomLogNormal:l7,randomLogistic:y7,randomNormal:il,randomPareto:d7,randomPoisson:_7,randomUniform:c7,randomWeibull:p7,range:cn,rank:h_,reduce:k_,reverse:S_,rgb:yr,ribbon:k6,ribbonArrow:S6,rollup:uu,rollups:dd,scaleBand:sl,scaleDiverging:pp,scaleDivergingLog:mp,scaleDivergingPow:bl,scaleDivergingSqrt:g9,scaleDivergingSymlog:yp,scaleIdentity:zg,scaleImplicit:Xc,scaleLinear:Dg,scaleLog:Lg,scaleOrdinal:al,scalePoint:Kc,scalePow:hl,scaleQuantile:Bg,scaleQuantize:qg,scaleRadial:Ug,scaleSequential:fp,scaleSequentialLog:hp,scaleSequentialPow:_l,scaleSequentialQuantile:gp,scaleSequentialSqrt:d9,scaleSequentialSymlog:dp,scaleSqrt:R7,scaleSymlog:Fg,scaleThreshold:Yg,scaleTime:f9,scaleUtc:h9,scan:p_,schemeAccent:m9,schemeBlues:Fp,schemeBrBG:_p,schemeBuGn:$p,schemeBuPu:Tp,schemeCategory10:p9,schemeDark2:y9,schemeGnBu:Ap,schemeGreens:Up,schemeGreys:vl,schemeOrRd:Np,schemeOranges:Yp,schemePRGn:bp,schemePaired:_9,schemePastel1:b9,schemePastel2:v9,schemePiYG:vp,schemePuBu:Ip,schemePuBuGn:Cp,schemePuOr:wp,schemePuRd:Rp,schemePurples:Bp,schemeRdBu:xp,schemeRdGy:Mp,schemeRdPu:Pp,schemeRdYlBu:kp,schemeRdYlGn:Sp,schemeReds:qp,schemeSet1:w9,schemeSet2:x9,schemeSet3:M9,schemeSpectral:Ep,schemeTableau10:k9,schemeYlGn:zp,schemeYlGnBu:Dp,schemeYlOrBr:Op,schemeYlOrRd:Lp,select:Yt,selectAll:Sv,selection:Vn,selector:$a,selectorAll:mu,shuffle:m_,shuffler:vd,some:w_,sort:ic,stack:ok,stackOffsetDiverging:sk,stackOffsetExpand:ak,stackOffsetNone:Tr,stackOffsetSilhouette:ck,stackOffsetWiggle:uk,stackOrderAppearance:vm,stackOrderAscending:wm,stackOrderDescending:fk,stackOrderInsideOut:hk,stackOrderNone:Ar,stackOrderReverse:dk,stratify:Y8,style:Pn,subset:N_,sum:y_,superset:xd,svg:d2,symbol:FM,symbolAsterisk:Zp,symbolCircle:os,symbolCross:Qp,symbolDiamond:tm,symbolDiamond2:em,symbolPlus:nm,symbolSquare:rm,symbolSquare2:im,symbolStar:am,symbolTimes:Jc,symbolTriangle:sm,symbolTriangle2:cm,symbolWye:um,symbolX:Jc,symbols:b0,symbolsFill:b0,symbolsStroke:LM,text:ya,thresholdFreedmanDiaconis:r_,thresholdScott:i_,thresholdSturges:hu,tickFormat:Pg,tickIncrement:Rn,tickStep:$o,ticks:In,timeDay:Rr,timeDays:F7,get timeFormat(){return pl},timeFormatDefaultLocale:up,timeFormatLocale:rp,timeFriday:Vg,timeFridays:V7,timeHour:Wa,timeHours:O7,timeInterval:Nt,timeMillisecond:Sr,timeMilliseconds:t0,timeMinute:Va,timeMinutes:D7,timeMonday:Ei,timeMondays:q7,timeMonth:Ka,timeMonths:tx,get timeParse(){return cp},timeSaturday:jg,timeSaturdays:j7,timeSecond:Qe,timeSeconds:n0,timeSunday:Er,timeSundays:r0,timeThursday:Un,timeThursdays:H7,timeTickInterval:np,timeTicks:ep,timeTuesday:Gg,timeTuesdays:Y7,timeWednesday:Hg,timeWednesdays:G7,timeWeek:Er,timeWeeks:r0,timeYear:Be,timeYears:nx,timeout:dc,timer:za,timerFlush:h1,transition:m1,transpose:wd,tree:K8,treemap:Z8,treemapBinary:Q8,treemapDice:Oi,treemapResquarify:t7,treemapSlice:Ga,treemapSliceDice:J8,treemapSquarify:Tg,tsv:s2,tsvFormat:Qm,tsvFormatBody:Jm,tsvFormatRow:e2,tsvFormatRows:t2,tsvFormatValue:n2,tsvParse:R0,tsvParseRows:Zm,union:C_,unixDay:gl,unixDays:B7,utcDay:Fi,utcDays:U7,get utcFormat(){return Qa},utcFriday:Kg,utcFridays:Q7,utcHour:Xa,utcHours:L7,utcMillisecond:Sr,utcMilliseconds:t0,utcMinute:ja,utcMinutes:z7,utcMonday:$i,utcMondays:W7,utcMonth:Za,utcMonths:ex,get utcParse(){return ml},utcSaturday:Zg,utcSaturdays:J7,utcSecond:Qe,utcSeconds:n0,utcSunday:$r,utcSundays:i0,utcThursday:Bn,utcThursdays:Z7,utcTickInterval:tp,utcTicks:Jg,utcTuesday:Wg,utcTuesdays:X7,utcWednesday:Xg,utcWednesdays:K7,utcWeek:$r,utcWeeks:i0,utcYear:qe,utcYears:rx,variance:od,window:_u,xml:f2,zip:b_,zoom:vk,zoomIdentity:cs,zoomTransform:Mm},Symbol.toStringTag,{value:"Module"}));class xk{constructor(e="en",n){this.lang=e==="en"||e==="es"?e:"en",this.options={typewriterSpeed:50,defaultCSS:!0,adventureContainer:void 0,adventureScroll:!1,adventureSlide:!0,evalTags:!1,igramaFormat:"png",urlWord:"URL",vizWidth:1e3,vizHeight:1e3,vizBg:"#313131",vizImageSize:50,minigifOptions:{},sceneCallback:r=>(document.querySelectorAll(".storymeta-key").forEach(o=>{switch(o.textContent.trim()){case"obras":o.textContent="Obra";break;case"autor":o.textContent="Autor";break;case"fecha":o.textContent="Fecha";break;case"tecnica":o.textContent="Técnica";break}}),r)},n&&(this.options=Object.assign(this.options,n)),this.grammarError=!1,this.scenesError=!1,this.fijarGramatica=this.setGrammar,this.expandirGramatica=this.expandGrammar,this.probarGramatica=this.testGrammar,this.fijarEscenas=this.setScenes,this.iniciarAventura=this.startAdventure,this.probarEscenas=this.testScenes,this.cargarJSON=this.loadJSON,this.modeloMarkov=this.getMarkovModel,this.fijarMarkov=this.setMarkov,this.cadenaMarkov=this.markovChain,this.probarDistribucion=this.testDistribution,this.markovSeparator=/[^\S\r\n]+/i,this.fijarIgrama=this.setIgrama,this.expandirIgrama=this.expandIgrama,this.mostrarIgrama=this.showIgrama,this.textoIgrama=this.getIgramaText,this.imgsMemo={},this.storyPreload={}}setGrammar(e){return this.grammar=e,this}setIgrama(e){this.igrama=e;for(let[n,r]of Object.entries(e.grammar));return this}setScenes(e){this.scenes=e,console.log(e);for(let n of Object.keys(e)){this.scenes[n].key=n;const r=this.scenes[n].image||this.scenes[n].imagen;r!==void 0&&this.storyPreload[r]===void 0&&(this.storyPreload[r]=new Image,this.storyPreload[r].src=r,this.storyPreload[r].className="storyimage")}return this}async setDataScenes(e,n=void 0,r=[]){if(typeof wk>"u"){console.error(this.lang==="es"?"Para crear visualizaciones debes tener también la librería D3":"To create visualizations you must have also the MiniGif D3");return}return this.scenes=JSON.parse(JSON.stringify(e)),this.metaKeys=r,n!==void 0&&(this.data=JSON.parse(JSON.stringify(n)),await this.setViz(this.scenes,this.data,r)),this.setScenes(this.scenes),this}async setViz(e,n){const r=Object.keys(e),i={compare:Mk,scatter:kk,pack:Sk};for(let o of r){if(e[o].viz===void 0)continue;const{filter:a,type:s,x:c,y:u}=e[o].viz;if(i[s]===void 0||c===void 0||u===void 0){const d=this.lang==="es"?`Parámetros incorrectos de visualización en la escena "${o}"`:`Incorrect parameteres in the scene "${o}"`;console.error(d)}let l=n;for(let d of a)l=this.filterFn(d)(l);const{viz:h,areas:f}=await i[s](l,c,u,this.options);e[o].image=h,e[o].areas=f}for(let o of n){if(o.ID===void 0){const a=this.lang==="es"?"Todos los datos deben tener un valor único con la clave ID":"All data must have a unique value with the ID key";console.error(a),this.scenes={};break}e[`ind_${o.ID}`]={text:`${o.CONT||""}`,meta:o.ID,dataScene:!0,options:[{btn:"<<<",scene:`ind_${o.ID}`}]},o.IMGURL!==void 0&&(e[`ind_${o.ID}`].image=o.IMGURL),o.URL!==void 0&&(e[`ind_${o.ID}`].url=o.URL)}}filterFn(e){return e[1]==="="||e[1]==="=="||e[1]==="==="?n=>n.filter(r=>r[e[0]]==e[2]):e[1]==="<"?n=>n.filter(r=>r[e[0]]<e[2]):e[1]===">"?n=>n.filter(r=>r[e[0]]>e[2]):n=>n}setMarkov(e){return this.markov=e,this}expandGrammar(e){const n=this.selectGrammarRule(this.grammar[e]);return this.grammarRuleRecursion(n)}expandIgrama(e){const n=this.igrama.grammar,r=this.selectGrammarRule(n[e]);return this.grammarRuleRecursion(r,n).split("|").map(o=>this.decodeDrawing(o))}grammarRuleRecursion(e,n){let r=n||this.grammar,i=this.setNewRules(e);const o=i.match(/<[\w\d.,/#]+>/gi);if(!o)return i;for(let a of o){const s=this.defineTransformations(a);i=i.replace(a,()=>{a=a.replace(/[<>]/gi,""),a=a.replace(/#[\w\d.,/]+#/g,"");const c=a.search(/[.]/)>-1?this.getNestedObject(r,a.match(/[\w\d]+/g)):r[a];if(!c){const l=this.lang==="es"?`Se intentó expandir desde la regla "${a}", pero no se pudo encontrar`:`Tried to expand from rule "${a}", but couldn't find it`;console.error(l)}const u=this.selectGrammarRule(c);return this.transformString(u,s)})}return this.grammarRuleRecursion(i,r)}setNewRules(e,n){let r;n===void 0?r=this.grammar:r=n;let i=e;const o=i.match(/\$[\w\d]+\$\[[\w\d:,-]+\]/ig);if(o)for(;o.length;){const a=o.pop();i=i.replace(a,"");const{symbol:s,pairsString:c}=/\$(?<symbol>[\w\d]+)\$\[(?<pairsString>[\w\d:,-]+)\]/i.exec(a).groups,u=c.match(/[-]?[\w\d]+:[\w\d]+/gi).map(l=>/(?<remove>[-]?)(?<key>[\w\d]+)[ ]?:[ ]?(?<value>[\w\d]+)/gi.exec(l).groups);if(u){r[s]=r[s]||{};for(let l of u){const h=r[l.value];if(!h){const g=this.lang==="es"?`Se intentó crear la nueva regla "${s}", pero no se pudo encontrar "${l.value}" para producir la subregla "${l.key}"`:`Tried to create new rule: "${s}", but couldn't find "${l.value}" to produce "${l.key}" subrule`;console.error(g)}const f=l.remove==="-",d=this.selectGrammarRule(h);if(f){const g=h.indexOf(d);r[l.value]=[...h.slice(0,g),...h.slice(g+1)]}r[s][l.key]=[d]}}}return i}startAdventure(e){this.options.defaultCSS&&this.setCSS();const n=document.createElement("div");return n.id="storygeneraldiv",(this.options.adventureContainer!==void 0?document.getElementById(this.options.adventureContainer):document.body).appendChild(n),this.prevScene=e,this.goToScene(this.scenes[e]),this}goToScene(e){const n=document.getElementById("storygeneraldiv");(!this.options.adventureScroll||e.plop===!0)&&[...document.getElementsByClassName("storydiv")].map(c=>c.remove()),[...document.getElementsByClassName("storyimage-area")].map(s=>s.remove());const i=document.createElement("div");if(i.className="storydiv",n.appendChild(i),e.image||e.imagen){const s=document.createElement("div");s.className="storyimage-container",i.appendChild(s);const c=e.image||e.imagen,u=this.options.adventureScroll?this.storyPreload[c].cloneNode():this.storyPreload[c];s.appendChild(u),e.areas&&(u.complete?this.setAreas(u,s,e.areas):u.onload=()=>{this.setAreas(u,s,e.areas)})}else if(e.igrama!==void 0){const s=document.createElement("div");s.className="storyimage-container",i.appendChild(s);const c=this.expandIgrama(e.igrama);e.igramaText=this.getIgramaText(c),this.igramaDataUrl(c,this.options.igramaFormat).then(u=>{const l=new Image;l.src=u,l.className="storyimage",s.appendChild(l)})}if(e.title||e.titulo){const s=document.createElement("div");s.className="storytitle-container",i.appendChild(s);const c=document.createElement("h1");c.className="storytitle",c.textContent=e.title||e.titulo,s.appendChild(c)}if(e.meta!==void 0){const s=document.createElement("div");s.className="storymeta-container",i.appendChild(s);const c=this.data.find(u=>u.ID==e.meta);for(let u of this.metaKeys){if(c[u]===void 0)continue;const l=document.createElement("div");l.className="storymeta-subcontainer",s.appendChild(l);const h=document.createElement("span");h.className="storymeta-key";const d={obras:"Obra",autor:"Autor",fecha:"Fecha",tecnica:"Técnica",fuente:"Fuente",descripcion:"Descripción",URL:"Repositorio"}[u]||u;h.textContent=`${d}: `,l.appendChild(h);const g=document.createElement("span");g.className="storymeta-val",g.textContent=c[u],l.appendChild(g)}}const o=document.createElement("div");o.className="storyp-container",(e.text||e.texto||e.igramaText)&&i.appendChild(o);const a=document.createElement("p");if(a.className="storyp",a.textContent="",o.appendChild(a),e.url){const s=document.createElement("a");s.className="storyurl",s.href=e.url,s.target="_blank",s.textContent=this.options.urlWord,o.appendChild(s)}this.options.adventureSlide&&document.getElementById("storygeneraldiv").scrollIntoView({behavior:"smooth",block:"end"}),this.typewriter(a,e),this.data&&(e.viz!==void 0?this.prevScene=e.key:e.dataScene===!0&&(e.options[0].scene=this.prevScene)),this.options.sceneCallback(e)}setAreas(e,n,r){const i=e.getBoundingClientRect(),o=n.getBoundingClientRect();window.onresize=()=>{document.getElementsByClassName("storyimage-area").length>0&&this.setAreas(e,n,r)},[...document.getElementsByClassName("storyimage-area")].map(s=>s.remove());for(let s of r){let c=document.createElement("div");c.className="storyimage-area";const u=(s.x-Math.floor(s.w/2))*i.width/e.naturalWidth;c.style.left=`${i.left-o.left+u}px`;const l=(s.y-Math.floor(s.h/2))*i.height/e.naturalHeight;c.style.top=`${i.top-o.top+l}px`,c.style.width=`${s.w*i.width/e.naturalWidth}px`,c.style.height=`${s.h*i.height/e.naturalHeight}px`,c.textContent=s.btn||"",n.appendChild(c),c.style.fontSize=`${18*i.height/e.naturalHeight}px`,c.onclick=()=>{const h=s.scene||s.escena;this.goToScene(this.scenes[h])},s.tooltip!==void 0&&(c.onmouseover=()=>{c.textContent=s.tooltip||"",c.style.zIndex="100"},c.onmouseout=()=>{c.textContent=s.btn||"",c.style.zIndex="0"})}}async typewriter(e,n){const r=n.text||n.texto||n.igramaText||"";let i=this.grammar?this.grammarRuleRecursion(r):r;if(i=i.replace(/\n/g,"<br>"),this.options.typewriterSpeed>0){let o=0;await new Promise(a=>{const s=setInterval(()=>{const c=i.substring(0,o);this.options.evalTags?e.innerHTML=c:e.textContent=c,o++,o>i.length&&(clearInterval(s),a(!0))},Math.floor(this.options.typewriterSpeed))}),this.optionButtons(n)}else this.options.evalTags?e.innerHTML=i:e.textContent=i,this.optionButtons(n)}optionButtons(e){const n=[...document.getElementsByClassName("storydiv")],r=n[n.length-1];[...document.getElementsByClassName("storybutton-container")].map(a=>a.remove());const o=document.createElement("div");if(o.className="storybutton-container",r.appendChild(o),e.options||e.opciones){const a=e.options||e.opciones;for(let s of a){const c=document.createElement("button");c.className="storybutton",c.textContent=s.btn,o.appendChild(c),c.addEventListener("click",()=>{if((s.text||s.texto)===void 0){const l=s.scene||s.escena;this.goToScene(this.scenes[l])}else this.goToScene(s)})}}else if(e.scene||e.escena){const a=e.scene||e.escena,s=document.createElement("button");s.className="storybutton",s.textContent=this.lang==="en"?"Continue":"Continuar",o.appendChild(s),s.addEventListener("click",()=>{this.goToScene(this.scenes[a])})}this.options.adventureSlide&&document.getElementById("storygeneraldiv").scrollIntoView({behavior:"smooth",block:"end"})}selectGrammarRule(e){if(e.length===0)return"";if(e.prob){const i=Math.random()*e.prob.reduce((a,s)=>a+s);let o=0;for(let a=0;a<e.prob.length;a++){if(o<=i&&i<o+e.prob[a])return e[a];o+=e.prob[a]}}const n=Math.floor(Math.random()*e.length);return e[n]}getNestedObject(e,n){return n.reduce((r,i)=>r&&r[i]!==void 0?r[i]:void 0,e)}defineTransformations(e){let n={};const r=/#(?<trans>[\w\d,]+)#/gi.exec(e),i=r?r.groups.trans.match(/[\w]+/gi):[];for(let o of i)n[o]=!0;return n}transformString(e,n){let r=e;return n.CAPITALIZE&&(r=r.charAt(0).toUpperCase()+r.slice(1)),n.ALLCAPS&&(r=r.toUpperCase()),r}decodeDrawing(e){if(e==="")return[];const[n,r,i]=e.split("%%");let o={};return n==="vector"?o.content=r.split("**").map(a=>{const[s,c,u]=a.split("&"),l=[];if(l.color=s,l.weight=c,u===void 0)return l;const h=u.split(",");for(let f=0;f<h.length;f+=2)l.push([+h[f],+h[f+1]]);return l}):o.content=r,o.attribute=i,o.type=n,o}async getMarkovModel(e,n=1,r=!1){let i=await(await fetch(`./${e}`)).text();i=i.replace(/([,:.;])/g," $1").replace(/[()\¿¡!?”“—-]/g,"").toLowerCase();const o=i.split(this.markovSeparator),a={};for(let c=0;c<o.length-n;c++){let u="";for(let h=0;h<n;h++)u+=h===0?o[c+h]:" "+o[c+h];a[u]===void 0&&(a[u]={});const l=o[c+n];a[u][l]===void 0?a[u][l]=1:a[u][l]++}const s={};for(let c of Object.keys(a)){const u=Object.keys(a[c]);s[c]={probs:[],grams:u};let l=0;for(let h=0;h<u.length;h++)l+=a[c][u[h]];for(let h=0;h<u.length;h++)s[c].probs[h]=a[c][u[h]]/l}if(r){const c=e.split("/");this.saveJSON(s,`${c[c.length-1]}_markovModel_${n}N.json`)}return s}markovChain(e,n,r=.1){let i=n===void 0||this.markov[n]===void 0?this.randomMarkovWord():n,o=i;for(let s=0;s<e-1;s++){let c=this.getNextMarkov(this.markov[o]);c===void 0&&(c=this.getNextMarkov(this.randomMarkovWord()));let u=o.split(this.markovSeparator);u.push(c),u=u.slice(1).join(" "),o=u,i+=` ${c}`}return this.formatMarkov(i,r)}randomMarkovWord(){const e=Math.floor(Math.random()*Object.keys(this.markov).length);return Object.keys(this.markov)[e]}getNextMarkov(e){const n=Math.random();let r=0;if(e!==void 0)for(let i=0;i<e.probs.length;i++){if(r<=n&&n<r+e.probs[i])return e.grams[i];r+=e.probs[i]}}formatMarkov(e,n=.1){let r=e.replace(/ ([,:.;])/g,"$1");return r=r.replaceAll(/([.]) ([\wáéíóú])/ig,(i,o,a,s,c)=>Math.random()<n?`.
${a.toUpperCase()}`:`. ${a.toUpperCase()}`),r.charAt(0).toUpperCase()+r.slice(1)}async loadJSON(e){return await(await fetch(e)).json()}saveJSON(e,n){const r=document.createElement("a");r.href=URL.createObjectURL(new Blob([JSON.stringify(e,null,2)],{type:"application/json"})),r.setAttribute("download",`${n.includes(".json")?n:n+".json"}`),document.body.appendChild(r),r.click(),document.body.removeChild(r)}testScenes(e){const n=e||this.scenes;if(!n){const i=this.lang==="es"?"No hay escenas para probar":"There are not scenes to test";console.error(i)}let r=[];for(let i of Object.keys(n)){const o=n[i];if(o.options||o.opciones){const s=(o.options||o.opciones).filter(c=>!n[c.scene||c.escena]);r=[...r,...s.map(c=>`${i} => ${c.btn} => ${c.scene||c.escena}`)]}else{if(o.deadEnd||o.sinSalida)continue;n[o.scene||o.escena]||r.push(`${i} => ${o.scene||o.escena}`)}}if(r.length>0){const i=this.lang==="es"?`Las siguientes escenas no llevan a ningún lado: ${r.join(", ")}`:`The following scenes are dead ends: ${r.join(", ")}`;console.error(i),this.scenesError=!0}return this}testGrammar(e){const n=e||this.grammar;if(!n){const r=this.lang==="es"?"No hay gramática para probar":"There is not grammar to test";console.error(r)}for(let r of Object.keys(n)){const i=n[r];for(let o of i){const a=o.match(/<([\w\d]+)>/gi),s=a?a.map(h=>h.replace(/[<>]/g,"")):[],c=o.match(/\$[\w\d]+\$\[([\w\d.,:]+)\]/gi),u=c?c.map(h=>h.match(/([ ]?:[\w\d]+)/g).map(f=>/[ ]?:(?<key>[\w\d]+)/.exec(f).groups.key)).reduce((h,f)=>[...h,...f],[]):[],l=[...s,...u].filter(h=>!n[h]);if(l.length>0){const h=this.lang==="es"?`Las siguientes reglas, que se referencian en "${r}", no existen: ${l.join(", ")}`:`The following rules, referenced in "${r}", do not exist: ${l.join(", ")}`;this.grammarError=!0,console.error(h)}}}return this}testDistribution(e){const n=e||this.markov;if(n===void 0){const u=this.lang==="es"?"No hay modelo Markov para probar":"There is not Markov model to test";console.error(u)}const r={},i={};let o=0;const a=Object.values(n);for(let u of a)for(let l of u.probs){const h=(Math.round(l/.05)*.05).toFixed(2);i[o]=h,o++,r[h]===void 0?r[h]=1:r[h]++}console.log("------------------------------------ DIST ------------------------------------");const s=Math.max(...Object.values(r)),c=Object.entries(r).sort((u,l)=>u[0]>l[0]?1:u[0]<l[0]?-1:0);for(let u of c)console.log(`${u[0]}... ${"|".repeat(Math.ceil(u[1]*100/s))}`);return console.log("------------------------------------ DIST ------------------------------------"),this}async showIgrama(e,n="png",r){const i=await this.igramaDataUrl(e,n),o=new Image;o.src=i,r==null?document.body.appendChild(o):document.getElementById(r).appendChild(o)}async igramaDataUrl(e,n="png"){const r=this.igrama.metadata.width,i=this.igrama.metadata.height;let o=document.createElement("canvas");o.width=r,o.height=i;const a=o.getContext("2d");a.lineJoin="round",a.lineCap="round",a.fillStyle=this.igrama.metadata.bg||"#FFFFFF",a.fillRect(0,0,r,i),await this.drawLayers(e,a);let s;if(n==="png")s=o.toDataURL();else if(n==="gif"){if(typeof MiniGif>"u")return console.error(this.lang==="es"?"Para crear Gifs debes tener también la librería MiniGif":"To create Gifs you must have also the MiniGif library"),"";const c={colorResolution:7,dither:!1,delay:50};Object.assign(c,this.minigifOptions);const u=new MiniGif(c);u.addFrame(o);const l=this.getLayerWiggle(e);a.fillStyle=this.igrama.metadata.bg||"#FFFFFF",a.fillRect(0,0,r,i),await this.drawLayers(l,a),u.addFrame(o);const h=u.makeGif();s="data:image/gif;base64,"+await this.base64_arraybuffer(h)}return o.remove(),s}async base64_arraybuffer(e){return(await new Promise(r=>{const i=new FileReader;i.onload=()=>r(i.result),i.readAsDataURL(new Blob([e]))})).split(",",2)[1]}getLayerWiggle(e){const r=JSON.parse(JSON.stringify(e)),i=(o,a)=>Math.floor(o+Math.random()*(a-o));for(let[o,a]of r.entries())if(a.type==="vector")for(let[s,c]of a.content.entries()){for(let[u,l]of c.entries())Math.random()<.5?l[0]+=i(-3,3):l[1]+=i(-3,3);c.color=e[o].content[s].color,c.weight=e[o].content[s].weight}return r}getIgramaText(e){return e.map(r=>r.attribute).reverse().join(" ").trim()}async drawLayers(e,n){for(let[r,i]of e.entries())if(i.type==="url"){const{w:o,h:a,x:s,y:c}=this.igrama.sections[r];if(this.imgsMemo[i.content]===void 0){const u=new Image;u.src=i.content,this.imgsMemo[i.content]=await new Promise(l=>{u.addEventListener("load",()=>{l(u)},!1)})}n.drawImage(this.imgsMemo[i.content],s,c,o,a)}else if(i.type=="vector")for(let o of i.content){if(o.length===0)continue;const a=this.getSpline(o);this.drawSpline(a,n,o.color,o.weight)}}drawSpline(e,n,r,i){n.lineWidth=i,n.strokeStyle=r,n.fillStyle="rgba(0,0,0,0)",n.beginPath();for(let o=0;o<e.length;o++)o===0?n.moveTo(...e[0]):n.lineTo(...e[o]);n.stroke()}getSpline(e){let n=[];for(let r=0;r<e.length-1;r++){const i=[];i[0]=r>0?e[r-1]:e[0],i[1]=e[r],i[2]=e[r+1],i[3]=r<e.length-2?e[r+2]:e[e.length-1];for(let o=0;o<1;o+=.05){const a=this.getSplinePoint(o,i);n.push(a)}}return n}getSplinePoint(e,n){const r=Math.floor(e)+1,i=r+1,o=i+1,a=r-1,s=e*e,c=s*e,u=-c+2*s-e,l=3*c-5*s+2,h=-3*c+4*s+e,f=c-s,d=.5*(n[a][0]*u+n[r][0]*l+n[i][0]*h+n[o][0]*f),g=.5*(n[a][1]*u+n[r][1]*l+n[i][1]*h+n[o][1]*f);return[d,g]}setCSS(){const e=document.createElement("style");e.id="adventurestyle",e.innerHTML=Ek,document.getElementsByTagName("head")[0].appendChild(e)}}async function Mk(t,e,n,r){const i=[t.find(d=>d.ID==e),t.find(d=>d.ID==n)],o=r.vizWidth,a=r.vizHeight,s=[];for(let d of i){const g=new Image;g.setAttribute("crossorigin","anonymous"),g.src=d.IMGURL,await new Promise(p=>{g.onload=()=>{p(!0)}}),s.push({url:d.IMGURL,img:g,ID:d.ID})}const c=document.createElement("canvas"),u=c.getContext("2d");c.width=o,c.height=a,u.fillStyle=r.vizBg,u.fillRect(0,0,o,a);const l=[];let h=0;for(let d of s){const g=parseInt(o/2)*.1,p=parseInt(o/2)-g,m=parseInt(p*d.img.height/d.img.width),y=h*(p+g)+p/2+g/2,_=a/2;u.save(),u.translate(-p/2,-m/2),u.drawImage(d.img,y,_,p,m),u.restore();const v={x:y,y:_,w:p,h:m,btn:"",scene:`ind_${d.ID}`,tooltip:""};l.push(v),h++}const f=c.toDataURL("image/png");return c.remove(),{viz:f,areas:l}}async function kk(t,e,n,r){const i=r.vizWidth,o=r.vizHeight,a=r.vizImageSize,s={l:.2*i,r:.1*i,t:.1*o,b:.1*o},c=i-s.l-s.r,u=o-s.t-s.b,l=t,h=[...new Set(l.map(b=>b[e]))],f=[...new Set(l.map(b=>b[n]))],d=Kc().domain(h).range([0,c]).padding(.5).round(!0),g=Kc().domain(f).range([0,u]).padding(.5).round(!0),p=[];for(let b of l){const w=new Image;w.setAttribute("crossorigin","anonymous"),w.src=b.IMGURL,await new Promise(x=>{w.onload=()=>{x(!0)}}),p.push({url:b.IMGURL,x:d(b[e]),y:g(b[n]),img:w,r:a,ID:b.ID})}Lu(p).force("charge",E1().strength(5)).force("collide",Ou(10)).tick(200);const m=document.createElement("canvas"),y=m.getContext("2d");m.width=i,m.height=o,y.fillStyle=r.vizBg,y.fillRect(0,0,i,o),y.strokeStyle="white",y.font="14px serif",y.textBaseline="middle",y.textAlign="center";for(let b of h)y.fillStyle="white",y.fillText(b,s.l+d(b),s.t+u+s.b/2);y.beginPath(),y.moveTo(s.l,s.t+u),y.lineTo(s.l+c,s.t+u),y.stroke(),y.textAlign="right";for(let b of f)y.fillStyle="white",y.fillText(b,s.l-5,s.t+g(b));y.beginPath(),y.moveTo(s.l,s.t),y.lineTo(s.l,s.t+u),y.stroke(),y.strokeStyle="black";const _=[];for(let b of p){const w=a,x=w*b.img.height/b.img.width,E=b.x+s.l,$=b.y+s.t;y.save(),y.translate(-w/2,-x/2),y.drawImage(b.img,E,$,w,x),y.restore();const I={x:E,y:$,w,h:x,btn:"",scene:`ind_${b.ID}`,tooltip:""};_.push(I)}const v=m.toDataURL("image/png");return m.remove(),{viz:v,areas:_}}async function Sk(t,e,n,r){const i=r.vizWidth,o=r.vizHeight,a=t,s=uu(a,_=>_.length,_=>_[e],_=>_[n]),u=Ya(s,([_,v])=>v.size&&Array.from(v)).sum(([,_])=>_).sort((_,v)=>v.value-_.value),l=[...vl[4]].reverse(),h=u.descendants(),f=_=>l[_];kg().size([i,o]).padding(20)(u);const d=[];for(let _ of a)for(let v of u.leaves())if(_[e]===v.parent.data[0]&&_[n]===v.data[0]){const b=new Image;b.setAttribute("crossorigin","anonymous"),b.src=_.IMGURL,await new Promise(w=>{b.onload=()=>{w(!0)}}),d.push({url:_.IMGURL,x:v.x,y:v.y,r:r.vizImageSize,img:b,ID:_.ID})}Lu(d).force("collide",Ou(20)).tick(200);const g=document.createElement("canvas"),p=g.getContext("2d");g.width=i,g.height=o,p.fillStyle=r.vizBg,p.fillRect(0,0,i,o),p.font="12px serif",p.textBaseline="middle",p.textAlign="center";for(let _ of h)p.save(),p.translate(_.x,_.y),p.strokeStyle="black",p.fillStyle=f(_.depth),p.beginPath(),p.ellipse(0,0,_.r,_.r,0,0,Math.PI*2),p.fill(),p.stroke(),p.fillStyle="black",p.fillText(_.depth===1||_.depth===2?_.data[0]:"",0,-_.r-5),p.restore();const m=[];for(let _ of d){const v=parseInt(50),b=parseInt(v*_.img.height/_.img.width),w=_.x,x=_.y;p.save(),p.translate(-v/2,-b/2),p.drawImage(_.img,w,x,v,b),p.restore();const E={x:w,y:x,w:v,h:b,btn:"",scene:`ind_${_.ID}`,tooltip:""};m.push(E)}const y=g.toDataURL("image/png");return g.remove(),{viz:y,areas:m}}const Ek=`#storygeneraldiv {
  box-sizing: border-box;
  margin: auto;
  max-width: 900px;
  font-family: 'Public Sans', sans-serif;
  background: white;
}

.storydiv {
  box-sizing: border-box;
  border: solid black 1px;
  width: 100%;
  display: flex;
  padding: 1em;
  flex-direction: column;
}

.storytitle {
  font-size: 2em;
  margin: 0.1em 0;
}

.storyp {
  font-size: 1em;
}
.storyp img {
  width: 100%;
  margin: auto;
}

.storymeta-container {
  margin: 0.5em 0;
}

.storymeta-key {
  font-weight: 700;
}

.storybutton-container {
  margin: auto;
}

.storybutton {
  background: white;
  box-shadow: none;
  border: solid 1px;
  margin: 0px 1em 0px 0px;
  font-size: 20px;
  font-family: 'Public Sans', sans-serif;
  cursor: pointer;
}

.storybutton:hover {
  color: white;
  background: black;
}

.storyimage-container {
  box-sizing: content-box;
  position: relative;
  width: 100%;
  margin: auto;
}

.storyimage {
  justify-content: center;
  width: 100%;
  margin: auto;
  border-radius: 20px;
  display: block;
}

.storyimage-area {
  box-sizing: border-box;
  position: absolute;
  cursor: pointer;
  text-align: center;
  color: black;
  background: #ffffff00;
  border: solid 1px black;
}

.storyimage-area:hover {
  background: #ffffff33;
}

@media screen and (max-device-width: 500px) {
  #storygeneraldiv {
    max-width:100%;
  }
  .storyp {
    font-size: 7vw;
  }
  .storybutton {
    font-size: 10vw;
  }
}
`,$k=Om(xk);function S0(t){let e,n,r;return{c(){e=G("div"),n=G("img"),this.h()},l(i){e=H(i,"DIV",{class:!0});var o=X(e);n=H(o,"IMG",{src:!0,alt:!0}),o.forEach(z),this.h()},h(){An(n.src,r="assets/imgs/logo/loadingCarguero.gif")||U(n,"src",r),U(n,"alt","cargando"),U(e,"class","loader svelte-1gkwqil")},m(i,o){Z(i,e,o),L(e,n)},d(i){i&&z(e)}}}function Tk(t){let e,n,r,i=!t[0]&&S0();return{c(){e=G("div"),n=ut(),i&&i.c(),r=Gt(),this.h()},l(o){e=H(o,"DIV",{id:!0,class:!0}),X(e).forEach(z),n=lt(o),i&&i.l(o),r=Gt(),this.h()},h(){U(e,"id","aventura-container"),U(e,"class","svelte-1gkwqil")},m(o,a){Z(o,e,a),Z(o,n,a),i&&i.m(o,a),Z(o,r,a)},p(o,[a]){o[0]?i&&(i.d(1),i=null):i||(i=S0(),i.c(),i.m(r.parentNode,r))},i:pt,o:pt,d(o){o&&z(e),o&&z(n),i&&i.d(o),o&&z(r)}}}let Ak="assets/imgs/";function Nk(t,e,n){let r;Rm(t,$k,c=>n(3,r=c));let{pathEscenas:i}=e,{escenaInicial:o}=e,a=!1;pa(async()=>{await s()});async function s(){const c={adventureContainer:"aventura-container",adventureSlide:!1,typewriterSpeed:0,evalTags:!0,vizImageSize:70,urlWord:"Repositorio",vizWidth:1e3,vizHeight:1e3},u=new r("es",c);console.log(i);const l=await u.cargarJSON(i),h=await tu("https://docs.google.com/spreadsheets/d/1d9FFjiKn-LIdcWtXZau6I66aG2yNMx2QF9ELPy7m2ho/export?format=csv",f=>({...f,ID:f.n,URL:f.repositorio,IMGURL:Ak+f.src,CONT:f.descripcion}));console.log(h),await u.setDataScenes(l,h,["obras","autor","fecha","tecnica","fuente"]),u.iniciarAventura(o),n(0,a=!0)}return t.$$set=c=>{"pathEscenas"in c&&n(1,i=c.pathEscenas),"escenaInicial"in c&&n(2,o=c.escenaInicial)},[a,i,o]}class us extends we{constructor(e){super(),xe(this,e,Nk,Tk,Me,{pathEscenas:1,escenaInicial:2})}}function Ck(t){let e,n;return e=new us({props:{pathEscenas:"assets\\paneles\\panelHumboldt.json",escenaInicial:"inicio"}}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},p:pt,i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}class Ik extends we{constructor(e){super(),xe(this,e,null,Ck,Me,{})}}function Rk(t){let e,n;return e=new us({props:{pathEscenas:"assets\\paneles\\panelViajeros.json",escenaInicial:"start"}}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},p:pt,i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}class Pk extends we{constructor(e){super(),xe(this,e,null,Rk,Me,{})}}function E0(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Dk(t){let e,n=t[1],r=[];for(let i=0;i<n.length;i+=1)r[i]=$0(E0(t,n,i));return{c(){e=G("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=H(i,"DIV",{class:!0});var o=X(e);for(let a=0;a<r.length;a+=1)r[a].l(o);o.forEach(z),this.h()},h(){U(e,"class","container-paneles svelte-1g2meg7")},m(i,o){Z(i,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,o){if(o&6){n=i[1];let a;for(a=0;a<n.length;a+=1){const s=E0(i,n,a);r[a]?r[a].p(s,o):(r[a]=$0(s),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:pt,o:pt,d(i){i&&z(e),dr(r,i)}}}function zk(t){let e,n,r,i,o,a,s,c,u;const l=[Lk,Ok],h=[];function f(d,g){return d[0]===0?0:d[0]===1?1:-1}return~(n=f(t))&&(r=h[n]=l[n](t)),a=new wa({props:{icon:"ic:twotone-arrow-back-ios"}}),{c(){e=G("div"),r&&r.c(),i=ut(),o=G("button"),re(a.$$.fragment),this.h()},l(d){e=H(d,"DIV",{class:!0});var g=X(e);r&&r.l(g),g.forEach(z),i=lt(d),o=H(d,"BUTTON",{class:!0});var p=X(o);ie(a.$$.fragment,p),p.forEach(z),this.h()},h(){U(e,"class","seleccion-paneles"),U(o,"class","svelte-1g2meg7")},m(d,g){Z(d,e,g),~n&&h[n].m(e,null),Z(d,i,g),Z(d,o,g),oe(a,o,null),s=!0,c||(u=ve(o,"click",t[3]),c=!0)},p(d,g){let p=n;n=f(d),n!==p&&(r&&(Oe(),dt(h[p],1,1,()=>{h[p]=null}),Le()),~n?(r=h[n],r||(r=h[n]=l[n](d),r.c()),ct(r,1),r.m(e,null)):r=null)},i(d){s||(ct(r),ct(a.$$.fragment,d),s=!0)},o(d){dt(r),dt(a.$$.fragment,d),s=!1},d(d){d&&z(e),~n&&h[n].d(),d&&z(i),d&&z(o),ae(a),c=!1,u()}}}function $0(t){let e,n,r=t[5].panel+"",i,o,a,s,c,u,l;function h(){return t[4](t[7])}return{c(){e=G("div"),n=G("h3"),i=yt(r),o=ut(),a=G("img"),c=ut(),this.h()},l(f){e=H(f,"DIV",{class:!0});var d=X(e);n=H(d,"H3",{class:!0});var g=X(n);i=_t(g,r),g.forEach(z),o=lt(d),a=H(d,"IMG",{class:!0,src:!0}),c=lt(d),d.forEach(z),this.h()},h(){U(n,"class","paneles svelte-1g2meg7"),U(a,"class","thumbnail-panel svelte-1g2meg7"),An(a.src,s=t[5].imagen)||U(a,"src",s),U(e,"class","panel-box svelte-1g2meg7")},m(f,d){Z(f,e,d),L(e,n),L(n,i),L(e,o),L(e,a),L(e,c),u||(l=ve(a,"click",h),u=!0)},p(f,d){t=f},d(f){f&&z(e),u=!1,l()}}}function Ok(t){let e,n;return e=new us({props:{pathEscenas:"assets\\paneles\\panelCostumbres.json",escenaInicial:"inicio"}}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Lk(t){let e,n;return e=new us({props:{pathEscenas:"assets\\paneles\\panelCorografia-1.json",escenaInicial:"inicio"}}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Fk(t){let e,n,r,i;const o=[zk,Dk],a=[];function s(c,u){return c[0]!==null?0:1}return n=s(t),r=a[n]=o[n](t),{c(){e=G("div"),r.c(),this.h()},l(c){e=H(c,"DIV",{class:!0});var u=X(e);r.l(u),u.forEach(z),this.h()},h(){U(e,"class","general")},m(c,u){Z(c,e,u),a[n].m(e,null),i=!0},p(c,[u]){let l=n;n=s(c),n===l?a[n].p(c,u):(Oe(),dt(a[l],1,1,()=>{a[l]=null}),Le(),r=a[n],r?r.p(c,u):(r=a[n]=o[n](c),r.c()),ct(r,1),r.m(e,null))},i(c){i||(ct(r),i=!0)},o(c){dt(r),i=!1},d(c){c&&z(e),a[n].d()}}}function Uk(t,e,n){let r=[{panel:"CARGUERO Y COROGRRAFÍA",imagen:"assets/imgs/viz/compareCorografia.png"},{panel:"CARGUERO Y COSTUMBRES",imagen:"assets/imgs/viz/compareCostumbres.png"}],i=null;function o(c){n(0,i=c)}function a(){n(0,i=null)}return[i,r,o,a,c=>o(c)]}class Bk extends we{constructor(e){super(),xe(this,e,Uk,Fk,Me,{})}}function T0(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function qk(t){let e,n=t[1],r=[];for(let i=0;i<n.length;i+=1)r[i]=A0(T0(t,n,i));return{c(){e=G("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=H(i,"DIV",{class:!0});var o=X(e);for(let a=0;a<r.length;a+=1)r[a].l(o);o.forEach(z),this.h()},h(){U(e,"class","container-paneles svelte-12scysn")},m(i,o){Z(i,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,o){if(o&6){n=i[1];let a;for(a=0;a<n.length;a+=1){const s=T0(i,n,a);r[a]?r[a].p(s,o):(r[a]=A0(s),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:pt,o:pt,d(i){i&&z(e),dr(r,i)}}}function Yk(t){let e,n,r,i,o,a,s,c,u;const l=[Vk,Hk,Gk],h=[];function f(d,g){return d[0]===0?0:d[0]===1?1:d[0]===2?2:-1}return~(n=f(t))&&(r=h[n]=l[n](t)),a=new wa({props:{icon:"entypo:home"}}),{c(){e=G("div"),r&&r.c(),i=ut(),o=G("button"),re(a.$$.fragment),this.h()},l(d){e=H(d,"DIV",{class:!0});var g=X(e);r&&r.l(g),g.forEach(z),i=lt(d),o=H(d,"BUTTON",{class:!0});var p=X(o);ie(a.$$.fragment,p),p.forEach(z),this.h()},h(){U(e,"class","seleccion-paneles"),U(o,"class","svelte-12scysn")},m(d,g){Z(d,e,g),~n&&h[n].m(e,null),Z(d,i,g),Z(d,o,g),oe(a,o,null),s=!0,c||(u=ve(o,"click",t[3]),c=!0)},p(d,g){let p=n;n=f(d),n!==p&&(r&&(Oe(),dt(h[p],1,1,()=>{h[p]=null}),Le()),~n?(r=h[n],r||(r=h[n]=l[n](d),r.c()),ct(r,1),r.m(e,null)):r=null)},i(d){s||(ct(r),ct(a.$$.fragment,d),s=!0)},o(d){dt(r),dt(a.$$.fragment,d),s=!1},d(d){d&&z(e),~n&&h[n].d(),d&&z(i),d&&z(o),ae(a),c=!1,u()}}}function A0(t){let e,n,r=t[5].panel+"",i,o,a,s,c,u,l;function h(){return t[4](t[7])}return{c(){e=G("div"),n=G("h3"),i=yt(r),o=ut(),a=G("img"),c=ut(),this.h()},l(f){e=H(f,"DIV",{class:!0});var d=X(e);n=H(d,"H3",{class:!0});var g=X(n);i=_t(g,r),g.forEach(z),o=lt(d),a=H(d,"IMG",{class:!0,src:!0}),c=lt(d),d.forEach(z),this.h()},h(){U(n,"class","paneles svelte-12scysn"),U(a,"class","thumbnail-panel svelte-12scysn"),An(a.src,s=t[5].imagen)||U(a,"src",s),U(e,"class","panel-box svelte-12scysn")},m(f,d){Z(f,e,d),L(e,n),L(n,i),L(e,o),L(e,a),L(e,c),u||(l=ve(a,"click",h),u=!0)},p(f,d){t=f},d(f){f&&z(e),u=!1,l()}}}function Gk(t){let e,n;return e=new Bk({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Hk(t){let e,n;return e=new Pk({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Vk(t){let e,n;return e=new Ik({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function jk(t){let e,n,r,i;const o=[Yk,qk],a=[];function s(c,u){return c[0]!==null?0:1}return n=s(t),r=a[n]=o[n](t),{c(){e=G("div"),r.c(),this.h()},l(c){e=H(c,"DIV",{class:!0});var u=X(e);r.l(u),u.forEach(z),this.h()},h(){U(e,"class","general")},m(c,u){Z(c,e,u),a[n].m(e,null),i=!0},p(c,[u]){let l=n;n=s(c),n===l?a[n].p(c,u):(Oe(),dt(a[l],1,1,()=>{a[l]=null}),Le(),r=a[n],r?r.p(c,u):(r=a[n]=o[n](c),r.c()),ct(r,1),r.m(e,null))},i(c){i||(ct(r),i=!0)},o(c){dt(r),i=!1},d(c){c&&z(e),a[n].d()}}}function Wk(t,e,n){let r=[{panel:"HUMBOLDT Y EL CARGUERO COLONIAL",imagen:"assets/imgs/montajes/montaje-intro.png"},{panel:"EL CARGUERO Y LOS VIAJEROS",imagen:"assets/imgs/montajes/montaje-veintes.png"},{panel:"CARGUERO, COROGRAFÍA Y COSTUMBRES",imagen:"assets/imgs/montajes/montaje-cincuentas.png"}],i=null;function o(c){n(0,i=c)}function a(){n(0,i=null)}return[i,r,o,a,c=>o(c)]}class km extends we{constructor(e){super(),xe(this,e,Wk,jk,Me,{})}}function Xk(t){return{c:pt,l:pt,m:pt,p:pt,i:pt,o:pt,d:pt}}function Kk(t){return{c:pt,l:pt,m:pt,p:pt,i:pt,o:pt,d:pt}}function Zk(t){let e,n;return e=new K0({props:{data:t[0]}}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.data=r[0]),e.$set(o)},i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Qk(t){let e,n;return e=new Z0({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},p:pt,i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Jk(t){let e,n;return e=new km({}),{c(){re(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,i){oe(e,r,i),n=!0},p:pt,i(r){n||(ct(e.$$.fragment,r),n=!0)},o(r){dt(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function tS(t){let e,n,r,i,o,a,s,c,u,l,h,f,d,g,p,m,y,_,v,b,w,x,E,$,I,S,M,C,T,k,A,N,R,D,P,B;function q(Q){t[3](Q)}let O={secciones:t[2]};t[1]!==void 0&&(O.pagina=t[1]),C=new Ty({props:O}),Pm.push(()=>Dm(C,"pagina",q));const K=[Jk,Qk,Zk,Kk,Xk],it=[];function rt(Q,j){return Q[1]==0?0:Q[1]==1?1:Q[1]==2?2:Q[1]==3?3:Q[1]==4?4:-1}return~(D=rt(t))&&(P=it[D]=K[D](t)),{c(){e=G("sevelte:head"),n=G("link"),r=ut(),i=G("link"),o=ut(),a=G("link"),s=ut(),c=G("link"),u=ut(),l=G("link"),h=ut(),f=G("link"),d=ut(),g=G("link"),p=ut(),m=G("link"),y=ut(),_=G("link"),v=ut(),b=G("link"),w=ut(),x=G("div"),E=G("header"),$=G("div"),I=G("h1"),S=yt("Atlas interactivo de las imágenes del Carguero"),M=G("nav"),re(C.$$.fragment),k=ut(),A=G("cover"),N=ut(),R=G("div"),P&&P.c(),this.h()},l(Q){e=H(Q,"SEVELTE:HEAD",{});var j=X(e);n=H(j,"LINK",{rel:!0,href:!0}),r=lt(j),i=H(j,"LINK",{rel:!0,href:!0,crossorigin:!0}),o=lt(j),a=H(j,"LINK",{href:!0,rel:!0}),s=lt(j),c=H(j,"LINK",{rel:!0,href:!0}),u=lt(j),l=H(j,"LINK",{rel:!0,href:!0,crossorigin:!0}),h=lt(j),f=H(j,"LINK",{href:!0,rel:!0}),d=lt(j),g=H(j,"LINK",{rel:!0,href:!0}),p=lt(j),m=H(j,"LINK",{rel:!0,href:!0,crossorigin:!0}),y=lt(j),_=H(j,"LINK",{href:!0,rel:!0}),v=lt(j),b=H(j,"LINK",{href:!0,rel:!0}),j.forEach(z),w=lt(Q),x=H(Q,"DIV",{class:!0});var gt=X(x);E=H(gt,"HEADER",{class:!0});var Y=X(E);$=H(Y,"DIV",{id:!0,class:!0});var nt=X($);I=H(nt,"H1",{class:!0});var at=X(I);S=_t(at,"Atlas interactivo de las imágenes del Carguero"),at.forEach(z),nt.forEach(z),M=H(Y,"NAV",{class:!0});var F=X(M);ie(C.$$.fragment,F),F.forEach(z),Y.forEach(z),k=lt(gt),A=H(gt,"COVER",{class:!0}),X(A).forEach(z),N=lt(gt),R=H(gt,"DIV",{class:!0});var xt=X(R);P&&P.l(xt),xt.forEach(z),gt.forEach(z),this.h()},h(){U(n,"rel","preconnect"),U(n,"href","https://fonts.googleapis.com"),U(i,"rel","preconnect"),U(i,"href","https://fonts.gstatic.com"),U(i,"crossorigin",""),U(a,"href","https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;1,100;1,200;1,300;1,400;1,500;1,600&family=Libre+Bodoni:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Proza+Libre:ital,wght@1,800&display=swap"),U(a,"rel","stylesheet"),U(c,"rel","preconnect"),U(c,"href","https://fonts.googleapis.com"),U(l,"rel","preconnect"),U(l,"href","https://fonts.gstatic.com"),U(l,"crossorigin",""),U(f,"href","https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;1,100;1,200;1,300;1,400;1,500;1,600&family=Libre+Bodoni:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Proza+Libre:ital,wght@1,800&display=swap"),U(f,"rel","stylesheet"),U(g,"rel","preconnect"),U(g,"href","https://fonts.googleapis.com"),U(m,"rel","preconnect"),U(m,"href","https://fonts.gstatic.com"),U(m,"crossorigin",""),U(_,"href","https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap"),U(_,"rel","stylesheet"),U(b,"href","https://fonts.googleapis.com/css2?family=Public+Sans&display=swap"),U(b,"rel","stylesheet"),U(I,"class","svelte-k773dx"),U($,"id","titulo"),U($,"class","svelte-k773dx"),U(M,"class","textos-menu svelte-k773dx"),U(E,"class","header svelte-k773dx"),U(A,"class","cover svelte-k773dx"),U(R,"class","contenedor-menu"),U(x,"class","contenedor-general")},m(Q,j){Z(Q,e,j),L(e,n),L(e,r),L(e,i),L(e,o),L(e,a),L(e,s),L(e,c),L(e,u),L(e,l),L(e,h),L(e,f),L(e,d),L(e,g),L(e,p),L(e,m),L(e,y),L(e,_),L(e,v),L(e,b),Z(Q,w,j),Z(Q,x,j),L(x,E),L(E,$),L($,I),L(I,S),L(E,M),oe(C,M,null),L(x,k),L(x,A),L(x,N),L(x,R),~D&&it[D].m(R,null),B=!0},p(Q,[j]){const gt={};!T&&j&2&&(T=!0,gt.pagina=Q[1],zm(()=>T=!1)),C.$set(gt);let Y=D;D=rt(Q),D===Y?~D&&it[D].p(Q,j):(P&&(Oe(),dt(it[Y],1,1,()=>{it[Y]=null}),Le()),~D?(P=it[D],P?P.p(Q,j):(P=it[D]=K[D](Q),P.c()),ct(P,1),P.m(R,null)):P=null)},i(Q){B||(ct(C.$$.fragment,Q),ct(P),B=!0)},o(Q){dt(C.$$.fragment,Q),dt(P),B=!1},d(Q){Q&&z(e),Q&&z(w),Q&&z(x),ae(C),~D&&it[D].d()}}}function eS(t,e,n){let r=[];function i(){tu("https://docs.google.com/spreadsheets/d/1d9FFjiKn-LIdcWtXZau6I66aG2yNMx2QF9ELPy7m2ho/export?format=csv").then(o)}function o(u){n(0,r=u)}pa(()=>{i();const u=Math.floor(Math.random()*52),l=document.querySelector(".cover");l.style.backgroundImage=`url("assets/imgs/covers/${u}.jpg")`});let a=[{seccion:"PANELES",component:km},{seccion:"ACERCA",component:Z0},{seccion:"GALERÍA",component:K0},{seccion:"TEORÍA",component:Ay},{seccion:"ANTECEDENTES",component:Ny}],s=0;function c(u){s=u,n(1,s)}return[r,s,a,c]}class oS extends we{constructor(e){super(),xe(this,e,eS,tS,Me,{})}}export{oS as default};
