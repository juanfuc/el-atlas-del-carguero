import{S as pe,i as me,s as ye,y as Wt,h as X,n as gt,f as z,v as ya,K as Em,L as $o,M as Al,e as Y,c as G,b as W,N as Cl,O as I0,P as Tm,Q as Am,R as Nl,T as Cm,t as mt,a as ut,d as yt,g as lt,x as L,j as F,U as fe,q as it,C as ke,z as Se,r as st,V as Cn,A as Nm,w as fn,W as Im,F as zt,G as Ot,H as Lt,k as we,I as Ft,X as Rm,Y as Il,Z as Pm,l as Dm,D as zm,_ as Om,$ as Lm}from"../chunks/index.52abe46f.js";import{r as Fm}from"../chunks/index.2ffb9958.js";function Um(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Bm(t,e){return fetch(t,e).then(Um)}function qm(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Ym(t,e){return fetch(t,e).then(qm)}var Rl={},ls={},fs=34,Dr=10,hs=13;function R0(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Gm(t,e){var n=R0(t);return function(r,i){return e(n(r),i,t)}}function Pl(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function ce(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Hm(t){return t<0?"-"+ce(-t,6):t>9999?"+"+ce(t,6):ce(t,4)}function Vm(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Hm(t.getUTCFullYear())+"-"+ce(t.getUTCMonth()+1,2)+"-"+ce(t.getUTCDate(),2)+(i?"T"+ce(e,2)+":"+ce(n,2)+":"+ce(r,2)+"."+ce(i,3)+"Z":r?"T"+ce(e,2)+":"+ce(n,2)+":"+ce(r,2)+"Z":n||e?"T"+ce(e,2)+":"+ce(n,2)+"Z":"")}function _a(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(h,f){var d,g,p=i(h,function(m,y){if(d)return d(m,y-1);g=m,d=f?Gm(m,f):R0(m)});return p.columns=g||[],p}function i(h,f){var d=[],g=h.length,p=0,m=0,y,_=g<=0,v=!1;h.charCodeAt(g-1)===Dr&&--g,h.charCodeAt(g-1)===hs&&--g;function b(){if(_)return ls;if(v)return v=!1,Rl;var x,$=p,E;if(h.charCodeAt($)===fs){for(;p++<g&&h.charCodeAt(p)!==fs||h.charCodeAt(++p)===fs;);return(x=p)>=g?_=!0:(E=h.charCodeAt(p++))===Dr?v=!0:E===hs&&(v=!0,h.charCodeAt(p)===Dr&&++p),h.slice($+1,x-1).replace(/""/g,'"')}for(;p<g;){if((E=h.charCodeAt(x=p++))===Dr)v=!0;else if(E===hs)v=!0,h.charCodeAt(p)===Dr&&++p;else if(E!==n)continue;return h.slice($,x)}return _=!0,h.slice($,g)}for(;(y=b())!==ls;){for(var w=[];y!==Rl&&y!==ls;)w.push(y),y=b();f&&(w=f(w,m++))==null||d.push(w)}return d}function o(h,f){return h.map(function(d){return f.map(function(g){return l(d[g])}).join(t)})}function a(h,f){return f==null&&(f=Pl(h)),[f.map(l).join(t)].concat(o(h,f)).join(`
`)}function s(h,f){return f==null&&(f=Pl(h)),o(h,f).join(`
`)}function c(h){return h.map(u).join(`
`)}function u(h){return h.map(l).join(t)}function l(h){return h==null?"":h instanceof Date?Vm(h):e.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:c,formatRow:u,formatValue:l}}var Yn=_a(","),P0=Yn.parse,jm=Yn.parseRows,Wm=Yn.format,Xm=Yn.formatBody,Km=Yn.formatRows,Zm=Yn.formatRow,Qm=Yn.formatValue,Gn=_a("	"),D0=Gn.parse,Jm=Gn.parseRows,t2=Gn.format,e2=Gn.formatBody,n2=Gn.formatRows,r2=Gn.formatRow,i2=Gn.formatValue;function o2(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))a2&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const a2=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function s2(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ba(t,e){return fetch(t,e).then(s2)}function z0(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),ba(e,n).then(function(i){return t(i,r)})}}function c2(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=_a(t);return ba(e,n).then(function(o){return i.parse(o,r)})}var tu=z0(P0),u2=z0(D0);function l2(t,e){return new Promise(function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function f2(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function h2(t,e){return fetch(t,e).then(f2)}function eu(t){return(e,n)=>ba(e,n).then(r=>new DOMParser().parseFromString(r,t))}const d2=eu("application/xml");var g2=eu("text/html"),p2=eu("image/svg+xml");const ni=/^[a-z0-9]+(-[a-z0-9]+)*$/,va=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const s=i.pop(),c=i.pop(),u={provider:i.length>0?i[0]:r,prefix:c,name:s};return e&&!fo(u)?null:u}const o=i[0],a=o.split("-");if(a.length>1){const s={provider:r,prefix:a.shift(),name:a.join("-")};return e&&!fo(s)?null:s}if(n&&r===""){const s={provider:r,prefix:"",name:o};return e&&!fo(s,n)?null:s}return null},fo=(t,e)=>t?!!((t.provider===""||t.provider.match(ni))&&(e&&t.prefix===""||t.prefix.match(ni))&&t.name.match(ni)):!1,O0=Object.freeze({left:0,top:0,width:16,height:16}),Eo=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),wa=Object.freeze({...O0,...Eo}),Ks=Object.freeze({...wa,body:"",hidden:!1});function m2(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function Dl(t,e){const n=m2(t,e);for(const r in Ks)r in Eo?r in t&&!(r in n)&&(n[r]=Eo[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function y2(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function o(a){if(n[a])return i[a]=[];if(!(a in i)){i[a]=null;const s=r[a]&&r[a].parent,c=s&&o(s);c&&(i[a]=[s].concat(c))}return i[a]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(o),i}function _2(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let o={};function a(s){o=Dl(r[s]||i[s],o)}return a(e),n.forEach(a),Dl(t,o)}function L0(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const r=y2(t);for(const i in r){const o=r[i];o&&(e(i,_2(t,i,o)),n.push(i))}return n}const b2={provider:"",aliases:{},not_found:{},...O0};function ds(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function F0(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!ds(t,b2))return null;const n=e.icons;for(const i in n){const o=n[i];if(!i.match(ni)||typeof o.body!="string"||!ds(o,Ks))return null}const r=e.aliases||Object.create(null);for(const i in r){const o=r[i],a=o.parent;if(!i.match(ni)||typeof a!="string"||!n[a]&&!r[a]||!ds(o,Ks))return null}return e}const zl=Object.create(null);function v2(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Nn(t,e){const n=zl[t]||(zl[t]=Object.create(null));return n[e]||(n[e]=v2(t,e))}function nu(t,e){return F0(e)?L0(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function w2(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let ui=!1;function U0(t){return typeof t=="boolean"&&(ui=t),ui}function x2(t){const e=typeof t=="string"?va(t,!0,ui):t;if(e){const n=Nn(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function M2(t,e){const n=va(t,!0,ui);if(!n)return!1;const r=Nn(n.provider,n.prefix);return w2(r,n.name,e)}function k2(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),ui&&!e&&!t.prefix){let i=!1;return F0(t)&&(t.prefix="",L0(t,(o,a)=>{a&&M2(o,a)&&(i=!0)})),i}const n=t.prefix;if(!fo({provider:e,prefix:n,name:"a"}))return!1;const r=Nn(e,n);return!!nu(r,t)}const B0=Object.freeze({width:null,height:null}),q0=Object.freeze({...B0,...Eo}),S2=/(-?[0-9.]*[0-9]+[0-9.]*)/g,$2=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Ol(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(S2);if(r===null||!r.length)return t;const i=[];let o=r.shift(),a=$2.test(o);for(;;){if(a){const s=parseFloat(o);isNaN(s)?i.push(o):i.push(Math.ceil(s*e*n)/n)}else i.push(o);if(o=r.shift(),o===void 0)return i.join("");a=!a}}const E2=t=>t==="unset"||t==="undefined"||t==="none";function T2(t,e){const n={...wa,...t},r={...q0,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(g=>{const p=[],m=g.hFlip,y=g.vFlip;let _=g.rotate;m?y?_+=2:(p.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),p.push("scale(-1 1)"),i.top=i.left=0):y&&(p.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),p.push("scale(1 -1)"),i.top=i.left=0);let v;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:v=i.height/2+i.top,p.unshift("rotate(90 "+v.toString()+" "+v.toString()+")");break;case 2:p.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:v=i.width/2+i.left,p.unshift("rotate(-90 "+v.toString()+" "+v.toString()+")");break}_%2===1&&(i.left!==i.top&&(v=i.left,i.left=i.top,i.top=v),i.width!==i.height&&(v=i.width,i.width=i.height,i.height=v)),p.length&&(o='<g transform="'+p.join(" ")+'">'+o+"</g>")});const a=r.width,s=r.height,c=i.width,u=i.height;let l,h;a===null?(h=s===null?"1em":s==="auto"?u:s,l=Ol(h,c/u)):(l=a==="auto"?c:a,h=s===null?Ol(l,u/c):s==="auto"?u:s);const f={},d=(g,p)=>{E2(p)||(f[g]=p.toString())};return d("width",l),d("height",h),f.viewBox=i.left.toString()+" "+i.top.toString()+" "+c.toString()+" "+u.toString(),{attributes:f,body:o}}const A2=/\sid="(\S+)"/g,C2="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let N2=0;function I2(t,e=C2){const n=[];let r;for(;r=A2.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(o=>{const a=typeof e=="function"?e(o):e+(N2++).toString(),s=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const Zs=Object.create(null);function R2(t,e){Zs[t]=e}function Qs(t){return Zs[t]||Zs[""]}function ru(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const iu=Object.create(null),zr=["https://api.simplesvg.com","https://api.unisvg.com"],ho=[];for(;zr.length>0;)zr.length===1||Math.random()>.5?ho.push(zr.shift()):ho.push(zr.pop());iu[""]=ru({resources:["https://api.iconify.design"].concat(ho)});function P2(t,e){const n=ru(e);return n===null?!1:(iu[t]=n,!0)}function ou(t){return iu[t]}const D2=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Ll=D2();function z2(t,e){const n=ou(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(a=>{i=Math.max(i,a.length)});const o=e+".json?icons=";r=n.maxURL-i-n.path.length-o.length}return r}function O2(t){return t===404}const L2=(t,e,n)=>{const r=[],i=z2(t,e),o="icons";let a={type:o,provider:t,prefix:e,icons:[]},s=0;return n.forEach((c,u)=>{s+=c.length+1,s>=i&&u>0&&(r.push(a),a={type:o,provider:t,prefix:e,icons:[]},s=c.length),a.icons.push(c)}),r.push(a),r};function F2(t){if(typeof t=="string"){const e=ou(t);if(e)return e.path}return"/"}const U2=(t,e,n)=>{if(!Ll){n("abort",424);return}let r=F2(e.provider);switch(e.type){case"icons":{const o=e.prefix,s=e.icons.join(","),c=new URLSearchParams({icons:s});r+=o+".json?"+c.toString();break}case"custom":{const o=e.uri;r+=o.slice(0,1)==="/"?o.slice(1):o;break}default:n("abort",400);return}let i=503;Ll(t+r).then(o=>{const a=o.status;if(a!==200){setTimeout(()=>{n(O2(a)?"abort":"next",a)});return}return i=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?n("abort",o):n("next",i)});return}setTimeout(()=>{n("success",o)})}).catch(()=>{n("next",i)})},B2={prepare:L2,send:U2};function q2(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,o)=>i.provider!==o.provider?i.provider.localeCompare(o.provider):i.prefix!==o.prefix?i.prefix.localeCompare(o.prefix):i.name.localeCompare(o.name));let r={provider:"",prefix:"",name:""};return t.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const o=i.provider,a=i.prefix,s=i.name,c=n[o]||(n[o]=Object.create(null)),u=c[a]||(c[a]=Nn(o,a));let l;s in u.icons?l=e.loaded:a===""||u.missing.has(s)?l=e.missing:l=e.pending;const h={provider:o,prefix:a,name:s};l.push(h)}),e}function Y0(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==e))})}function Y2(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(o=>{const a=o.icons,s=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==i)return!0;const u=c.name;if(t.icons[u])a.loaded.push({provider:r,prefix:i,name:u});else if(t.missing.has(u))a.missing.push({provider:r,prefix:i,name:u});else return n=!0,!0;return!1}),a.pending.length!==s&&(n||Y0([t],o.id),o.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),o.abort))})}))}let G2=0;function H2(t,e,n){const r=G2++,i=Y0.bind(null,n,r);if(!e.pending.length)return i;const o={id:r,icons:e,callback:t,abort:i};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(o)}),i}function V2(t,e=!0,n=!1){const r=[];return t.forEach(i=>{const o=typeof i=="string"?va(i,e,n):i;o&&r.push(o)}),r}var j2={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function W2(t,e,n,r){const i=t.resources.length,o=t.random?Math.floor(Math.random()*i):t.index;let a;if(t.random){let x=t.resources.slice(0);for(a=[];x.length>1;){const $=Math.floor(Math.random()*x.length);a.push(x[$]),x=x.slice(0,$).concat(x.slice($+1))}a=a.concat(x)}else a=t.resources.slice(o).concat(t.resources.slice(0,o));const s=Date.now();let c="pending",u=0,l,h=null,f=[],d=[];typeof r=="function"&&d.push(r);function g(){h&&(clearTimeout(h),h=null)}function p(){c==="pending"&&(c="aborted"),g(),f.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),f=[]}function m(x,$){$&&(d=[]),typeof x=="function"&&d.push(x)}function y(){return{startTime:s,payload:e,status:c,queriesSent:u,queriesPending:f.length,subscribe:m,abort:p}}function _(){c="failed",d.forEach(x=>{x(void 0,l)})}function v(){f.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),f=[]}function b(x,$,E){const I=$!=="success";switch(f=f.filter(S=>S!==x),c){case"pending":break;case"failed":if(I||!t.dataAfterTimeout)return;break;default:return}if($==="abort"){l=E,_();return}if(I){l=E,f.length||(a.length?w():_());return}if(g(),v(),!t.random){const S=t.resources.indexOf(x.resource);S!==-1&&S!==t.index&&(t.index=S)}c="completed",d.forEach(S=>{S(E)})}function w(){if(c!=="pending")return;g();const x=a.shift();if(x===void 0){if(f.length){h=setTimeout(()=>{g(),c==="pending"&&(v(),_())},t.timeout);return}_();return}const $={status:"pending",resource:x,callback:(E,I)=>{b($,E,I)}};f.push($),u++,h=setTimeout(w,t.rotate),n(x,e,$.callback)}return setTimeout(w),y}function G0(t){const e={...j2,...t};let n=[];function r(){n=n.filter(s=>s().status==="pending")}function i(s,c,u){const l=W2(e,s,c,(h,f)=>{r(),u&&u(h,f)});return n.push(l),l}function o(s){return n.find(c=>s(c))||null}return{query:i,find:o,setIndex:s=>{e.index=s},getIndex:()=>e.index,cleanup:r}}function Fl(){}const gs=Object.create(null);function X2(t){if(!gs[t]){const e=ou(t);if(!e)return;const n=G0(e),r={config:e,redundancy:n};gs[t]=r}return gs[t]}function K2(t,e,n){let r,i;if(typeof t=="string"){const o=Qs(t);if(!o)return n(void 0,424),Fl;i=o.send;const a=X2(t);a&&(r=a.redundancy)}else{const o=ru(t);if(o){r=G0(o);const a=t.resources?t.resources[0]:"",s=Qs(a);s&&(i=s.send)}}return!r||!i?(n(void 0,424),Fl):r.query(e,i,n)().abort}const Ul="iconify2",li="iconify",H0=li+"-count",Bl=li+"-version",V0=36e5,Z2=168;function Js(t,e){try{return t.getItem(e)}catch{}}function au(t,e,n){try{return t.setItem(e,n),!0}catch{}}function ql(t,e){try{t.removeItem(e)}catch{}}function tc(t,e){return au(t,H0,e.toString())}function ec(t){return parseInt(Js(t,H0))||0}const xa={local:!0,session:!0},j0={local:new Set,session:new Set};let su=!1;function Q2(t){su=t}let Yi=typeof window>"u"?{}:window;function W0(t){const e=t+"Storage";try{if(Yi&&Yi[e]&&typeof Yi[e].length=="number")return Yi[e]}catch{}xa[t]=!1}function X0(t,e){const n=W0(t);if(!n)return;const r=Js(n,Bl);if(r!==Ul){if(r){const s=ec(n);for(let c=0;c<s;c++)ql(n,li+c.toString())}au(n,Bl,Ul),tc(n,0);return}const i=Math.floor(Date.now()/V0)-Z2,o=s=>{const c=li+s.toString(),u=Js(n,c);if(typeof u=="string"){try{const l=JSON.parse(u);if(typeof l=="object"&&typeof l.cached=="number"&&l.cached>i&&typeof l.provider=="string"&&typeof l.data=="object"&&typeof l.data.prefix=="string"&&e(l,s))return!0}catch{}ql(n,c)}};let a=ec(n);for(let s=a-1;s>=0;s--)o(s)||(s===a-1?(a--,tc(n,a)):j0[t].add(s))}function K0(){if(!su){Q2(!0);for(const t in xa)X0(t,e=>{const n=e.data,r=e.provider,i=n.prefix,o=Nn(r,i);if(!nu(o,n).length)return!1;const a=n.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,a):a,!0})}}function J2(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in xa)X0(r,i=>{const o=i.data;return i.provider!==t.provider||o.prefix!==t.prefix||o.lastModified===e});return!0}function ty(t,e){su||K0();function n(r){let i;if(!xa[r]||!(i=W0(r)))return;const o=j0[r];let a;if(o.size)o.delete(a=Array.from(o).shift());else if(a=ec(i),!tc(i,a+1))return;const s={cached:Math.floor(Date.now()/V0),provider:t.provider,data:e};return au(i,li+a.toString(),JSON.stringify(s))}e.lastModified&&!J2(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function Yl(){}function ey(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,Y2(t)}))}function ny(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,i=t.iconsToLoad;delete t.iconsToLoad;let o;if(!i||!(o=Qs(n)))return;o.prepare(n,r,i).forEach(s=>{K2(n,s,c=>{if(typeof c!="object")s.icons.forEach(u=>{t.missing.add(u)});else try{const u=nu(t,c);if(!u.length)return;const l=t.pendingIcons;l&&u.forEach(h=>{l.delete(h)}),ty(t,c)}catch(u){console.error(u)}ey(t)})})}))}const ry=(t,e)=>{const n=V2(t,!0,U0()),r=q2(n);if(!r.pending.length){let c=!0;return e&&setTimeout(()=>{c&&e(r.loaded,r.missing,r.pending,Yl)}),()=>{c=!1}}const i=Object.create(null),o=[];let a,s;return r.pending.forEach(c=>{const{provider:u,prefix:l}=c;if(l===s&&u===a)return;a=u,s=l,o.push(Nn(u,l));const h=i[u]||(i[u]=Object.create(null));h[l]||(h[l]=[])}),r.pending.forEach(c=>{const{provider:u,prefix:l,name:h}=c,f=Nn(u,l),d=f.pendingIcons||(f.pendingIcons=new Set);d.has(h)||(d.add(h),i[u][l].push(h))}),o.forEach(c=>{const{provider:u,prefix:l}=c;i[u][l].length&&ny(c,i[u][l])}),e?H2(e,r,o):Yl};function iy(t,e){const n={...t};for(const r in e){const i=e[r],o=typeof i;r in B0?(i===null||i&&(o==="string"||o==="number"))&&(n[r]=i):o===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const oy=/[\s,]+/;function ay(t,e){e.split(oy).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function sy(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:r(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let o=parseFloat(t.slice(0,t.length-n.length));return isNaN(o)?0:(o=o/i,o%1===0?r(o):0)}}return e}function cy(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function uy(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function ly(t){return"data:image/svg+xml,"+uy(t)}function fy(t){return'url("'+ly(t)+'")'}const Gl={...q0,inline:!1},hy={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},dy={display:"inline-block"},nc={"background-color":"currentColor"},Z0={"background-color":"transparent"},Hl={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Vl={"-webkit-mask":nc,mask:nc,background:Z0};for(const t in Vl){const e=Vl[t];for(const n in Hl)e[t+"-"+n]=Hl[n]}function gy(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}function py(t,e){const n=iy(Gl,e),r=e.mode||"svg",i=r==="svg"?{...hy}:{};t.body.indexOf("xlink:")===-1&&delete i["xmlns:xlink"];let o=typeof e.style=="string"?e.style:"";for(let y in e){const _=e[y];if(_!==void 0)switch(y){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[y]=_===!0||_==="true"||_===1;break;case"flip":typeof _=="string"&&ay(n,_);break;case"color":o=o+(o.length>0&&o.trim().slice(-1)!==";"?";":"")+"color: "+_+"; ";break;case"rotate":typeof _=="string"?n[y]=sy(_):typeof _=="number"&&(n[y]=_);break;case"ariaHidden":case"aria-hidden":_!==!0&&_!=="true"&&delete i["aria-hidden"];break;default:if(y.slice(0,3)==="on:")break;Gl[y]===void 0&&(i[y]=_)}}const a=T2(t,n),s=a.attributes;if(n.inline&&(o="vertical-align: -0.125em; "+o),r==="svg"){Object.assign(i,s),o!==""&&(i.style=o);let y=0,_=e.id;return typeof _=="string"&&(_=_.replace(/-/g,"_")),{svg:!0,attributes:i,body:I2(a.body,_?()=>_+"ID"+y++:"iconifySvelte")}}const{body:c,width:u,height:l}=t,h=r==="mask"||(r==="bg"?!1:c.indexOf("currentColor")!==-1),f=cy(c,{...s,width:u+"",height:l+""}),g={"--svg":fy(f)},p=y=>{const _=s[y];_&&(g[y]=gy(_))};p("width"),p("height"),Object.assign(g,dy,h?nc:Z0);let m="";for(const y in g)m+=y+": "+g[y]+";";return i.style=m+o,{svg:!1,attributes:i}}U0(!0);R2("",B2);if(typeof document<"u"&&typeof window<"u"){K0();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!k2(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;P2(n,i)||console.error(r)}catch{console.error(r)}}}}function my(t,e,n,r,i){function o(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof t=="object"&&t!==null&&typeof t.body=="string")return e.name="",o(),{data:{...wa,...t}};let a;if(typeof t!="string"||(a=va(t,!1,!0))===null)return o(),null;const s=x2(a);if(!s)return n&&(!e.loading||e.loading.name!==t)&&(o(),e.name="",e.loading={name:t,abort:ry([a],r)}),null;o(),e.name!==t&&(e.name=t,i&&!e.destroyed&&i(t));const c=["iconify"];return a.prefix!==""&&c.push("iconify--"+a.prefix),a.provider!==""&&c.push("iconify--"+a.provider),{data:s,classes:c}}function yy(t,e){return t?py({...wa,...t},e):null}function jl(t){let e;function n(o,a){return o[0].svg?by:_y}let r=n(t),i=r(t);return{c(){i.c(),e=Wt()},l(o){i.l(o),e=Wt()},m(o,a){i.m(o,a),X(o,e,a)},p(o,a){r===(r=n(o))&&i?i.p(o,a):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&z(e)}}}function _y(t){let e,n=[t[0].attributes],r={};for(let i=0;i<n.length;i+=1)r=$o(r,n[i]);return{c(){e=Y("span"),this.h()},l(i){e=G(i,"SPAN",{}),W(e).forEach(z),this.h()},h(){Cl(e,r)},m(i,o){X(i,e,o)},p(i,o){Cl(e,r=I0(n,[o&1&&i[0].attributes]))},d(i){i&&z(e)}}}function by(t){let e,n=t[0].body+"",r=[t[0].attributes],i={};for(let o=0;o<r.length;o+=1)i=$o(i,r[o]);return{c(){e=Tm("svg"),this.h()},l(o){e=Am(o,"svg",{});var a=W(e);a.forEach(z),this.h()},h(){Nl(e,i)},m(o,a){X(o,e,a),e.innerHTML=n},p(o,a){a&1&&n!==(n=o[0].body+"")&&(e.innerHTML=n),Nl(e,i=I0(r,[a&1&&o[0].attributes]))},d(o){o&&z(e)}}}function vy(t){let e,n=t[0]&&jl(t);return{c(){n&&n.c(),e=Wt()},l(r){n&&n.l(r),e=Wt()},m(r,i){n&&n.m(r,i),X(r,e,i)},p(r,[i]){r[0]?n?n.p(r,i):(n=jl(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:gt,o:gt,d(r){n&&n.d(r),r&&z(e)}}}function wy(t,e,n){const r={name:"",loading:null,destroyed:!1};let i=!1,o=0,a;const s=u=>{typeof e.onLoad=="function"&&e.onLoad(u),Cm()("load",{icon:u})};function c(){n(3,o++,o)}return ya(()=>{n(2,i=!0)}),Em(()=>{n(1,r.destroyed=!0,r),r.loading&&(r.loading.abort(),n(1,r.loading=null,r))}),t.$$set=u=>{n(6,e=$o($o({},e),Al(u)))},t.$$.update=()=>{{const u=my(e.icon,r,i,c,s);n(0,a=u?yy(u.data,e):null),a&&u.classes&&n(0,a.attributes.class=(typeof e.class=="string"?e.class+" ":"")+u.classes.join(" "),a)}},e=Al(e),[a,r,i,o]}class Ti extends pe{constructor(e){super(),me(this,e,wy,vy,ye,{})}}function Wl(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function Xl(t,e,n){const r=t.slice();return r[22]=e[n][0],r[23]=e[n][1],r[24]=e,r[25]=n,r}function Kl(t,e,n){const r=t.slice();return r[26]=e[n],r}function Zl(t){let e,n,r,i;const o=[My,xy],a=[];function s(c,u){return c[6][c[22]]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=Wt()},l(c){n.l(c),r=Wt()},m(c,u){a[e].m(c,u),X(c,r,u),i=!0},p(c,u){let l=e;e=s(c),e===l?a[e].p(c,u):(ke(),st(a[l],1,1,()=>{a[l]=null}),Se(),n=a[e],n?n.p(c,u):(n=a[e]=o[e](c),n.c()),it(n,1),n.m(r.parentNode,r))},i(c){i||(it(n),i=!0)},o(c){st(n),i=!1},d(c){a[e].d(c),c&&z(r)}}}function xy(t){let e,n=(t[7][t[22]]||t[22]||"").toUpperCase()+"",r,i,o,a,s,c=(t[7][t[22]]||t[22]||"").toLowerCase()+"",u,l,h,f=t[23],d=[];for(let p=0;p<f.length;p+=1)d[p]=Jl(Kl(t,f,p));function g(){t[15].call(o,t[22])}return{c(){e=Y("p"),r=mt(n),i=ut(),o=Y("select"),a=Y("option"),s=mt("Selecionar "),u=mt(c);for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=G(p,"P",{class:!0});var m=W(e);r=yt(m,n),m.forEach(z),i=lt(p),o=G(p,"SELECT",{class:!0});var y=W(o);a=G(y,"OPTION",{});var _=W(a);s=yt(_,"Selecionar "),u=yt(_,c),_.forEach(z);for(let v=0;v<d.length;v+=1)d[v].l(y);y.forEach(z),this.h()},h(){L(e,"class","p-column svelte-o9a4oc"),a.__value="",a.value=a.__value,L(o,"class","svelte-o9a4oc"),t[5][t[22]]===void 0&&Rm(g)},m(p,m){X(p,e,m),F(e,r),X(p,i,m),X(p,o,m),F(o,a),F(a,s),F(a,u);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(o,null);Il(o,t[5][t[22]],!0),l||(h=[fe(o,"change",g),fe(o,"change",t[11])],l=!0)},p(p,m){if(t=p,m&4&&n!==(n=(t[7][t[22]]||t[22]||"").toUpperCase()+"")&&we(r,n),m&4&&c!==(c=(t[7][t[22]]||t[22]||"").toLowerCase()+"")&&we(u,c),m&4){f=t[23];let y;for(y=0;y<f.length;y+=1){const _=Kl(t,f,y);d[y]?d[y].p(_,m):(d[y]=Jl(_),d[y].c(),d[y].m(o,null))}for(;y<d.length;y+=1)d[y].d(1);d.length=f.length}m&36&&Il(o,t[5][t[22]])},i:gt,o:gt,d(p){p&&z(e),p&&z(i),p&&z(o),Cn(d,p),l=!1,Pm(h)}}}function My(t){let e,n,r=(t[7][t[22]]||t[22]||"")+"",i,o,a=t[6][t[22]]+"",s,c,u,l,h,f;u=new Ti({props:{class:"close-icon",icon:"ep:close-bold"}});function d(){return t[14](t[22])}return{c(){e=Y("button"),n=Y("span"),i=mt(r),o=mt(": "),s=mt(a),c=ut(),zt(u.$$.fragment),this.h()},l(g){e=G(g,"BUTTON",{class:!0});var p=W(e);n=G(p,"SPAN",{class:!0});var m=W(n);i=yt(m,r),o=yt(m,": "),s=yt(m,a),m.forEach(z),c=lt(p),Ot(u.$$.fragment,p),p.forEach(z),this.h()},h(){L(n,"class","categoria-seleccionada"),L(e,"class","btn-categoria-seleccionada svelte-o9a4oc")},m(g,p){X(g,e,p),F(e,n),F(n,i),F(n,o),F(n,s),F(e,c),Lt(u,e,null),l=!0,h||(f=fe(e,"click",d),h=!0)},p(g,p){t=g,(!l||p&4)&&r!==(r=(t[7][t[22]]||t[22]||"")+"")&&we(i,r),(!l||p&68)&&a!==(a=t[6][t[22]]+"")&&we(s,a)},i(g){l||(it(u.$$.fragment,g),l=!0)},o(g){st(u.$$.fragment,g),l=!1},d(g){g&&z(e),Ft(u),h=!1,f()}}}function Ql(t){let e,n=t[26]+"",r,i;return{c(){e=Y("option"),r=mt(n),this.h()},l(o){e=G(o,"OPTION",{});var a=W(e);r=yt(a,n),a.forEach(z),this.h()},h(){e.__value=i=t[26],e.value=e.__value},m(o,a){X(o,e,a),F(e,r)},p(o,a){a&4&&n!==(n=o[26]+"")&&we(r,n),a&4&&i!==(i=o[26])&&(e.__value=i,e.value=e.__value)},d(o){o&&z(e)}}}function Jl(t){let e,n=t[26]!=="NA"&&Ql(t);return{c(){n&&n.c(),e=Wt()},l(r){n&&n.l(r),e=Wt()},m(r,i){n&&n.m(r,i),X(r,e,i)},p(r,i){r[26]!=="NA"?n?n.p(r,i):(n=Ql(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&z(e)}}}function tf(t){let e,n,r=t[22]!=="n"&&t[22]!=="obras"&&t[22]!=="fecha"&&t[22]!=="alto"&&t[22]!=="ancho"&&t[22]!=="fuente"&&t[22]!=="descripcion"&&t[22]!=="id"&&t[22]!=="repositorio"&&t[22]!=="src"&&Zl(t);return{c(){r&&r.c(),e=Wt()},l(i){r&&r.l(i),e=Wt()},m(i,o){r&&r.m(i,o),X(i,e,o),n=!0},p(i,o){i[22]!=="n"&&i[22]!=="obras"&&i[22]!=="fecha"&&i[22]!=="alto"&&i[22]!=="ancho"&&i[22]!=="fuente"&&i[22]!=="descripcion"&&i[22]!=="id"&&i[22]!=="repositorio"&&i[22]!=="src"?r?(r.p(i,o),o&4&&it(r,1)):(r=Zl(i),r.c(),it(r,1),r.m(e.parentNode,e)):r&&(ke(),st(r,1,1,()=>{r=null}),Se())},i(i){n||(it(r),n=!0)},o(i){st(r),n=!1},d(i){r&&r.d(i),i&&z(e)}}}function ef(t){let e,n=t[4][t[21]].obras+"",r,i,o,a=t[4][t[21]].autor+"",s,c,u,l=t[4][t[21]].fecha+"",h,f,d=t[4][t[21]].tecnica+"",g,p,m,y,_=t[4][t[21]].fuente+"",v,b,w,x,$,E,I,S,M,N,T,k,A,C;function R(O,Z){return O[1]===O[21]?Sy:ky}let D=R(t),P=D(t);function B(){return t[17](t[21])}let q=t[1]===t[21]&&nf(t);return N=new Ti({props:{icon:"mdi:archive"}}),{c(){e=Y("h6"),r=mt(n),i=ut(),o=Y("h6"),s=mt(a),c=ut(),u=Y("p"),h=mt(l),f=mt(", "),g=mt(d),p=mt(`.\r
                `),m=Y("br"),y=mt(`\r
                Fuente: `),v=mt(_),b=ut(),w=Y("button"),P.c(),x=ut(),$=Y("br"),E=ut(),q&&q.c(),I=ut(),S=Y("button"),M=Y("a"),zt(N.$$.fragment),this.h()},l(O){e=G(O,"H6",{class:!0});var Z=W(e);r=yt(Z,n),Z.forEach(z),i=lt(O),o=G(O,"H6",{class:!0});var ot=W(o);s=yt(ot,a),ot.forEach(z),c=lt(O),u=G(O,"P",{class:!0});var rt=W(u);h=yt(rt,l),f=yt(rt,", "),g=yt(rt,d),p=yt(rt,`.\r
                `),m=G(rt,"BR",{}),y=yt(rt,`\r
                Fuente: `),v=yt(rt,_),rt.forEach(z),b=lt(O),w=G(O,"BUTTON",{class:!0});var Q=W(w);P.l(Q),x=lt(Q),Q.forEach(z),$=G(O,"BR",{}),E=lt(O),q&&q.l(O),I=lt(O),S=G(O,"BUTTON",{class:!0});var j=W(S);M=G(j,"A",{href:!0,target:!0,class:!0});var pt=W(M);Ot(N.$$.fragment,pt),pt.forEach(z),j.forEach(z),this.h()},h(){L(e,"class","svelte-o9a4oc"),L(o,"class","svelte-o9a4oc"),L(u,"class","svelte-o9a4oc"),L(w,"class","svelte-o9a4oc"),L(M,"href",T=t[4][t[21]].repositorio),L(M,"target","_blank"),L(M,"class","svelte-o9a4oc"),L(S,"class","svelte-o9a4oc")},m(O,Z){X(O,e,Z),F(e,r),X(O,i,Z),X(O,o,Z),F(o,s),X(O,c,Z),X(O,u,Z),F(u,h),F(u,f),F(u,g),F(u,p),F(u,m),F(u,y),F(u,v),X(O,b,Z),X(O,w,Z),P.m(w,null),F(w,x),X(O,$,Z),X(O,E,Z),q&&q.m(O,Z),X(O,I,Z),X(O,S,Z),F(S,M),Lt(N,M,null),k=!0,A||(C=fe(w,"click",B),A=!0)},p(O,Z){t=O,(!k||Z&16)&&n!==(n=t[4][t[21]].obras+"")&&we(r,n),(!k||Z&16)&&a!==(a=t[4][t[21]].autor+"")&&we(s,a),(!k||Z&16)&&l!==(l=t[4][t[21]].fecha+"")&&we(h,l),(!k||Z&16)&&d!==(d=t[4][t[21]].tecnica+"")&&we(g,d),(!k||Z&16)&&_!==(_=t[4][t[21]].fuente+"")&&we(v,_),D!==(D=R(t))&&(P.d(1),P=D(t),P&&(P.c(),P.m(w,x))),t[1]===t[21]?q?q.p(t,Z):(q=nf(t),q.c(),q.m(I.parentNode,I)):q&&(q.d(1),q=null),(!k||Z&16&&T!==(T=t[4][t[21]].repositorio))&&L(M,"href",T)},i(O){k||(it(N.$$.fragment,O),k=!0)},o(O){st(N.$$.fragment,O),k=!1},d(O){O&&z(e),O&&z(i),O&&z(o),O&&z(c),O&&z(u),O&&z(b),O&&z(w),P.d(),O&&z($),O&&z(E),q&&q.d(O),O&&z(I),O&&z(S),Ft(N),A=!1,C()}}}function ky(t){let e;return{c(){e=mt("Descripción")},l(n){e=yt(n,"Descripción")},m(n,r){X(n,e,r)},d(n){n&&z(e)}}}function Sy(t){let e;return{c(){e=mt("Ocultar descripción")},l(n){e=yt(n,"Ocultar descripción")},m(n,r){X(n,e,r)},d(n){n&&z(e)}}}function nf(t){let e,n=t[4][t[21]].descripcion+"",r;return{c(){e=Y("p"),r=mt(n),this.h()},l(i){e=G(i,"P",{class:!0});var o=W(e);r=yt(o,n),o.forEach(z),this.h()},h(){L(e,"class","descripcion svelte-o9a4oc")},m(i,o){X(i,e,o),F(e,r)},p(i,o){o&16&&n!==(n=i[4][i[21]].descripcion+"")&&we(r,n)},d(i){i&&z(e)}}}function rf(t){let e,n,r,i,o,a,s,c,u;function l(){return t[16](t[19],t[21])}let h=t[4][t[21]]&&ef(t);return{c(){e=Y("div"),n=Y("div"),r=Y("img"),o=ut(),h&&h.c(),a=ut(),this.h()},l(f){e=G(f,"DIV",{class:!0});var d=W(e);n=G(d,"DIV",{class:!0});var g=W(n);r=G(g,"IMG",{src:!0,alt:!0,width:!0,class:!0}),o=lt(g),h&&h.l(g),g.forEach(z),a=lt(d),d.forEach(z),this.h()},h(){fn(r.src,i=t[19])||L(r,"src",i),L(r,"alt",""),L(r,"width","100%"),L(r,"class","svelte-o9a4oc"),L(n,"class","content svelte-o9a4oc"),L(e,"class","column svelte-o9a4oc")},m(f,d){X(f,e,d),F(e,n),F(n,r),F(n,o),h&&h.m(n,null),F(e,a),s=!0,c||(u=fe(r,"click",l),c=!0)},p(f,d){t=f,(!s||d&8&&!fn(r.src,i=t[19]))&&L(r,"src",i),t[4][t[21]]?h?(h.p(t,d),d&16&&it(h,1)):(h=ef(t),h.c(),it(h,1),h.m(n,null)):h&&(ke(),st(h,1,1,()=>{h=null}),Se())},i(f){s||(it(h),s=!0)},o(f){st(h),s=!1},d(f){f&&z(e),h&&h.d(),c=!1,u()}}}function of(t){let e,n,r,i,o,a;return{c(){e=Y("div"),n=Y("div"),r=Y("img"),this.h()},l(s){e=G(s,"DIV",{class:!0});var c=W(e);n=G(c,"DIV",{class:!0});var u=W(n);r=G(u,"IMG",{src:!0,alt:!0,class:!0}),u.forEach(z),c.forEach(z),this.h()},h(){fn(r.src,i=t[0])||L(r,"src",i),L(r,"alt",""),L(r,"class","enlarged-image svelte-o9a4oc"),L(n,"class","zoom-container svelte-o9a4oc"),L(e,"class","fullscreen-image svelte-o9a4oc")},m(s,c){X(s,e,c),F(e,n),F(n,r),o||(a=fe(e,"click",t[9]),o=!0)},p(s,c){c&1&&!fn(r.src,i=s[0])&&L(r,"src",i)},d(s){s&&z(e),o=!1,a()}}}function $y(t){let e,n,r,i,o,a,s,c,u,l,h,f,d,g,p,m,y,_,v,b=Object.entries(t[2]),w=[];for(let M=0;M<b.length;M+=1)w[M]=tf(Xl(t,b,M));const x=M=>st(w[M],1,1,()=>{w[M]=null});let $=t[3],E=[];for(let M=0;M<$.length;M+=1)E[M]=rf(Wl(t,$,M));const I=M=>st(E[M],1,1,()=>{E[M]=null});let S=t[0]&&of(t);return{c(){e=Y("div"),n=mt("GALERÍA DE LAS IMÁGENES DEL CARGUERO"),r=ut(),i=Y("div"),o=Y("div"),a=Y("div"),s=Y("h6"),c=mt("Filtrar imágenes"),u=ut(),l=Y("button"),h=mt("Restablecer filtros"),f=ut();for(let M=0;M<w.length;M+=1)w[M].c();d=ut(),g=Y("div");for(let M=0;M<E.length;M+=1)E[M].c();p=ut(),S&&S.c(),m=Wt(),this.h()},l(M){e=G(M,"DIV",{class:!0});var N=W(e);n=yt(N,"GALERÍA DE LAS IMÁGENES DEL CARGUERO"),N.forEach(z),r=lt(M),i=G(M,"DIV",{class:!0});var T=W(i);o=G(T,"DIV",{class:!0});var k=W(o);a=G(k,"DIV",{class:!0});var A=W(a);s=G(A,"H6",{class:!0});var C=W(s);c=yt(C,"Filtrar imágenes"),C.forEach(z),A.forEach(z),u=lt(k),l=G(k,"BUTTON",{class:!0});var R=W(l);h=yt(R,"Restablecer filtros"),R.forEach(z),f=lt(k);for(let P=0;P<w.length;P+=1)w[P].l(k);k.forEach(z),d=lt(T),g=G(T,"DIV",{class:!0});var D=W(g);for(let P=0;P<E.length;P+=1)E[P].l(D);D.forEach(z),T.forEach(z),p=lt(M),S&&S.l(M),m=Wt(),this.h()},h(){L(e,"class","titulo svelte-o9a4oc"),L(s,"class","svelte-o9a4oc"),L(a,"class","titulo-filtrar svelte-o9a4oc"),L(l,"class","boton-restablecer svelte-o9a4oc"),L(o,"class","filter-container svelte-o9a4oc"),L(g,"class","row svelte-o9a4oc"),L(i,"class","contenedor-galeria svelte-o9a4oc")},m(M,N){X(M,e,N),F(e,n),X(M,r,N),X(M,i,N),F(i,o),F(o,a),F(a,s),F(s,c),F(o,u),F(o,l),F(l,h),F(o,f);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(o,null);F(i,d),F(i,g);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(g,null);X(M,p,N),S&&S.m(M,N),X(M,m,N),y=!0,_||(v=fe(l,"click",t[12]),_=!0)},p(M,[N]){if(N&2276){b=Object.entries(M[2]);let T;for(T=0;T<b.length;T+=1){const k=Xl(M,b,T);w[T]?(w[T].p(k,N),it(w[T],1)):(w[T]=tf(k),w[T].c(),it(w[T],1),w[T].m(o,null))}for(ke(),T=b.length;T<w.length;T+=1)x(T);Se()}if(N&1306){$=M[3];let T;for(T=0;T<$.length;T+=1){const k=Wl(M,$,T);E[T]?(E[T].p(k,N),it(E[T],1)):(E[T]=rf(k),E[T].c(),it(E[T],1),E[T].m(g,null))}for(ke(),T=$.length;T<E.length;T+=1)I(T);Se()}M[0]?S?S.p(M,N):(S=of(M),S.c(),S.m(m.parentNode,m)):S&&(S.d(1),S=null)},i(M){if(!y){for(let N=0;N<b.length;N+=1)it(w[N]);for(let N=0;N<$.length;N+=1)it(E[N]);y=!0}},o(M){w=w.filter(Boolean);for(let N=0;N<w.length;N+=1)st(w[N]);E=E.filter(Boolean);for(let N=0;N<E.length;N+=1)st(E[N]);y=!1},d(M){M&&z(e),M&&z(r),M&&z(i),Cn(w,M),Cn(E,M),M&&z(p),S&&S.d(M),M&&z(m),_=!1,v()}}}function Ey(t,e,n){let{data:r}=e,i=null,o=null,a={},s=[],c=[],u={},l={},h={autor:"Autor",medio:"Medio",tecnica:"Técnica",material:"Material",periodo:"Periodo",region:"Región",pais:"País",camino:"Camino",modelo:"Modelo usado",procedencia:"Procedencia del autor",atributoCarguero:"Atributo del carguero",accionCarguero:"Acción del carguero",atributoCargado:"Atributo del cargado",numeroCargueros:"Número de cargueros",direccionMiradaCarguero:"Dirección de la mirada del carguero",direccionMiradaCargado:"Dirección de la mirada del cargado",direccionCargado:"Dirección del cargado",generoCargado:"Género del cargado","figura/fondo":"Relación figura-fondo",genero:"Género de la imagen",soporte:"Soporte de la imagen",otros:"Todas las imágenes o solo los cargueros"};function f(x,$){n(0,i=x),n(1,o=$)}function d(){n(0,i=null),n(1,o=null)}function g(x){o===x?n(1,o=null):n(1,o=x)}function p(){let x=r;for(const $ in u)u[$]!==""?(x=x.filter(E=>E[$]===u[$]),n(6,l[$]=u[$],l)):n(6,l[$]="",l);n(4,c=x),m()}function m(){n(3,s=c.map(x=>`assets/imgs/${x.src}`))}function y(){for(const x in u)n(5,u[x]="",u);p()}ya(()=>{for(const x in r[0])["n","obras","fecha","alto","ancho","fuente","descripcion","id","repositorio","src"].includes(x)||(n(2,a[x]=Array.from(new Set(r.map($=>$[x]))),a),n(5,u[x]="",u));p()}),Nm(()=>{p()});const _=x=>{n(5,u[x]="",u),p()};function v(x){u[x]=Im(this),n(5,u),n(2,a)}const b=(x,$)=>f(x,$),w=x=>g(x);return t.$$set=x=>{"data"in x&&n(13,r=x.data)},[i,o,a,s,c,u,l,h,f,d,g,p,y,r,_,v,b,w]}class Q0 extends pe{constructor(e){super(),me(this,e,Ey,$y,ye,{data:13})}}function af(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function sf(t){let e,n,r,i,o=t[4].seccion+"",a,s,c;function u(){return t[3](t[6])}return{c(){e=Y("nav"),n=Y("ul"),r=Y("li"),i=Y("h3"),a=mt(o),this.h()},l(l){e=G(l,"NAV",{class:!0});var h=W(e);n=G(h,"UL",{class:!0});var f=W(n);r=G(f,"LI",{class:!0});var d=W(r);i=G(d,"H3",{class:!0});var g=W(i);a=yt(g,o),g.forEach(z),d.forEach(z),f.forEach(z),h.forEach(z),this.h()},h(){L(i,"class","menu svelte-13r98vm"),L(r,"class","svelte-13r98vm"),L(n,"class","svelte-13r98vm"),L(e,"class","svelte-13r98vm")},m(l,h){X(l,e,h),F(e,n),F(n,r),F(r,i),F(i,a),s||(c=fe(i,"click",u),s=!0)},p(l,h){t=l,h&1&&o!==(o=t[4].seccion+"")&&we(a,o)},d(l){l&&z(e),s=!1,c()}}}function Ty(t){let e,n=t[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=sf(af(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Wt()},l(i){for(let o=0;o<r.length;o+=1)r[o].l(i);e=Wt()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);X(i,e,o)},p(i,[o]){if(o&3){n=i[0];let a;for(a=0;a<n.length;a+=1){const s=af(i,n,a);r[a]?r[a].p(s,o):(r[a]=sf(s),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:gt,o:gt,d(i){Cn(r,i),i&&z(e)}}}function Ay(t,e,n){let{secciones:r}=e,{pagina:i}=e;function o(s){n(2,i=s)}const a=s=>o(s);return t.$$set=s=>{"secciones"in s&&n(0,r=s.secciones),"pagina"in s&&n(2,i=s.pagina)},[r,o,i,a]}class Cy extends pe{constructor(e){super(),me(this,e,Ay,Ty,ye,{secciones:0,pagina:2})}}class Ny extends pe{constructor(e){super(),me(this,e,null,null,ye,{})}}class Iy extends pe{constructor(e){super(),me(this,e,null,null,ye,{})}}function Ry(t){let e,n,r,i,o,a,s,c,u,l,h,f,d,g,p,m,y;return{c(){e=Y("div"),n=Y("h1"),r=mt("Sobre el Atlas interactivo de las imágenes del Carguero"),i=ut(),o=Y("p"),a=Y("em"),s=mt("El Atlas interactivo de las imágenes del carguero"),c=mt(' es un producto digital derivado de la investigación titulada "Se dice andar sobre hombres como sobre caballos. Imágenes de cargueros de hombres en el siglo XIX (1801-1853)". Esta herramienta, implementada como una página web, tiene como principal objetivo servir de interfaz de usuario para explorar los datos obtenidos durante la investigación con diversas opciones de interactividad e hipertextualidad.'),u=ut(),l=Y("p"),h=mt('El sitio cuenta con varias secciones que facilitan la navegación y el acceso a la información. En la sección de "Teoría", se presentan de manera concisa las herramientas teóricas empleadas en la tesis (Por hacer). La sección de "Antecedentes" sintetiza las investigaciones que influyeron en el desarrollo del proyecto (Por hacer).'),f=ut(),d=Y("p"),g=mt('La "Galería" es una sección destacada que permite visualizar todas las imágenes relacionadas con la investigación. Estas imágenes se pueden filtrar mediante categorías que se han diseñado con base en las preguntas planteadas en el proyecto (Primera versión).'),p=ut(),m=Y("p"),y=mt('La sección de "Paneles" presenta narrativas interactivas que resumen los resultados del análisis de las imágenes. En este espacio, los usuarios pueden explorar el argumento de manera no lineal, interactuando con las imágenes al hacer clic en áreas específicas de la pantalla y siguiendo diferentes opciones de contenido que conducen a otros paneles. Además, se proporcionan enlaces a repositorios donde las imágenes se almacenan originalmente, así como a literatura secundaria relacionada (En construcción).'),this.h()},l(_){e=G(_,"DIV",{class:!0});var v=W(e);n=G(v,"H1",{class:!0});var b=W(n);r=yt(b,"Sobre el Atlas interactivo de las imágenes del Carguero"),b.forEach(z),i=lt(v),o=G(v,"P",{class:!0});var w=W(o);a=G(w,"EM",{});var x=W(a);s=yt(x,"El Atlas interactivo de las imágenes del carguero"),x.forEach(z),c=yt(w,' es un producto digital derivado de la investigación titulada "Se dice andar sobre hombres como sobre caballos. Imágenes de cargueros de hombres en el siglo XIX (1801-1853)". Esta herramienta, implementada como una página web, tiene como principal objetivo servir de interfaz de usuario para explorar los datos obtenidos durante la investigación con diversas opciones de interactividad e hipertextualidad.'),w.forEach(z),u=lt(v),l=G(v,"P",{class:!0});var $=W(l);h=yt($,'El sitio cuenta con varias secciones que facilitan la navegación y el acceso a la información. En la sección de "Teoría", se presentan de manera concisa las herramientas teóricas empleadas en la tesis (Por hacer). La sección de "Antecedentes" sintetiza las investigaciones que influyeron en el desarrollo del proyecto (Por hacer).'),$.forEach(z),f=lt(v),d=G(v,"P",{class:!0});var E=W(d);g=yt(E,'La "Galería" es una sección destacada que permite visualizar todas las imágenes relacionadas con la investigación. Estas imágenes se pueden filtrar mediante categorías que se han diseñado con base en las preguntas planteadas en el proyecto (Primera versión).'),E.forEach(z),p=lt(v),m=G(v,"P",{class:!0});var I=W(m);y=yt(I,'La sección de "Paneles" presenta narrativas interactivas que resumen los resultados del análisis de las imágenes. En este espacio, los usuarios pueden explorar el argumento de manera no lineal, interactuando con las imágenes al hacer clic en áreas específicas de la pantalla y siguiendo diferentes opciones de contenido que conducen a otros paneles. Además, se proporcionan enlaces a repositorios donde las imágenes se almacenan originalmente, así como a literatura secundaria relacionada (En construcción).'),I.forEach(z),v.forEach(z),this.h()},h(){L(n,"class","svelte-4wpb1i"),L(o,"class","svelte-4wpb1i"),L(l,"class","svelte-4wpb1i"),L(d,"class","svelte-4wpb1i"),L(m,"class","svelte-4wpb1i"),L(e,"class","container svelte-4wpb1i")},m(_,v){X(_,e,v),F(e,n),F(n,r),F(e,i),F(e,o),F(o,a),F(a,s),F(o,c),F(e,u),F(e,l),F(l,h),F(e,f),F(e,d),F(d,g),F(e,p),F(e,m),F(m,y)},p:gt,i:gt,o:gt,d(_){_&&z(e)}}}class J0 extends pe{constructor(e){super(),me(this,e,null,Ry,ye,{})}}function $t(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function td(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ma(t){let e,n,r;t.length!==2?(e=$t,n=(s,c)=>$t(t(s),c),r=(s,c)=>t(s)-c):(e=t===$t||t===td?t:Py,n=t,r=t);function i(s,c,u=0,l=s.length){if(u<l){if(e(c,c)!==0)return l;do{const h=u+l>>>1;n(s[h],c)<0?u=h+1:l=h}while(u<l)}return u}function o(s,c,u=0,l=s.length){if(u<l){if(e(c,c)!==0)return l;do{const h=u+l>>>1;n(s[h],c)<=0?u=h+1:l=h}while(u<l)}return u}function a(s,c,u=0,l=s.length){const h=i(s,c,u,l-1);return h>u&&r(s[h-1],c)>-r(s[h],c)?h-1:h}return{left:i,center:a,right:o}}function Py(){return 0}function ed(t){return t===null?NaN:+t}function*nd(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const rd=Ma($t),id=rd.right,Dy=rd.left,zy=Ma(ed).center,Hn=id;function Oy(t,e){if(!((e=+e)>=0))throw new RangeError("invalid r");let n=t.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!e)return t;const r=cu(e),i=t.slice();return r(t,i,0,n,1),r(i,t,0,n,1),r(t,i,0,n,1),t}const od=ad(cu),Ly=ad(Fy);function ad(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!n&&!r)return e;const s=n&&t(n),c=r&&t(r),u=i.slice();return s&&c?(Kn(s,u,i,o,a),Kn(s,i,u,o,a),Kn(s,u,i,o,a),Zn(c,i,u,o,a),Zn(c,u,i,o,a),Zn(c,i,u,o,a)):s?(Kn(s,i,u,o,a),Kn(s,u,i,o,a),Kn(s,i,u,o,a)):c&&(Zn(c,i,u,o,a),Zn(c,u,i,o,a),Zn(c,i,u,o,a)),e}}function Kn(t,e,n,r,i){for(let o=0,a=r*i;o<a;)t(e,n,o,o+=r,1)}function Zn(t,e,n,r,i){for(let o=0,a=r*i;o<r;++o)t(e,n,o,o+a,r)}function Fy(t){const e=cu(t);return(n,r,i,o,a)=>{i<<=2,o<<=2,a<<=2,e(n,r,i+0,o+0,a),e(n,r,i+1,o+1,a),e(n,r,i+2,o+2,a),e(n,r,i+3,o+3,a)}}function cu(t){const e=Math.floor(t);if(e===t)return Uy(t);const n=t-e,r=2*t+1;return(i,o,a,s,c)=>{if(!((s-=c)>=a))return;let u=e*o[a];const l=c*e,h=l+c;for(let f=a,d=a+l;f<d;f+=c)u+=o[Math.min(s,f)];for(let f=a,d=s;f<=d;f+=c)u+=o[Math.min(s,f+l)],i[f]=(u+n*(o[Math.max(a,f-h)]+o[Math.min(s,f+h)]))/r,u-=o[Math.max(a,f-l)]}}function Uy(t){const e=2*t+1;return(n,r,i,o,a)=>{if(!((o-=a)>=i))return;let s=t*r[i];const c=a*t;for(let u=i,l=i+c;u<l;u+=a)s+=r[Math.min(o,u)];for(let u=i,l=o;u<=l;u+=a)s+=r[Math.min(o,u+c)],n[u]=s/e,s-=r[Math.max(i,u-c)]}}function ka(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&++n}return n}function By(t){return t.length|0}function qy(t){return!(t>0)}function Yy(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Gy(t){return e=>t(...e)}function Hy(...t){const e=typeof t[t.length-1]=="function"&&Gy(t.pop());t=t.map(Yy);const n=t.map(By),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(qy))return o;for(;;){o.push(i.map((s,c)=>t[c][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?o.map(e):o;i[a--]=0}}}function Vy(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function sd(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of t)(s=e(s,++a,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function cd(t,e){const n=sd(t,e);return n&&Math.sqrt(n)}function ri(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class It{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,s=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);s&&(n[r++]=s),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}function jy(t,e){const n=new It;if(e===void 0)for(let r of t)(r=+r)&&n.add(r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&n.add(i)}return+n}function Wy(t,e){const n=new It;let r=-1;return Float64Array.from(t,e===void 0?i=>n.add(+i||0):i=>n.add(+e(i,++r,t)||0))}class fi extends Map{constructor(e,n=fd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rc(this,e))}has(e){return super.has(rc(this,e))}set(e,n){return super.set(ud(this,e),n)}delete(e){return super.delete(ld(this,e))}}class In extends Set{constructor(e,n=fd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(rc(this,e))}add(e){return super.add(ud(this,e))}delete(e){return super.delete(ld(this,e))}}function rc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ud({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ld({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gr(t){return t}function hd(t,...e){return Cr(t,gr,gr,e)}function dd(t,...e){return Cr(t,Array.from,gr,e)}function gd(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap(i=>i.pop().map(([o,a])=>[...i,o,a]));return t}function Xy(t,...e){return gd(dd(t,...e),e)}function Ky(t,e,...n){return gd(pd(t,e,...n),n)}function uu(t,e,...n){return Cr(t,gr,e,n)}function pd(t,e,...n){return Cr(t,Array.from,e,n)}function Zy(t,...e){return Cr(t,gr,md,e)}function Qy(t,...e){return Cr(t,Array.from,md,e)}function md(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function Cr(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new fi,c=r[a++];let u=-1;for(const l of o){const h=c(l,++u,o),f=s.get(h);f?f.push(l):s.set(h,[l])}for(const[l,h]of s)s.set(l,i(h,a));return e(s)}(t,0)}function yd(t,e){return Array.from(e,n=>t[n])}function ic(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of e){const s=pr(a[i],a[o]);if(s)return s}})):(n=t.map(n),r.sort((i,o)=>pr(n[i],n[o]))),yd(t,r)}return t.sort(lu(n))}function lu(t=$t){if(t===$t)return pr;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function pr(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Jy(t,e,n){return(e.length!==2?ic(uu(t,e,n),([r,i],[o,a])=>$t(i,a)||$t(r,o)):ic(hd(t,n),([r,i],[o,a])=>e(i,a)||$t(r,o))).map(([r])=>r)}var t_=Array.prototype,e_=t_.slice;function ps(t){return()=>t}const n_=Math.sqrt(50),r_=Math.sqrt(10),i_=Math.sqrt(2);function To(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=n_?10:o>=r_?5:o>=i_?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),c=Math.round(e*u),s/u<t&&++s,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),c=Math.round(e/u),s*u<t&&++s,c*u>e&&--c),c<s&&.5<=n&&n<2?To(t,e,n*2):[s,c,u]}function Rn(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?To(e,t,n):To(t,e,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)c[u]=(o-u)/-a;else for(let u=0;u<s;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)c[u]=(i+u)/-a;else for(let u=0;u<s;++u)c[u]=(i+u)*a;return c}function Pn(t,e,n){return e=+e,t=+t,n=+n,To(t,e,n)[2]}function Ao(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Pn(e,t,n):Pn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fu(t,e,n){let r;for(;;){const i=Pn(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function hu(t){return Math.max(1,Math.ceil(Math.log(ka(t))/Math.LN2)+1)}function cf(){var t=gr,e=ri,n=hu;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,c,u=new Array(a);for(o=0;o<a;++o)u[o]=t(i[o],o,i);var l=e(u),h=l[0],f=l[1],d=n(u,h,f);if(!Array.isArray(d)){const v=f,b=+d;if(e===ri&&([h,f]=fu(h,f,b)),d=Rn(h,f,b),d[0]<=h&&(c=Pn(h,f,b)),d[d.length-1]>=f)if(v>=f&&e===ri){const w=Pn(h,f,b);isFinite(w)&&(w>0?f=(Math.floor(f/w)+1)*w:w<0&&(f=(Math.ceil(f*-w)+1)/-w))}else d.pop()}for(var g=d.length,p=0,m=g;d[p]<=h;)++p;for(;d[m-1]>f;)--m;(p||m<g)&&(d=d.slice(p,m),g=m-p);var y=new Array(g+1),_;for(o=0;o<=g;++o)_=y[o]=[],_.x0=o>0?d[o-1]:h,_.x1=o<g?d[o]:f;if(isFinite(c)){if(c>0)for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&y[Math.min(g,Math.floor((s-h)/c))].push(i[o]);else if(c<0){for(o=0;o<a;++o)if((s=u[o])!=null&&h<=s&&s<=f){const v=Math.floor((h-s)*c);y[Math.min(g,v+(d[v]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&y[Hn(d,s,0,g)].push(i[o]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:ps(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:ps([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:ps(Array.isArray(i)?e_.call(i):i),r):n},r}function hi(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function du(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Co(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function gu(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Sa(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?pr:lu(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,l=Math.log(c),h=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*h*(c-h)/c)*(u-c/2<0?-1:1),d=Math.max(n,Math.floor(e-u*h/c+f)),g=Math.min(r,Math.floor(e+(c-u)*h/c+f));Sa(t,e,d,g,i)}const o=t[e];let a=n,s=r;for(Or(t,n,e),i(t[r],o)>0&&Or(t,n,r);a<s;){for(Or(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Or(t,n,s):(++s,Or(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Or(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _d(t,e=$t){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?$t(a,i)>0:$t(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function di(t,e,n){if(t=Float64Array.from(nd(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Co(t);if(e>=1)return hi(t);var r,i=(r-1)*e,o=Math.floor(i),a=hi(Sa(t,o).subarray(0,o+1)),s=Co(t.subarray(o+1));return a+(s-a)*(i-o)}}function bd(t,e,n=ed){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function vd(t,e,n){if(t=Float64Array.from(nd(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return gu(t);if(e>=1)return du(t);var r,i=Math.floor((r-1)*e),o=(s,c)=>pr(t[s],t[c]),a=Sa(Uint32Array.from(t,(s,c)=>c),i,0,r-1,o);return _d(a.subarray(0,i+1),s=>t[s])}}function o_(t,e,n){const r=ka(t),i=di(t,.75)-di(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function a_(t,e,n){const r=ka(t),i=cd(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function s_(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function c_(t,e){return di(t,.5,e)}function u_(t,e){return vd(t,.5,e)}function*l_(t){for(const e of t)yield*e}function pu(t){return Array.from(l_(t))}function f_(t,e){const n=new fi;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function h_(t,e=d_){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function d_(t,e){return[t,e]}function cn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function g_(t,e=$t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t);const r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=$t);const i=(s,c)=>e(n[s],n[c]);let o,a;return t=Uint32Array.from(n,(s,c)=>c),t.sort(e===$t?(s,c)=>pr(n[s],n[c]):lu(i)),t.forEach((s,c)=>{const u=i(s,o===void 0?s:o);u>=0?((o===void 0||u>0)&&(o=s,a=c),r[s]=a):r[s]=NaN}),r}function p_(t,e=$t){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?$t(a,i)<0:$t(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)<0:e(i,i)===0)&&(n=i,r=!0);return n}function wd(t,e=$t){if(e.length===1)return gu(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?e(o,o)===0:e(o,n)<0)&&(n=o,r=i);return r}function m_(t,e=$t){if(e.length===1)return du(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?e(o,o)===0:e(o,n)>0)&&(n=o,r=i);return r}function y_(t,e){const n=wd(t,e);return n<0?void 0:n}const __=xd(Math.random);function xd(t){return function(n,r=0,i=n.length){let o=i-(r=+r);for(;o;){const a=t()*o--|0,s=n[o+r];n[o+r]=n[a+r],n[a+r]=s}return n}}function b_(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Md(t){if(!(o=t.length))return[];for(var e=-1,n=Co(t,v_),r=new Array(n);++e<n;)for(var i=-1,o,a=r[e]=new Array(o);++i<o;)a[i]=t[i][e];return r}function v_(t){return t.length}function w_(){return Md(arguments)}function x_(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function M_(t,e){if(typeof e!="function")throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function k_(t,e){if(typeof e!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of t)e(i,++r,t)&&n.push(i);return n}function S_(t,e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(t,(n,r)=>e(n,r,t))}function $_(t,e,n){if(typeof e!="function")throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++a}for(;{done:i,value:o}=r.next(),!i;)n=e(n,o,++a,t);return n}function E_(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function T_(t,...e){t=new In(t);for(const n of e)for(const r of n)t.delete(r);return t}function A_(t,e){const n=e[Symbol.iterator](),r=new In;for(const i of t){if(r.has(i))return!1;let o,a;for(;({value:o,done:a}=n.next())&&!a;){if(Object.is(i,o))return!1;r.add(o)}}return!0}function C_(t,...e){t=new In(t),e=e.map(N_);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function N_(t){return t instanceof In?t:new In(t)}function kd(t,e){const n=t[Symbol.iterator](),r=new Set;for(const i of e){const o=uf(i);if(r.has(o))continue;let a,s;for(;{value:a,done:s}=n.next();){if(s)return!1;const c=uf(a);if(r.add(c),Object.is(o,c))break}}return!0}function uf(t){return t!==null&&typeof t=="object"?t.valueOf():t}function I_(t,e){return kd(e,t)}function R_(...t){const e=new In;for(const n of t)for(const r of n)e.add(r);return e}function P_(t){return t}var go=1,po=2,oc=3,Gr=4,lf=1e-6;function D_(t){return"translate("+t+",0)"}function z_(t){return"translate(0,"+t+")"}function O_(t){return e=>+t(e)}function L_(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function F_(){return!this.__axis}function $a(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===go||t===Gr?-1:1,l=t===Gr||t===po?"x":"y",h=t===go||t===oc?D_:z_;function f(d){var g=r??(e.ticks?e.ticks.apply(e,n):e.domain()),p=i??(e.tickFormat?e.tickFormat.apply(e,n):P_),m=Math.max(o,0)+s,y=e.range(),_=+y[0]+c,v=+y[y.length-1]+c,b=(e.bandwidth?L_:O_)(e.copy(),c),w=d.selection?d.selection():d,x=w.selectAll(".domain").data([null]),$=w.selectAll(".tick").data(g,e).order(),E=$.exit(),I=$.enter().append("g").attr("class","tick"),S=$.select("line"),M=$.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(I),S=S.merge(I.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),M=M.merge(I.append("text").attr("fill","currentColor").attr(l,u*m).attr("dy",t===go?"0em":t===oc?"0.71em":"0.32em")),d!==w&&(x=x.transition(d),$=$.transition(d),S=S.transition(d),M=M.transition(d),E=E.transition(d).attr("opacity",lf).attr("transform",function(N){return isFinite(N=b(N))?h(N+c):this.getAttribute("transform")}),I.attr("opacity",lf).attr("transform",function(N){var T=this.parentNode.__axis;return h((T&&isFinite(T=T(N))?T:b(N))+c)})),E.remove(),x.attr("d",t===Gr||t===po?a?"M"+u*a+","+_+"H"+c+"V"+v+"H"+u*a:"M"+c+","+_+"V"+v:a?"M"+_+","+u*a+"V"+c+"H"+v+"V"+u*a:"M"+_+","+c+"H"+v),$.attr("opacity",1).attr("transform",function(N){return h(b(N)+c)}),S.attr(l+"2",u*o),M.attr(l,u*m).text(p),w.filter(F_).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===po?"start":t===Gr?"end":"middle"),w.each(function(){this.__axis=b})}return f.scale=function(d){return arguments.length?(e=d,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(o=a=+d,f):o},f.tickSizeInner=function(d){return arguments.length?(o=+d,f):o},f.tickSizeOuter=function(d){return arguments.length?(a=+d,f):a},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(c=+d,f):c},f}function U_(t){return $a(go,t)}function B_(t){return $a(po,t)}function q_(t){return $a(oc,t)}function Y_(t){return $a(Gr,t)}var G_={value:()=>{}};function Vn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mo(n)}function mo(t){this._=t}function H_(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mo.prototype=Vn.prototype={constructor:mo,on:function(t,e){var n=this._,r=H_(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=V_(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=ff(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ff(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new mo(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function V_(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ff(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=G_,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ac="http://www.w3.org/1999/xhtml";const sc={svg:"http://www.w3.org/2000/svg",xhtml:ac,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ai(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),sc.hasOwnProperty(e)?{space:sc[e],local:t}:t}function j_(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ac&&e.documentElement.namespaceURI===ac?e.createElement(t):e.createElementNS(n,t)}}function W_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ea(t){var e=Ai(t);return(e.local?W_:j_)(e)}function X_(){}function Ta(t){return t==null?X_:function(){return this.querySelector(t)}}function K_(t){typeof t!="function"&&(t=Ta(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),c,u,l=0;l<a;++l)(c=o[l])&&(u=t.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),s[l]=u);return new re(r,this._parents)}function Sd(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Z_(){return[]}function mu(t){return t==null?Z_:function(){return this.querySelectorAll(t)}}function Q_(t){return function(){return Sd(t.apply(this,arguments))}}function J_(t){typeof t=="function"?t=Q_(t):t=mu(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&(r.push(t.call(c,c.__data__,u,a)),i.push(c));return new re(r,i)}function yu(t){return function(){return this.matches(t)}}function $d(t){return function(e){return e.matches(t)}}var tb=Array.prototype.find;function eb(t){return function(){return tb.call(this.children,t)}}function nb(){return this.firstElementChild}function rb(t){return this.select(t==null?nb:eb(typeof t=="function"?t:$d(t)))}var ib=Array.prototype.filter;function ob(){return Array.from(this.children)}function ab(t){return function(){return ib.call(this.children,t)}}function sb(t){return this.selectAll(t==null?ob:ab(typeof t=="function"?t:$d(t)))}function cb(t){typeof t!="function"&&(t=yu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&s.push(c);return new re(r,this._parents)}function Ed(t){return new Array(t.length)}function ub(){return new re(this._enter||this._groups.map(Ed),this._parents)}function No(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}No.prototype={constructor:No,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function lb(t){return function(){return t}}function fb(t,e,n,r,i,o){for(var a=0,s,c=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new No(t,o[a]);for(;a<c;++a)(s=e[a])&&(i[a]=s)}function hb(t,e,n,r,i,o,a){var s,c,u=new Map,l=e.length,h=o.length,f=new Array(l),d;for(s=0;s<l;++s)(c=e[s])&&(f[s]=d=a.call(c,c.__data__,s,e)+"",u.has(d)?i[s]=c:u.set(d,c));for(s=0;s<h;++s)d=a.call(t,o[s],s,o)+"",(c=u.get(d))?(r[s]=c,c.__data__=o[s],u.delete(d)):n[s]=new No(t,o[s]);for(s=0;s<l;++s)(c=e[s])&&u.get(f[s])===c&&(i[s]=c)}function db(t){return t.__data__}function gb(t,e){if(!arguments.length)return Array.from(this,db);var n=e?hb:fb,r=this._parents,i=this._groups;typeof t!="function"&&(t=lb(t));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],h=i[u],f=h.length,d=pb(t.call(l,l&&l.__data__,u,r)),g=d.length,p=s[u]=new Array(g),m=a[u]=new Array(g),y=c[u]=new Array(f);n(l,h,p,m,y,d,e);for(var _=0,v=0,b,w;_<g;++_)if(b=p[_]){for(_>=v&&(v=_+1);!(w=m[v])&&++v<g;);b._next=w||null}}return a=new re(a,r),a._enter=s,a._exit=c,a}function pb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mb(){return new re(this._exit||this._groups.map(Ed),this._parents)}function yb(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function _b(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var u=n[c],l=r[c],h=u.length,f=s[c]=new Array(h),d,g=0;g<h;++g)(d=u[g]||l[g])&&(f[g]=d);for(;c<i;++c)s[c]=n[c];return new re(s,this._parents)}function bb(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function vb(t){t||(t=wb);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),u,l=0;l<s;++l)(u=a[l])&&(c[l]=u);c.sort(e)}return new re(i,this._parents).order()}function wb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mb(){return Array.from(this)}function kb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Sb(){let t=0;for(const e of this)++t;return t}function $b(){return!this.node()}function Eb(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Tb(t){return function(){this.removeAttribute(t)}}function Ab(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Cb(t,e){return function(){this.setAttribute(t,e)}}function Nb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ib(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Rb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Pb(t,e){var n=Ai(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ab:Tb:typeof e=="function"?n.local?Rb:Ib:n.local?Nb:Cb)(n,e))}function _u(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Db(t){return function(){this.style.removeProperty(t)}}function zb(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ob(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Lb(t,e,n){return arguments.length>1?this.each((e==null?Db:typeof e=="function"?Ob:zb)(t,e,n??"")):Dn(this.node(),t)}function Dn(t,e){return t.style.getPropertyValue(e)||_u(t).getComputedStyle(t,null).getPropertyValue(e)}function Fb(t){return function(){delete this[t]}}function Ub(t,e){return function(){this[t]=e}}function Bb(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function qb(t,e){return arguments.length>1?this.each((e==null?Fb:typeof e=="function"?Bb:Ub)(t,e)):this.node()[t]}function Td(t){return t.trim().split(/^|\s+/)}function bu(t){return t.classList||new Ad(t)}function Ad(t){this._node=t,this._names=Td(t.getAttribute("class")||"")}Ad.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Cd(t,e){for(var n=bu(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Nd(t,e){for(var n=bu(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Yb(t){return function(){Cd(this,t)}}function Gb(t){return function(){Nd(this,t)}}function Hb(t,e){return function(){(e.apply(this,arguments)?Cd:Nd)(this,t)}}function Vb(t,e){var n=Td(t+"");if(arguments.length<2){for(var r=bu(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Hb:e?Yb:Gb)(n,e))}function jb(){this.textContent=""}function Wb(t){return function(){this.textContent=t}}function Xb(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Kb(t){return arguments.length?this.each(t==null?jb:(typeof t=="function"?Xb:Wb)(t)):this.node().textContent}function Zb(){this.innerHTML=""}function Qb(t){return function(){this.innerHTML=t}}function Jb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function tv(t){return arguments.length?this.each(t==null?Zb:(typeof t=="function"?Jb:Qb)(t)):this.node().innerHTML}function ev(){this.nextSibling&&this.parentNode.appendChild(this)}function nv(){return this.each(ev)}function rv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iv(){return this.each(rv)}function ov(t){var e=typeof t=="function"?t:Ea(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function av(){return null}function sv(t,e){var n=typeof t=="function"?t:Ea(t),r=e==null?av:typeof e=="function"?e:Ta(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function cv(){var t=this.parentNode;t&&t.removeChild(this)}function uv(){return this.each(cv)}function lv(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fv(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hv(t){return this.select(t?fv:lv)}function dv(t){return arguments.length?this.property("__data__",t):this.node().__data__}function gv(t){return function(e){t.call(this,e,this.__data__)}}function pv(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function mv(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function yv(t,e,n){return function(){var r=this.__on,i,o=gv(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function _v(t,e,n){var r=pv(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,l;c<u;++c)for(i=0,l=s[c];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=e?yv:mv,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Id(t,e,n){var r=_u(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function bv(t,e){return function(){return Id(this,t,e)}}function vv(t,e){return function(){return Id(this,t,e.apply(this,arguments))}}function wv(t,e){return this.each((typeof e=="function"?vv:bv)(t,e))}function*xv(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var vu=[null];function re(t,e){this._groups=t,this._parents=e}function jn(){return new re([[document.documentElement]],vu)}function Mv(){return this}re.prototype=jn.prototype={constructor:re,select:K_,selectAll:J_,selectChild:rb,selectChildren:sb,filter:cb,data:gb,enter:ub,exit:mb,join:yb,merge:_b,selection:Mv,order:bb,sort:vb,call:xb,nodes:Mb,node:kb,size:Sb,empty:$b,each:Eb,attr:Pb,style:Lb,property:qb,classed:Vb,text:Kb,html:tv,raise:nv,lower:iv,append:ov,insert:sv,remove:uv,clone:hv,datum:dv,on:_v,dispatch:wv,[Symbol.iterator]:xv};function jt(t){return typeof t=="string"?new re([[document.querySelector(t)]],[document.documentElement]):new re([[t]],vu)}function kv(t){return jt(Ea(t).call(document.documentElement))}var Sv=0;function Rd(){return new cc}function cc(){this._="@"+(++Sv).toString(36)}cc.prototype=Rd.prototype={constructor:cc,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Pd(t){let e;for(;e=t.sourceEvent;)t=e;return t}function de(t,e){if(t=Pd(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function $v(t,e){return t.target&&(t=Pd(t),e===void 0&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,n=>de(n,e))}function Ev(t){return typeof t=="string"?new re([document.querySelectorAll(t)],[document.documentElement]):new re([Sd(t)],vu)}const Tv={passive:!1},gi={capture:!0,passive:!1};function ms(t){t.stopImmediatePropagation()}function ur(t){t.preventDefault(),t.stopImmediatePropagation()}function Aa(t){var e=t.document.documentElement,n=jt(t).on("dragstart.drag",ur,gi);"onselectstart"in e?n.on("selectstart.drag",ur,gi):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ca(t,e){var n=t.document.documentElement,r=jt(t).on("dragstart.drag",null);e&&(r.on("click.drag",ur,gi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Gi=t=>()=>t;function uc(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:c,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}uc.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Av(t){return!t.ctrlKey&&!t.button}function Cv(){return this.parentNode}function Nv(t,e){return e??{x:t.x,y:t.y}}function Iv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rv(){var t=Av,e=Cv,n=Nv,r=Iv,i={},o=Vn("start","drag","end"),a=0,s,c,u,l,h=0;function f(b){b.on("mousedown.drag",d).filter(r).on("touchstart.drag",m).on("touchmove.drag",y,Tv).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(b,w){if(!(l||!t.call(this,b,w))){var x=v(this,e.call(this,b,w),b,w,"mouse");x&&(jt(b.view).on("mousemove.drag",g,gi).on("mouseup.drag",p,gi),Aa(b.view),ms(b),u=!1,s=b.clientX,c=b.clientY,x("start",b))}}function g(b){if(ur(b),!u){var w=b.clientX-s,x=b.clientY-c;u=w*w+x*x>h}i.mouse("drag",b)}function p(b){jt(b.view).on("mousemove.drag mouseup.drag",null),Ca(b.view,u),ur(b),i.mouse("end",b)}function m(b,w){if(t.call(this,b,w)){var x=b.changedTouches,$=e.call(this,b,w),E=x.length,I,S;for(I=0;I<E;++I)(S=v(this,$,b,w,x[I].identifier,x[I]))&&(ms(b),S("start",b,x[I]))}}function y(b){var w=b.changedTouches,x=w.length,$,E;for($=0;$<x;++$)(E=i[w[$].identifier])&&(ur(b),E("drag",b,w[$]))}function _(b){var w=b.changedTouches,x=w.length,$,E;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),$=0;$<x;++$)(E=i[w[$].identifier])&&(ms(b),E("end",b,w[$]))}function v(b,w,x,$,E,I){var S=o.copy(),M=de(I||x,w),N,T,k;if((k=n.call(b,new uc("beforestart",{sourceEvent:x,target:f,identifier:E,active:a,x:M[0],y:M[1],dx:0,dy:0,dispatch:S}),$))!=null)return N=k.x-M[0]||0,T=k.y-M[1]||0,function A(C,R,D){var P=M,B;switch(C){case"start":i[E]=A,B=a++;break;case"end":delete i[E],--a;case"drag":M=de(D||R,w),B=a;break}S.call(C,b,new uc(C,{sourceEvent:R,subject:k,target:f,identifier:E,active:B,x:M[0]+N,y:M[1]+T,dx:M[0]-P[0],dy:M[1]-P[1],dispatch:S}),$)}}return f.filter=function(b){return arguments.length?(t=typeof b=="function"?b:Gi(!!b),f):t},f.container=function(b){return arguments.length?(e=typeof b=="function"?b:Gi(b),f):e},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Gi(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Gi(!!b),f):r},f.on=function(){var b=o.on.apply(o,arguments);return b===o?f:b},f.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,f):Math.sqrt(h)},f}function Nr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ci(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mn(){}var zn=.7,mr=1/zn,lr="\\s*([+-]?\\d+)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Le="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pv=/^#([0-9a-f]{3,8})$/,Dv=new RegExp(`^rgb\\(${lr},${lr},${lr}\\)$`),zv=new RegExp(`^rgb\\(${Le},${Le},${Le}\\)$`),Ov=new RegExp(`^rgba\\(${lr},${lr},${lr},${pi}\\)$`),Lv=new RegExp(`^rgba\\(${Le},${Le},${Le},${pi}\\)$`),Fv=new RegExp(`^hsl\\(${pi},${Le},${Le}\\)$`),Uv=new RegExp(`^hsla\\(${pi},${Le},${Le},${pi}\\)$`),hf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nr(mn,hn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:df,formatHex:df,formatHex8:Bv,formatHsl:qv,formatRgb:gf,toString:gf});function df(){return this.rgb().formatHex()}function Bv(){return this.rgb().formatHex8()}function qv(){return Dd(this).formatHsl()}function gf(){return this.rgb().formatRgb()}function hn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pv.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?pf(e):n===3?new Rt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Hi(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Hi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dv.exec(t))?new Rt(e[1],e[2],e[3],1):(e=zv.exec(t))?new Rt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ov.exec(t))?Hi(e[1],e[2],e[3],e[4]):(e=Lv.exec(t))?Hi(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fv.exec(t))?_f(e[1],e[2]/100,e[3]/100,1):(e=Uv.exec(t))?_f(e[1],e[2]/100,e[3]/100,e[4]):hf.hasOwnProperty(t)?pf(hf[t]):t==="transparent"?new Rt(NaN,NaN,NaN,0):null}function pf(t){return new Rt(t>>16&255,t>>8&255,t&255,1)}function Hi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rt(t,e,n,r)}function wu(t){return t instanceof mn||(t=hn(t)),t?(t=t.rgb(),new Rt(t.r,t.g,t.b,t.opacity)):new Rt}function yr(t,e,n,r){return arguments.length===1?wu(t):new Rt(t,e,n,r??1)}function Rt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Nr(Rt,yr,Ci(mn,{brighter(t){return t=t==null?mr:Math.pow(mr,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zn:Math.pow(zn,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rt(En(this.r),En(this.g),En(this.b),Io(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mf,formatHex:mf,formatHex8:Yv,formatRgb:yf,toString:yf}));function mf(){return`#${Sn(this.r)}${Sn(this.g)}${Sn(this.b)}`}function Yv(){return`#${Sn(this.r)}${Sn(this.g)}${Sn(this.b)}${Sn((isNaN(this.opacity)?1:this.opacity)*255)}`}function yf(){const t=Io(this.opacity);return`${t===1?"rgb(":"rgba("}${En(this.r)}, ${En(this.g)}, ${En(this.b)}${t===1?")":`, ${t})`}`}function Io(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function En(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sn(t){return t=En(t),(t<16?"0":"")+t.toString(16)}function _f(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ee(t,e,n,r)}function Dd(t){if(t instanceof Ee)return new Ee(t.h,t.s,t.l,t.opacity);if(t instanceof mn||(t=hn(t)),!t)return new Ee;if(t instanceof Ee)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Ee(a,s,c,t.opacity)}function Ro(t,e,n,r){return arguments.length===1?Dd(t):new Ee(t,e,n,r??1)}function Ee(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Nr(Ee,Ro,Ci(mn,{brighter(t){return t=t==null?mr:Math.pow(mr,t),new Ee(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zn:Math.pow(zn,t),new Ee(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rt(ys(t>=240?t-240:t+120,i,r),ys(t,i,r),ys(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ee(bf(this.h),Vi(this.s),Vi(this.l),Io(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Io(this.opacity);return`${t===1?"hsl(":"hsla("}${bf(this.h)}, ${Vi(this.s)*100}%, ${Vi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bf(t){return t=(t||0)%360,t<0?t+360:t}function Vi(t){return Math.max(0,Math.min(1,t||0))}function ys(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zd=Math.PI/180,Od=180/Math.PI,Po=18,Ld=.96422,Fd=1,Ud=.82521,Bd=4/29,fr=6/29,qd=3*fr*fr,Gv=fr*fr*fr;function Yd(t){if(t instanceof Ne)return new Ne(t.l,t.a,t.b,t.opacity);if(t instanceof ze)return Hd(t);t instanceof Rt||(t=wu(t));var e=ws(t.r),n=ws(t.g),r=ws(t.b),i=_s((.2225045*e+.7168786*n+.0606169*r)/Fd),o,a;return e===n&&n===r?o=a=i:(o=_s((.4360747*e+.3850649*n+.1430804*r)/Ld),a=_s((.0139322*e+.0971045*n+.7141733*r)/Ud)),new Ne(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Hv(t,e){return new Ne(t,0,0,e??1)}function Do(t,e,n,r){return arguments.length===1?Yd(t):new Ne(t,e,n,r??1)}function Ne(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Nr(Ne,Do,Ci(mn,{brighter(t){return new Ne(this.l+Po*(t??1),this.a,this.b,this.opacity)},darker(t){return new Ne(this.l-Po*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Ld*bs(e),t=Fd*bs(t),n=Ud*bs(n),new Rt(vs(3.1338561*e-1.6168667*t-.4906146*n),vs(-.9787684*e+1.9161415*t+.033454*n),vs(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function _s(t){return t>Gv?Math.pow(t,1/3):t/qd+Bd}function bs(t){return t>fr?t*t*t:qd*(t-Bd)}function vs(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ws(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Gd(t){if(t instanceof ze)return new ze(t.h,t.c,t.l,t.opacity);if(t instanceof Ne||(t=Yd(t)),t.a===0&&t.b===0)return new ze(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Od;return new ze(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Vv(t,e,n,r){return arguments.length===1?Gd(t):new ze(n,e,t,r??1)}function zo(t,e,n,r){return arguments.length===1?Gd(t):new ze(t,e,n,r??1)}function ze(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Hd(t){if(isNaN(t.h))return new Ne(t.l,0,0,t.opacity);var e=t.h*zd;return new Ne(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Nr(ze,zo,Ci(mn,{brighter(t){return new ze(this.h,this.c,this.l+Po*(t??1),this.opacity)},darker(t){return new ze(this.h,this.c,this.l-Po*(t??1),this.opacity)},rgb(){return Hd(this).rgb()}}));var Vd=-.14861,xu=1.78277,Mu=-.29227,Na=-.90649,mi=1.97294,vf=mi*Na,wf=mi*xu,xf=xu*Mu-Na*Vd;function jv(t){if(t instanceof Tn)return new Tn(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=wu(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(xf*r+vf*e-wf*n)/(xf+vf-wf),o=r-i,a=(mi*(n-i)-Mu*o)/Na,s=Math.sqrt(a*a+o*o)/(mi*i*(1-i)),c=s?Math.atan2(a,o)*Od-120:NaN;return new Tn(c<0?c+360:c,s,i,t.opacity)}function Ie(t,e,n,r){return arguments.length===1?jv(t):new Tn(t,e,n,r??1)}function Tn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Nr(Tn,Ie,Ci(mn,{brighter(t){return t=t==null?mr:Math.pow(mr,t),new Tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zn:Math.pow(zn,t),new Tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*zd,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Rt(255*(e+n*(Vd*r+xu*i)),255*(e+n*(Mu*r+Na*i)),255*(e+n*(mi*r)),this.opacity)}}));function jd(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Wd(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return jd((n-r/e)*e,a,i,o,s)}}function Xd(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return jd((n-r/e)*e,i,o,a,s)}}const Ia=t=>()=>t;function Kd(t,e){return function(n){return t+n*e}}function Wv(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ra(t,e){var n=e-t;return n?Kd(t,n>180||n<-180?n-360*Math.round(n/360):n):Ia(isNaN(t)?e:t)}function Xv(t){return(t=+t)==1?Pt:function(e,n){return n-e?Wv(e,n,t):Ia(isNaN(e)?n:e)}}function Pt(t,e){var n=e-t;return n?Kd(t,n):Ia(isNaN(t)?e:t)}const yi=function t(e){var n=Xv(e);function r(i,o){var a=n((i=yr(i)).r,(o=yr(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),u=Pt(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=t,r}(1);function Zd(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=yr(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(c){return s.r=r(c),s.g=i(c),s.b=o(c),s+""}}}var Qd=Zd(Wd),Kv=Zd(Xd);function ku(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Jd(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zv(t,e){return(Jd(e)?ku:t1)(t,e)}function t1(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=yn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function e1(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ve(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function n1(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var lc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xs=new RegExp(lc.source,"g");function Qv(t){return function(){return t}}function Jv(t){return function(e){return t(e)+""}}function Su(t,e){var n=lc.lastIndex=xs.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(t=t+"",e=e+"";(r=lc.exec(t))&&(i=xs.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:ve(r,i)})),n=xs.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?Jv(c[0].x):Qv(e):(e=c.length,function(u){for(var l=0,h;l<e;++l)s[(h=c[l]).i]=h.x(u);return s.join("")})}function yn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ia(e):(n==="number"?ve:n==="string"?(r=hn(e))?(e=r,yi):Su:e instanceof hn?yi:e instanceof Date?e1:Jd(e)?ku:Array.isArray(e)?t1:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?n1:ve)(t,e)}function tw(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function ew(t,e){var n=Ra(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function Pa(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Mf=180/Math.PI,fc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function r1(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Mf,skewX:Math.atan(c)*Mf,scaleX:a,scaleY:s}}var ji;function nw(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?fc:r1(e.a,e.b,e.c,e.d,e.e,e.f)}function rw(t){return t==null||(ji||(ji=document.createElementNS("http://www.w3.org/2000/svg","g")),ji.setAttribute("transform",t),!(t=ji.transform.baseVal.consolidate()))?fc:(t=t.matrix,r1(t.a,t.b,t.c,t.d,t.e,t.f))}function i1(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,h,f,d,g){if(u!==h||l!==f){var p=d.push("translate(",null,e,null,n);g.push({i:p-4,x:ve(u,h)},{i:p-2,x:ve(l,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function a(u,l,h,f){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:ve(u,l)})):l&&h.push(i(h)+"rotate("+l+r)}function s(u,l,h,f){u!==l?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:ve(u,l)}):l&&h.push(i(h)+"skewX("+l+r)}function c(u,l,h,f,d,g){if(u!==h||l!==f){var p=d.push(i(d)+"scale(",null,",",null,")");g.push({i:p-4,x:ve(u,h)},{i:p-2,x:ve(l,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,l){var h=[],f=[];return u=t(u),l=t(l),o(u.translateX,u.translateY,l.translateX,l.translateY,h,f),a(u.rotate,l.rotate,h,f),s(u.skewX,l.skewX,h,f),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,h,f),u=l=null,function(d){for(var g=-1,p=f.length,m;++g<p;)h[(m=f[g]).i]=m.x(d);return h.join("")}}}var o1=i1(nw,"px, ","px)","deg)"),a1=i1(rw,", ",")",")"),iw=1e-12;function kf(t){return((t=Math.exp(t))+1/t)/2}function ow(t){return((t=Math.exp(t))-1/t)/2}function aw(t){return((t=Math.exp(2*t))-1)/(t+1)}const s1=function t(e,n,r){function i(o,a){var s=o[0],c=o[1],u=o[2],l=a[0],h=a[1],f=a[2],d=l-s,g=h-c,p=d*d+g*g,m,y;if(p<iw)y=Math.log(f/u)/e,m=function($){return[s+$*d,c+$*g,u*Math.exp(e*$*y)]};else{var _=Math.sqrt(p),v=(f*f-u*u+r*p)/(2*u*n*_),b=(f*f-u*u-r*p)/(2*f*n*_),w=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(b*b+1)-b);y=(x-w)/e,m=function($){var E=$*y,I=kf(w),S=u/(n*_)*(I*aw(e*E+w)-ow(w));return[s+S*d,c+S*g,u*I/kf(e*E+w)]}}return m.duration=y*1e3*e/Math.SQRT2,m}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,c=s*s;return t(a,s,c)},i}(Math.SQRT2,2,4);function c1(t){return function(e,n){var r=t((e=Ro(e)).h,(n=Ro(n)).h),i=Pt(e.s,n.s),o=Pt(e.l,n.l),a=Pt(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const sw=c1(Ra);var cw=c1(Pt);function uw(t,e){var n=Pt((t=Do(t)).l,(e=Do(e)).l),r=Pt(t.a,e.a),i=Pt(t.b,e.b),o=Pt(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function u1(t){return function(e,n){var r=t((e=zo(e)).h,(n=zo(n)).h),i=Pt(e.c,n.c),o=Pt(e.l,n.l),a=Pt(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=o(s),e.opacity=a(s),e+""}}}const lw=u1(Ra);var fw=u1(Pt);function l1(t){return function e(n){n=+n;function r(i,o){var a=t((i=Ie(i)).h,(o=Ie(o)).h),s=Pt(i.s,o.s),c=Pt(i.l,o.l),u=Pt(i.opacity,o.opacity);return function(l){return i.h=a(l),i.s=s(l),i.l=c(Math.pow(l,n)),i.opacity=u(l),i+""}}return r.gamma=e,r}(1)}const hw=l1(Ra);var Da=l1(Pt);function f1(t,e){e===void 0&&(e=t,t=yn);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function dw(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var _r=0,Hr=0,Lr=0,h1=1e3,Oo,Vr,Lo=0,On=0,za=0,_i=typeof performance=="object"&&performance.now?performance:Date,d1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ni(){return On||(d1(gw),On=_i.now()+za)}function gw(){On=0}function bi(){this._call=this._time=this._next=null}bi.prototype=Oa.prototype={constructor:bi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ni():+n)+(e==null?0:+e),!this._next&&Vr!==this&&(Vr?Vr._next=this:Oo=this,Vr=this),this._call=t,this._time=n,hc()},stop:function(){this._call&&(this._call=null,this._time=1/0,hc())}};function Oa(t,e,n){var r=new bi;return r.restart(t,e,n),r}function g1(){Ni(),++_r;for(var t=Oo,e;t;)(e=On-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_r}function Sf(){On=(Lo=_i.now())+za,_r=Hr=0;try{g1()}finally{_r=0,mw(),On=0}}function pw(){var t=_i.now(),e=t-Lo;e>h1&&(za-=e,Lo=t)}function mw(){for(var t,e=Oo,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Oo=n);Vr=t,hc(r)}function hc(t){if(!_r){Hr&&(Hr=clearTimeout(Hr));var e=t-On;e>24?(t<1/0&&(Hr=setTimeout(Sf,t-_i.now()-za)),Lr&&(Lr=clearInterval(Lr))):(Lr||(Lo=_i.now(),Lr=setInterval(pw,h1)),_r=1,d1(Sf))}}function dc(t,e,n){var r=new bi;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}function yw(t,e,n){var r=new bi,i=e;return e==null?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(o,a,s){a=+a,s=s==null?Ni():+s,r._restart(function c(u){u+=i,r._restart(c,i+=a,s),o(u)},a,s)},r.restart(t,e,n),r)}var _w=Vn("start","end","cancel","interrupt"),bw=[],p1=0,gc=1,pc=2,yo=3,$f=4,mc=5,_o=6;function La(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;vw(t,n,{name:e,index:r,group:i,on:_w,tween:bw,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:p1})}function $u(t,e){var n=Re(t,e);if(n.state>p1)throw new Error("too late; already scheduled");return n}function Ye(t,e){var n=Re(t,e);if(n.state>yo)throw new Error("too late; already running");return n}function Re(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vw(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Oa(o,0,n.time);function o(u){n.state=gc,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var l,h,f,d;if(n.state!==gc)return c();for(l in r)if(d=r[l],d.name===n.name){if(d.state===yo)return dc(a);d.state===$f?(d.state=_o,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[l]):+l<e&&(d.state=_o,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[l])}if(dc(function(){n.state===yo&&(n.state=$f,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=pc,n.on.call("start",t,t.__data__,n.index,n.group),n.state===pc){for(n.state=yo,i=new Array(f=n.tween.length),l=0,h=-1;l<f;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=mc,1),h=-1,f=i.length;++h<f;)i[h].call(t,l);n.state===mc&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=_o,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function An(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>pc&&r.state<mc,r.state=_o,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function ww(t){return this.each(function(){An(this,t)})}function xw(t,e){var n,r;return function(){var i=Ye(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Mw(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ye(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function kw(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Re(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?xw:Mw)(n,t,e))}function Eu(t,e,n){var r=t._id;return t.each(function(){var i=Ye(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Re(i,r).value[e]}}function m1(t,e){var n;return(typeof e=="number"?ve:e instanceof hn?yi:(n=hn(e))?(e=n,yi):Su)(t,e)}function Sw(t){return function(){this.removeAttribute(t)}}function $w(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ew(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Tw(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Aw(t,e,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s)))}}function Cw(t,e,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s)))}}function Nw(t,e){var n=Ai(t),r=n==="transform"?a1:m1;return this.attrTween(t,typeof e=="function"?(n.local?Cw:Aw)(n,r,Eu(this,"attr."+t,e)):e==null?(n.local?$w:Sw)(n):(n.local?Tw:Ew)(n,r,e))}function Iw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Rw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Pw(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Rw(t,o)),n}return i._value=e,i}function Dw(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Iw(t,o)),n}return i._value=e,i}function zw(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ai(t);return this.tween(n,(r.local?Pw:Dw)(r,e))}function Ow(t,e){return function(){$u(this,t).delay=+e.apply(this,arguments)}}function Lw(t,e){return e=+e,function(){$u(this,t).delay=e}}function Fw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ow:Lw)(e,t)):Re(this.node(),e).delay}function Uw(t,e){return function(){Ye(this,t).duration=+e.apply(this,arguments)}}function Bw(t,e){return e=+e,function(){Ye(this,t).duration=e}}function qw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Uw:Bw)(e,t)):Re(this.node(),e).duration}function Yw(t,e){if(typeof e!="function")throw new Error;return function(){Ye(this,t).ease=e}}function Gw(t){var e=this._id;return arguments.length?this.each(Yw(e,t)):Re(this.node(),e).ease}function Hw(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ye(this,t).ease=n}}function Vw(t){if(typeof t!="function")throw new Error;return this.each(Hw(this._id,t))}function jw(t){typeof t!="function"&&(t=yu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&s.push(c);return new Fe(r,this._parents,this._name,this._id)}function Ww(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=e[s],u=n[s],l=c.length,h=a[s]=new Array(l),f,d=0;d<l;++d)(f=c[d]||u[d])&&(h[d]=f);for(;s<r;++s)a[s]=e[s];return new Fe(a,this._parents,this._name,this._id)}function Xw(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Kw(t,e,n){var r,i,o=Xw(e)?$u:Ye;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function Zw(t,e){var n=this._id;return arguments.length<2?Re(this.node(),n).on.on(t):this.each(Kw(n,t,e))}function Qw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Jw(){return this.on("end.remove",Qw(this._id))}function t3(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ta(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,u=o[a]=new Array(c),l,h,f=0;f<c;++f)(l=s[f])&&(h=t.call(l,l.__data__,f,s))&&("__data__"in l&&(h.__data__=l.__data__),u[f]=h,La(u[f],e,n,f,u,Re(l,n)));return new Fe(o,this._parents,e,n)}function e3(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mu(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],u=c.length,l,h=0;h<u;++h)if(l=c[h]){for(var f=t.call(l,l.__data__,h,c),d,g=Re(l,n),p=0,m=f.length;p<m;++p)(d=f[p])&&La(d,e,n,p,f,g);o.push(f),a.push(l)}return new Fe(o,a,e,n)}var n3=jn.prototype.constructor;function r3(){return new n3(this._groups,this._parents)}function i3(t,e){var n,r,i;return function(){var o=Dn(this,t),a=(this.style.removeProperty(t),Dn(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function y1(t){return function(){this.style.removeProperty(t)}}function o3(t,e,n){var r,i=n+"",o;return function(){var a=Dn(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function a3(t,e,n){var r,i,o;return function(){var a=Dn(this,t),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),Dn(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}function s3(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var c=Ye(this,t),u=c.on,l=c.value[o]==null?s||(s=y1(e)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(a,i=l),c.on=r}}function c3(t,e,n){var r=(t+="")=="transform"?o1:m1;return e==null?this.styleTween(t,i3(t,r)).on("end.style."+t,y1(t)):typeof e=="function"?this.styleTween(t,a3(t,r,Eu(this,"style."+t,e))).each(s3(this._id,t)):this.styleTween(t,o3(t,r,e),n).on("end.style."+t,null)}function u3(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function l3(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&u3(t,a,n)),r}return o._value=e,o}function f3(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,l3(t,e,n??""))}function h3(t){return function(){this.textContent=t}}function d3(t){return function(){var e=t(this);this.textContent=e??""}}function g3(t){return this.tween("text",typeof t=="function"?d3(Eu(this,"text",t)):h3(t==null?"":t+""))}function p3(t){return function(e){this.textContent=t.call(this,e)}}function m3(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&p3(i)),e}return r._value=t,r}function y3(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,m3(t))}function _3(){for(var t=this._name,e=this._id,n=b1(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)if(c=a[u]){var l=Re(c,e);La(c,t,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Fe(r,this._parents,t,n)}function b3(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var u=Ye(this,r),l=u.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),u.on=e}),i===0&&o()})}var v3=0;function Fe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function _1(t){return jn().transition(t)}function b1(){return++v3}var He=jn.prototype;Fe.prototype=_1.prototype={constructor:Fe,select:t3,selectAll:e3,selectChild:He.selectChild,selectChildren:He.selectChildren,filter:jw,merge:Ww,selection:r3,transition:_3,call:He.call,nodes:He.nodes,node:He.node,size:He.size,empty:He.empty,each:He.each,on:Zw,attr:Nw,attrTween:zw,style:c3,styleTween:f3,text:g3,textTween:y3,remove:Jw,tween:kw,delay:Fw,duration:qw,ease:Gw,easeVarying:Vw,end:b3,[Symbol.iterator]:He[Symbol.iterator]};const w3=t=>+t;function x3(t){return t*t}function M3(t){return t*(2-t)}function Ef(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function k3(t){return t*t*t}function S3(t){return--t*t*t+1}function yc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tu=3,$3=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(Tu),E3=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(Tu),Tf=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(Tu),v1=Math.PI,w1=v1/2;function T3(t){return+t==1?1:1-Math.cos(t*w1)}function A3(t){return Math.sin(t*w1)}function Af(t){return(1-Math.cos(v1*t))/2}function dn(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function C3(t){return dn(1-+t)}function N3(t){return 1-dn(t)}function Cf(t){return((t*=2)<=1?dn(1-t):2-dn(t-1))/2}function I3(t){return 1-Math.sqrt(1-t*t)}function R3(t){return Math.sqrt(1- --t*t)}function Nf(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var _c=4/11,P3=6/11,D3=8/11,z3=3/4,O3=9/11,L3=10/11,F3=15/16,U3=21/22,B3=63/64,Wi=1/_c/_c;function q3(t){return 1-vi(1-t)}function vi(t){return(t=+t)<_c?Wi*t*t:t<D3?Wi*(t-=P3)*t+z3:t<L3?Wi*(t-=O3)*t+F3:Wi*(t-=U3)*t+B3}function Y3(t){return((t*=2)<=1?1-vi(1-t):vi(t-1)+1)/2}var Au=1.70158,G3=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(Au),H3=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(Au),If=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(Au),br=2*Math.PI,Cu=1,Nu=.3,V3=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=br);function i(o){return e*dn(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return t(o,n*br)},i.period=function(o){return t(e,o)},i}(Cu,Nu),Rf=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=br);function i(o){return 1-e*dn(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return t(o,n*br)},i.period=function(o){return t(e,o)},i}(Cu,Nu),j3=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=br);function i(o){return((o=o*2-1)<0?e*dn(-o)*Math.sin((r-o)/n):2-e*dn(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return t(o,n*br)},i.period=function(o){return t(e,o)},i}(Cu,Nu),W3={time:null,delay:0,duration:250,ease:yc};function X3(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function K3(t){var e,n;t instanceof Fe?(e=t._id,t=t._name):(e=b1(),(n=W3).time=Ni(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&La(c,t,e,u,a,n||X3(c,e));return new Fe(r,this._parents,t,e)}jn.prototype.interrupt=ww;jn.prototype.transition=K3;var Z3=[null];function Q3(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>gc&&r.name===e)return new Fe([[t]],Z3,e,+i)}return null}const Ms=t=>()=>t;function J3(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function t6(t){t.stopImmediatePropagation()}function ks(t){t.preventDefault(),t.stopImmediatePropagation()}var Pf={name:"drag"},Ss={name:"space"},Qn={name:"handle"},Jn={name:"center"};const{abs:Df,max:qt,min:Yt}=Math;function zf(t){return[+t[0],+t[1]]}function bc(t){return[zf(t[0]),zf(t[1])]}var bo={name:"x",handles:["w","e"].map(wi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},vo={name:"y",handles:["n","s"].map(wi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},e6={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(wi),input:function(t){return t==null?null:bc(t)},output:function(t){return t}},Ve={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Of={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Lf={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},n6={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},r6={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function wi(t){return{type:t}}function i6(t){return!t.ctrlKey&&!t.button}function o6(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function a6(){return navigator.maxTouchPoints||"ontouchstart"in this}function $s(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function s6(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function c6(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function u6(){return Iu(bo)}function l6(){return Iu(vo)}function f6(){return Iu(e6)}function Iu(t){var e=o6,n=i6,r=a6,i=!0,o=Vn("start","brush","end"),a=6,s;function c(m){var y=m.property("__brush",p).selectAll(".overlay").data([wi("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ve.overlay).merge(y).each(function(){var v=$s(this).extent;jt(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),m.selectAll(".selection").data([wi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ve.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=m.selectAll(".handle").data(t.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Ve[v.type]}),m.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(m,y,_){m.tween?m.on("start.brush",function(v){l(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){l(this,arguments).end(v)}).tween("brush",function(){var v=this,b=v.__brush,w=l(v,arguments),x=b.selection,$=t.input(typeof y=="function"?y.apply(this,arguments):y,b.extent),E=yn(x,$);function I(S){b.selection=S===1&&$===null?null:E(S),u.call(v),w.brush()}return x!==null&&$!==null?I:I(1)}):m.each(function(){var v=this,b=arguments,w=v.__brush,x=t.input(typeof y=="function"?y.apply(v,b):y,w.extent),$=l(v,b).beforestart();An(v),w.selection=x===null?null:x,u.call(v),$.start(_).brush(_).end(_)})},c.clear=function(m,y){c.move(m,null,y)};function u(){var m=jt(this),y=$s(this).selection;y?(m.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?y[1][0]-a/2:y[0][0]-a/2}).attr("y",function(_){return _.type[0]==="s"?y[1][1]-a/2:y[0][1]-a/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?y[1][0]-y[0][0]+a:a}).attr("height",function(_){return _.type==="e"||_.type==="w"?y[1][1]-y[0][1]+a:a})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(m,y,_){var v=m.__brush.emitter;return v&&(!_||!v.clean)?v:new h(m,y,_)}function h(m,y,_){this.that=m,this.args=y,this.state=m.__brush,this.active=0,this.clean=_}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,y){return this.starting?(this.starting=!1,this.emit("start",m,y)):this.emit("brush",m),this},brush:function(m,y){return this.emit("brush",m,y),this},end:function(m,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,y)),this},emit:function(m,y,_){var v=jt(this.that).datum();o.call(m,this.that,new J3(m,{sourceEvent:y,target:c,selection:t.output(this.state.selection),mode:_,dispatch:o}),v)}};function f(m){if(s&&!m.touches||!n.apply(this,arguments))return;var y=this,_=m.target.__data__.type,v=(i&&m.metaKey?_="overlay":_)==="selection"?Pf:i&&m.altKey?Jn:Qn,b=t===vo?null:n6[_],w=t===bo?null:r6[_],x=$s(y),$=x.extent,E=x.selection,I=$[0][0],S,M,N=$[0][1],T,k,A=$[1][0],C,R,D=$[1][1],P,B,q=0,O=0,Z,ot=b&&w&&i&&m.shiftKey,rt,Q,j=Array.from(m.touches||[m],et=>{const Et=et.identifier;return et=de(et,y),et.point0=et.slice(),et.identifier=Et,et});An(y);var pt=l(y,arguments,!0).beforestart();if(_==="overlay"){E&&(Z=!0);const et=[j[0],j[1]||j[0]];x.selection=E=[[S=t===vo?I:Yt(et[0][0],et[1][0]),T=t===bo?N:Yt(et[0][1],et[1][1])],[C=t===vo?A:qt(et[0][0],et[1][0]),P=t===bo?D:qt(et[0][1],et[1][1])]],j.length>1&&xt(m)}else S=E[0][0],T=E[0][1],C=E[1][0],P=E[1][1];M=S,k=T,R=C,B=P;var H=jt(y).attr("pointer-events","none"),nt=H.selectAll(".overlay").attr("cursor",Ve[_]);if(m.touches)pt.moved=U,pt.ended=bt;else{var ct=jt(m.view).on("mousemove.brush",U,!0).on("mouseup.brush",bt,!0);i&&ct.on("keydown.brush",Xt,!0).on("keyup.brush",Kt,!0),Aa(m.view)}u.call(y),pt.start(m,v.name);function U(et){for(const Et of et.changedTouches||[et])for(const Pr of j)Pr.identifier===Et.identifier&&(Pr.cur=de(Et,y));if(ot&&!rt&&!Q&&j.length===1){const Et=j[0];Df(Et.cur[0]-Et[0])>Df(Et.cur[1]-Et[1])?Q=!0:rt=!0}for(const Et of j)Et.cur&&(Et[0]=Et.cur[0],Et[1]=Et.cur[1]);Z=!0,ks(et),xt(et)}function xt(et){const Et=j[0],Pr=Et.point0;var rn;switch(q=Et[0]-Pr[0],O=Et[1]-Pr[1],v){case Ss:case Pf:{b&&(q=qt(I-S,Yt(A-C,q)),M=S+q,R=C+q),w&&(O=qt(N-T,Yt(D-P,O)),k=T+O,B=P+O);break}case Qn:{j[1]?(b&&(M=qt(I,Yt(A,j[0][0])),R=qt(I,Yt(A,j[1][0])),b=1),w&&(k=qt(N,Yt(D,j[0][1])),B=qt(N,Yt(D,j[1][1])),w=1)):(b<0?(q=qt(I-S,Yt(A-S,q)),M=S+q,R=C):b>0&&(q=qt(I-C,Yt(A-C,q)),M=S,R=C+q),w<0?(O=qt(N-T,Yt(D-T,O)),k=T+O,B=P):w>0&&(O=qt(N-P,Yt(D-P,O)),k=T,B=P+O));break}case Jn:{b&&(M=qt(I,Yt(A,S-q*b)),R=qt(I,Yt(A,C+q*b))),w&&(k=qt(N,Yt(D,T-O*w)),B=qt(N,Yt(D,P+O*w)));break}}R<M&&(b*=-1,rn=S,S=C,C=rn,rn=M,M=R,R=rn,_ in Of&&nt.attr("cursor",Ve[_=Of[_]])),B<k&&(w*=-1,rn=T,T=P,P=rn,rn=k,k=B,B=rn,_ in Lf&&nt.attr("cursor",Ve[_=Lf[_]])),x.selection&&(E=x.selection),rt&&(M=E[0][0],R=E[1][0]),Q&&(k=E[0][1],B=E[1][1]),(E[0][0]!==M||E[0][1]!==k||E[1][0]!==R||E[1][1]!==B)&&(x.selection=[[M,k],[R,B]],u.call(y),pt.brush(et,v.name))}function bt(et){if(t6(et),et.touches){if(et.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else Ca(et.view,Z),ct.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);H.attr("pointer-events","all"),nt.attr("cursor",Ve.overlay),x.selection&&(E=x.selection),s6(E)&&(x.selection=null,u.call(y)),pt.end(et,v.name)}function Xt(et){switch(et.keyCode){case 16:{ot=b&&w;break}case 18:{v===Qn&&(b&&(C=R-q*b,S=M+q*b),w&&(P=B-O*w,T=k+O*w),v=Jn,xt(et));break}case 32:{(v===Qn||v===Jn)&&(b<0?C=R-q:b>0&&(S=M-q),w<0?P=B-O:w>0&&(T=k-O),v=Ss,nt.attr("cursor",Ve.selection),xt(et));break}default:return}ks(et)}function Kt(et){switch(et.keyCode){case 16:{ot&&(rt=Q=ot=!1,xt(et));break}case 18:{v===Jn&&(b<0?C=R:b>0&&(S=M),w<0?P=B:w>0&&(T=k),v=Qn,xt(et));break}case 32:{v===Ss&&(et.altKey?(b&&(C=R-q*b,S=M+q*b),w&&(P=B-O*w,T=k+O*w),v=Jn):(b<0?C=R:b>0&&(S=M),w<0?P=B:w>0&&(T=k),v=Qn),nt.attr("cursor",Ve[_]),xt(et));break}default:return}ks(et)}}function d(m){l(this,arguments).moved(m)}function g(m){l(this,arguments).ended(m)}function p(){var m=this.__brush||{selection:null};return m.extent=bc(e.apply(this,arguments)),m.dim=t,m}return c.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Ms(bc(m)),c):e},c.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Ms(!!m),c):n},c.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Ms(!!m),c):r},c.handleSize=function(m){return arguments.length?(a=+m,c):a},c.keyModifiers=function(m){return arguments.length?(i=!!m,c):i},c.on=function(){var m=o.on.apply(o,arguments);return m===o?c:m},c}var Ff=Math.abs,tr=Math.cos,er=Math.sin,x1=Math.PI,Xi=x1/2,Uf=x1*2,Bf=Math.max,Es=1e-12;function Ts(t,e){return Array.from({length:e-t},(n,r)=>t+r)}function h6(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function d6(){return Ru(!1,!1)}function g6(){return Ru(!1,!0)}function p6(){return Ru(!0,!1)}function Ru(t,e){var n=0,r=null,i=null,o=null;function a(s){var c=s.length,u=new Array(c),l=Ts(0,c),h=new Array(c*c),f=new Array(c),d=0,g;s=Float64Array.from({length:c*c},e?(p,m)=>s[m%c][m/c|0]:(p,m)=>s[m/c|0][m%c]);for(let p=0;p<c;++p){let m=0;for(let y=0;y<c;++y)m+=s[p*c+y]+t*s[y*c+p];d+=u[p]=m}d=Bf(0,Uf-n*c)/d,g=d?n:Uf/c;{let p=0;r&&l.sort((m,y)=>r(u[m],u[y]));for(const m of l){const y=p;if(t){const _=Ts(~c+1,c).filter(v=>v<0?s[~v*c+m]:s[m*c+v]);i&&_.sort((v,b)=>i(v<0?-s[~v*c+m]:s[m*c+v],b<0?-s[~b*c+m]:s[m*c+b]));for(const v of _)if(v<0){const b=h[~v*c+m]||(h[~v*c+m]={source:null,target:null});b.target={index:m,startAngle:p,endAngle:p+=s[~v*c+m]*d,value:s[~v*c+m]}}else{const b=h[m*c+v]||(h[m*c+v]={source:null,target:null});b.source={index:m,startAngle:p,endAngle:p+=s[m*c+v]*d,value:s[m*c+v]}}f[m]={index:m,startAngle:y,endAngle:p,value:u[m]}}else{const _=Ts(0,c).filter(v=>s[m*c+v]||s[v*c+m]);i&&_.sort((v,b)=>i(s[m*c+v],s[m*c+b]));for(const v of _){let b;if(m<v?(b=h[m*c+v]||(h[m*c+v]={source:null,target:null}),b.source={index:m,startAngle:p,endAngle:p+=s[m*c+v]*d,value:s[m*c+v]}):(b=h[v*c+m]||(h[v*c+m]={source:null,target:null}),b.target={index:m,startAngle:p,endAngle:p+=s[m*c+v]*d,value:s[m*c+v]},m===v&&(b.source=b.target)),b.source&&b.target&&b.source.value<b.target.value){const w=b.source;b.source=b.target,b.target=w}}f[m]={index:m,startAngle:y,endAngle:p,value:u[m]}}p+=g}}return h=Object.values(h),h.groups=f,o?h.sort(o):h}return a.padAngle=function(s){return arguments.length?(n=Bf(0,s),a):n},a.sortGroups=function(s){return arguments.length?(r=s,a):r},a.sortSubgroups=function(s){return arguments.length?(i=s,a):i},a.sortChords=function(s){return arguments.length?(s==null?o=null:(o=h6(s))._=s,a):o&&o._},a}const vc=Math.PI,wc=2*vc,xn=1e-6,m6=wc-xn;function M1(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function y6(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return M1;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Ii=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?M1:y6(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=r-e,u=i-n,l=a-e,h=s-n,f=l*l+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>xn)if(!(Math.abs(h*c-u*l)>xn)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,g=i-s,p=c*c+u*u,m=d*d+g*g,y=Math.sqrt(p),_=Math.sqrt(f),v=o*Math.tan((vc-Math.acos((p+f-m)/(2*y*_)))/2),b=v/_,w=v/y;Math.abs(b-1)>xn&&this._append`L${e+b*l},${n+b*h}`,this._append`A${o},${o},0,0,${+(h*d>l*g)},${this._x1=e+w*c},${this._y1=n+w*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=e+s,l=n+c,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>xn||Math.abs(this._y1-l)>xn)&&this._append`L${u},${l}`,r&&(f<0&&(f=f%wc+wc),f>m6?this._append`A${r},${r},0,1,${h},${e-s},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=l}`:f>xn&&this._append`A${r},${r},0,${+(f>=vc)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Pu(){return new Ii}Pu.prototype=Ii.prototype;function _6(t=3){return new Ii(+t)}var b6=Array.prototype.slice;function vn(t){return function(){return t}}function v6(t){return t.source}function w6(t){return t.target}function qf(t){return t.radius}function x6(t){return t.startAngle}function M6(t){return t.endAngle}function k6(){return 0}function S6(){return 10}function k1(t){var e=v6,n=w6,r=qf,i=qf,o=x6,a=M6,s=k6,c=null;function u(){var l,h=e.apply(this,arguments),f=n.apply(this,arguments),d=s.apply(this,arguments)/2,g=b6.call(arguments),p=+r.apply(this,(g[0]=h,g)),m=o.apply(this,g)-Xi,y=a.apply(this,g)-Xi,_=+i.apply(this,(g[0]=f,g)),v=o.apply(this,g)-Xi,b=a.apply(this,g)-Xi;if(c||(c=l=Pu()),d>Es&&(Ff(y-m)>d*2+Es?y>m?(m+=d,y-=d):(m-=d,y+=d):m=y=(m+y)/2,Ff(b-v)>d*2+Es?b>v?(v+=d,b-=d):(v-=d,b+=d):v=b=(v+b)/2),c.moveTo(p*tr(m),p*er(m)),c.arc(0,0,p,m,y),m!==v||y!==b)if(t){var w=+t.apply(this,arguments),x=_-w,$=(v+b)/2;c.quadraticCurveTo(0,0,x*tr(v),x*er(v)),c.lineTo(_*tr($),_*er($)),c.lineTo(x*tr(b),x*er(b))}else c.quadraticCurveTo(0,0,_*tr(v),_*er(v)),c.arc(0,0,_,v,b);if(c.quadraticCurveTo(0,0,p*tr(m),p*er(m)),c.closePath(),l)return c=null,l+""||null}return t&&(u.headRadius=function(l){return arguments.length?(t=typeof l=="function"?l:vn(+l),u):t}),u.radius=function(l){return arguments.length?(r=i=typeof l=="function"?l:vn(+l),u):r},u.sourceRadius=function(l){return arguments.length?(r=typeof l=="function"?l:vn(+l),u):r},u.targetRadius=function(l){return arguments.length?(i=typeof l=="function"?l:vn(+l),u):i},u.startAngle=function(l){return arguments.length?(o=typeof l=="function"?l:vn(+l),u):o},u.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:vn(+l),u):a},u.padAngle=function(l){return arguments.length?(s=typeof l=="function"?l:vn(+l),u):s},u.source=function(l){return arguments.length?(e=l,u):e},u.target=function(l){return arguments.length?(n=l,u):n},u.context=function(l){return arguments.length?(c=l??null,u):c},u}function $6(){return k1()}function E6(){return k1(S6)}var T6=Array.prototype,S1=T6.slice;function A6(t,e){return t-e}function C6(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}const on=t=>()=>t;function N6(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=I6(t,e[n]))return i;return 0}function I6(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var c=t[o],u=c[0],l=c[1],h=t[s],f=h[0],d=h[1];if(R6(c,h,e))return 0;l>r!=d>r&&n<(f-u)*(r-l)/(d-l)+u&&(i=-i)}return i}function R6(t,e,n){var r;return P6(t,e,n)&&D6(t[r=+(t[0]===e[0])],n[r],e[r])}function P6(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function D6(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function z6(){}var je=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function xc(){var t=1,e=1,n=hu,r=c;function i(u){var l=n(u);if(Array.isArray(l))l=l.slice().sort(A6);else{const h=ri(u,O6);for(l=Rn(...fu(h[0],h[1],l),l);l[l.length-1]>=h[1];)l.pop();for(;l[1]<h[0];)l.shift()}return l.map(h=>o(u,h))}function o(u,l){const h=l==null?NaN:+l;if(isNaN(h))throw new Error(`invalid value: ${l}`);var f=[],d=[];return a(u,h,function(g){r(g,u,h),C6(g)>0?f.push([g]):d.push(g)}),d.forEach(function(g){for(var p=0,m=f.length,y;p<m;++p)if(N6((y=f[p])[0],g)!==-1){y.push(g);return}}),{type:"MultiPolygon",value:l,coordinates:f}}function a(u,l,h){var f=new Array,d=new Array,g,p,m,y,_,v;for(g=p=-1,y=wn(u[0],l),je[y<<1].forEach(b);++g<t-1;)m=y,y=wn(u[g+1],l),je[m|y<<1].forEach(b);for(je[y<<0].forEach(b);++p<e-1;){for(g=-1,y=wn(u[p*t+t],l),_=wn(u[p*t],l),je[y<<1|_<<2].forEach(b);++g<t-1;)m=y,y=wn(u[p*t+t+g+1],l),v=_,_=wn(u[p*t+g+1],l),je[m|y<<1|_<<2|v<<3].forEach(b);je[y|_<<3].forEach(b)}for(g=-1,_=u[p*t]>=l,je[_<<2].forEach(b);++g<t-1;)v=_,_=wn(u[p*t+g+1],l),je[_<<2|v<<3].forEach(b);je[_<<3].forEach(b);function b(w){var x=[w[0][0]+g,w[0][1]+p],$=[w[1][0]+g,w[1][1]+p],E=s(x),I=s($),S,M;(S=d[E])?(M=f[I])?(delete d[S.end],delete f[M.start],S===M?(S.ring.push($),h(S.ring)):f[S.start]=d[M.end]={start:S.start,end:M.end,ring:S.ring.concat(M.ring)}):(delete d[S.end],S.ring.push($),d[S.end=I]=S):(S=f[I])?(M=d[E])?(delete f[S.start],delete d[M.end],S===M?(S.ring.push($),h(S.ring)):f[M.start]=d[S.end]={start:M.start,end:S.end,ring:M.ring.concat(S.ring)}):(delete f[S.start],S.ring.unshift(x),f[S.start=E]=S):f[E]=d[I]={start:E,end:I,ring:[x,$]}}}function s(u){return u[0]*2+u[1]*(t+1)*4}function c(u,l,h){u.forEach(function(f){var d=f[0],g=f[1],p=d|0,m=g|0,y=As(l[m*t+p]);d>0&&d<t&&p===d&&(f[0]=Yf(d,As(l[m*t+p-1]),y,h)),g>0&&g<e&&m===g&&(f[1]=Yf(g,As(l[(m-1)*t+p]),y,h))})}return i.contour=o,i.size=function(u){if(!arguments.length)return[t,e];var l=Math.floor(u[0]),h=Math.floor(u[1]);if(!(l>=0&&h>=0))throw new Error("invalid size");return t=l,e=h,i},i.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?on(S1.call(u)):on(u),i):n},i.smooth=function(u){return arguments.length?(r=u?c:z6,i):r===c},i}function O6(t){return isFinite(t)?t:NaN}function wn(t,e){return t==null?!1:+t>=e}function As(t){return t==null||isNaN(t=+t)?-1/0:t}function Yf(t,e,n,r){const i=r-e,o=n-e,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?t:t+a-.5}function L6(t){return t[0]}function F6(t){return t[1]}function U6(){return 1}function B6(){var t=L6,e=F6,n=U6,r=960,i=500,o=20,a=2,s=o*3,c=r+s*2>>a,u=i+s*2>>a,l=on(20);function h(_){var v=new Float32Array(c*u),b=Math.pow(2,-a),w=-1;for(const T of _){var x=(t(T,++w,_)+s)*b,$=(e(T,w,_)+s)*b,E=+n(T,w,_);if(E&&x>=0&&x<c&&$>=0&&$<u){var I=Math.floor(x),S=Math.floor($),M=x-I-.5,N=$-S-.5;v[I+S*c]+=(1-M)*(1-N)*E,v[I+1+S*c]+=M*(1-N)*E,v[I+1+(S+1)*c]+=M*N*E,v[I+(S+1)*c]+=(1-M)*N*E}}return od({data:v,width:c,height:u},o*b),v}function f(_){var v=h(_),b=l(v),w=Math.pow(2,2*a);return Array.isArray(b)||(b=Rn(Number.MIN_VALUE,hi(v)/w,b)),xc().size([c,u]).thresholds(b.map(x=>x*w))(v).map((x,$)=>(x.value=+b[$],d(x)))}f.contours=function(_){var v=h(_),b=xc().size([c,u]),w=Math.pow(2,2*a),x=$=>{$=+$;var E=d(b.contour(v,$*w));return E.value=$,E};return Object.defineProperty(x,"max",{get:()=>hi(v)/w}),x};function d(_){return _.coordinates.forEach(g),_}function g(_){_.forEach(p)}function p(_){_.forEach(m)}function m(_){_[0]=_[0]*Math.pow(2,a)-s,_[1]=_[1]*Math.pow(2,a)-s}function y(){return s=o*3,c=r+s*2>>a,u=i+s*2>>a,f}return f.x=function(_){return arguments.length?(t=typeof _=="function"?_:on(+_),f):t},f.y=function(_){return arguments.length?(e=typeof _=="function"?_:on(+_),f):e},f.weight=function(_){return arguments.length?(n=typeof _=="function"?_:on(+_),f):n},f.size=function(_){if(!arguments.length)return[r,i];var v=+_[0],b=+_[1];if(!(v>=0&&b>=0))throw new Error("invalid size");return r=v,i=b,y()},f.cellSize=function(_){if(!arguments.length)return 1<<a;if(!((_=+_)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(_)/Math.LN2),y()},f.thresholds=function(_){return arguments.length?(l=typeof _=="function"?_:Array.isArray(_)?on(S1.call(_)):on(_),f):l},f.bandwidth=function(_){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*_*_+1)-1)/2,y()},f}const Je=11102230246251565e-32,Gt=134217729,q6=(3+8*Je)*Je;function Cs(t,e,n,r,i){let o,a,s,c,u=e[0],l=r[0],h=0,f=0;l>u==l>-u?(o=u,u=e[++h]):(o=l,l=r[++f]);let d=0;if(h<t&&f<n)for(l>u==l>-u?(a=u+o,s=o-(a-u),u=e[++h]):(a=l+o,s=o-(a-l),l=r[++f]),o=a,s!==0&&(i[d++]=s);h<t&&f<n;)l>u==l>-u?(a=o+u,c=a-o,s=o-(a-c)+(u-c),u=e[++h]):(a=o+l,c=a-o,s=o-(a-c)+(l-c),l=r[++f]),o=a,s!==0&&(i[d++]=s);for(;h<t;)a=o+u,c=a-o,s=o-(a-c)+(u-c),u=e[++h],o=a,s!==0&&(i[d++]=s);for(;f<n;)a=o+l,c=a-o,s=o-(a-c)+(l-c),l=r[++f],o=a,s!==0&&(i[d++]=s);return(o!==0||d===0)&&(i[d++]=o),d}function Y6(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function Ri(t){return new Float64Array(t)}const G6=(3+16*Je)*Je,H6=(2+12*Je)*Je,V6=(9+64*Je)*Je*Je,nr=Ri(4),Gf=Ri(8),Hf=Ri(12),Vf=Ri(16),Zt=Ri(4);function j6(t,e,n,r,i,o,a){let s,c,u,l,h,f,d,g,p,m,y,_,v,b,w,x,$,E;const I=t-i,S=n-i,M=e-o,N=r-o;b=I*N,f=Gt*I,d=f-(f-I),g=I-d,f=Gt*N,p=f-(f-N),m=N-p,w=g*m-(b-d*p-g*p-d*m),x=M*S,f=Gt*M,d=f-(f-M),g=M-d,f=Gt*S,p=f-(f-S),m=S-p,$=g*m-(x-d*p-g*p-d*m),y=w-$,h=w-y,nr[0]=w-(y+h)+(h-$),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-x,h=v-y,nr[1]=v-(y+h)+(h-x),E=_+y,h=E-_,nr[2]=_-(E-h)+(y-h),nr[3]=E;let T=Y6(4,nr),k=H6*a;if(T>=k||-T>=k||(h=t-I,s=t-(I+h)+(h-i),h=n-S,u=n-(S+h)+(h-i),h=e-M,c=e-(M+h)+(h-o),h=r-N,l=r-(N+h)+(h-o),s===0&&c===0&&u===0&&l===0)||(k=V6*a+q6*Math.abs(T),T+=I*l+N*s-(M*u+S*c),T>=k||-T>=k))return T;b=s*N,f=Gt*s,d=f-(f-s),g=s-d,f=Gt*N,p=f-(f-N),m=N-p,w=g*m-(b-d*p-g*p-d*m),x=c*S,f=Gt*c,d=f-(f-c),g=c-d,f=Gt*S,p=f-(f-S),m=S-p,$=g*m-(x-d*p-g*p-d*m),y=w-$,h=w-y,Zt[0]=w-(y+h)+(h-$),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-x,h=v-y,Zt[1]=v-(y+h)+(h-x),E=_+y,h=E-_,Zt[2]=_-(E-h)+(y-h),Zt[3]=E;const A=Cs(4,nr,4,Zt,Gf);b=I*l,f=Gt*I,d=f-(f-I),g=I-d,f=Gt*l,p=f-(f-l),m=l-p,w=g*m-(b-d*p-g*p-d*m),x=M*u,f=Gt*M,d=f-(f-M),g=M-d,f=Gt*u,p=f-(f-u),m=u-p,$=g*m-(x-d*p-g*p-d*m),y=w-$,h=w-y,Zt[0]=w-(y+h)+(h-$),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-x,h=v-y,Zt[1]=v-(y+h)+(h-x),E=_+y,h=E-_,Zt[2]=_-(E-h)+(y-h),Zt[3]=E;const C=Cs(A,Gf,4,Zt,Hf);b=s*l,f=Gt*s,d=f-(f-s),g=s-d,f=Gt*l,p=f-(f-l),m=l-p,w=g*m-(b-d*p-g*p-d*m),x=c*u,f=Gt*c,d=f-(f-c),g=c-d,f=Gt*u,p=f-(f-u),m=u-p,$=g*m-(x-d*p-g*p-d*m),y=w-$,h=w-y,Zt[0]=w-(y+h)+(h-$),_=b+y,h=_-b,v=b-(_-h)+(y-h),y=v-x,h=v-y,Zt[1]=v-(y+h)+(h-x),E=_+y,h=E-_,Zt[2]=_-(E-h)+(y-h),Zt[3]=E;const R=Cs(C,Hf,4,Zt,Vf);return Vf[R-1]}function Ki(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),c=a-s;if(a===0||s===0||a>0!=s>0)return c;const u=Math.abs(a+s);return Math.abs(c)>=G6*u?c:-j6(t,e,n,r,i,o,u)}const jf=Math.pow(2,-52),Zi=new Uint32Array(512);class Fo{static from(e,n=Q6,r=J6){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=e[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new Fo(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=e.length>>1;let s=1/0,c=1/0,u=-1/0,l=-1/0;for(let S=0;S<a;S++){const M=e[2*S],N=e[2*S+1];M<s&&(s=M),N<c&&(c=N),M>u&&(u=M),N>l&&(l=N),this._ids[S]=S}const h=(s+u)/2,f=(c+l)/2;let d=1/0,g,p,m;for(let S=0;S<a;S++){const M=Ns(h,f,e[2*S],e[2*S+1]);M<d&&(g=S,d=M)}const y=e[2*g],_=e[2*g+1];d=1/0;for(let S=0;S<a;S++){if(S===g)continue;const M=Ns(y,_,e[2*S],e[2*S+1]);M<d&&M>0&&(p=S,d=M)}let v=e[2*p],b=e[2*p+1],w=1/0;for(let S=0;S<a;S++){if(S===g||S===p)continue;const M=K6(y,_,v,b,e[2*S],e[2*S+1]);M<w&&(m=S,w=M)}let x=e[2*m],$=e[2*m+1];if(w===1/0){for(let N=0;N<a;N++)this._dists[N]=e[2*N]-e[0]||e[2*N+1]-e[1];sr(this._ids,this._dists,0,a-1);const S=new Uint32Array(a);let M=0;for(let N=0,T=-1/0;N<a;N++){const k=this._ids[N];this._dists[k]>T&&(S[M++]=k,T=this._dists[k])}this.hull=S.subarray(0,M),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Ki(y,_,v,b,x,$)<0){const S=p,M=v,N=b;p=m,v=x,b=$,m=S,x=M,$=N}const E=Z6(y,_,v,b,x,$);this._cx=E.x,this._cy=E.y;for(let S=0;S<a;S++)this._dists[S]=Ns(e[2*S],e[2*S+1],E.x,E.y);sr(this._ids,this._dists,0,a-1),this._hullStart=g;let I=3;r[g]=n[m]=p,r[p]=n[g]=m,r[m]=n[p]=g,i[g]=0,i[p]=1,i[m]=2,o.fill(-1),o[this._hashKey(y,_)]=g,o[this._hashKey(v,b)]=p,o[this._hashKey(x,$)]=m,this.trianglesLen=0,this._addTriangle(g,p,m,-1,-1,-1);for(let S=0,M,N;S<this._ids.length;S++){const T=this._ids[S],k=e[2*T],A=e[2*T+1];if(S>0&&Math.abs(k-M)<=jf&&Math.abs(A-N)<=jf||(M=k,N=A,T===g||T===p||T===m))continue;let C=0;for(let q=0,O=this._hashKey(k,A);q<this._hashSize&&(C=o[(O+q)%this._hashSize],!(C!==-1&&C!==r[C]));q++);C=n[C];let R=C,D;for(;D=r[R],Ki(k,A,e[2*R],e[2*R+1],e[2*D],e[2*D+1])>=0;)if(R=D,R===C){R=-1;break}if(R===-1)continue;let P=this._addTriangle(R,T,r[R],-1,-1,i[R]);i[T]=this._legalize(P+2),i[R]=P,I++;let B=r[R];for(;D=r[B],Ki(k,A,e[2*B],e[2*B+1],e[2*D],e[2*D+1])<0;)P=this._addTriangle(B,T,D,i[T],-1,i[B]),i[T]=this._legalize(P+2),r[B]=B,I--,B=D;if(R===C)for(;D=n[R],Ki(k,A,e[2*D],e[2*D+1],e[2*R],e[2*R+1])<0;)P=this._addTriangle(D,T,R,-1,i[R],i[D]),this._legalize(P+2),i[D]=P,r[R]=R,I--,R=D;this._hullStart=n[T]=R,r[R]=n[B]=T,r[T]=B,o[this._hashKey(k,A)]=T,o[this._hashKey(e[2*R],e[2*R+1])]=R}this.hull=new Uint32Array(I);for(let S=0,M=this._hullStart;S<I;S++)this.hull[S]=M,M=r[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(W6(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[e],c=e-e%3;if(a=c+(e+2)%3,s===-1){if(o===0)break;e=Zi[--o];continue}const u=s-s%3,l=c+(e+1)%3,h=u+(s+2)%3,f=n[a],d=n[e],g=n[l],p=n[h];if(X6(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*g],i[2*g+1],i[2*p],i[2*p+1])){n[e]=p,n[s]=f;const y=r[h];if(y===-1){let v=this._hullStart;do{if(this._hullTri[v]===h){this._hullTri[v]=e;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(e,y),this._link(s,r[a]),this._link(a,h);const _=u+(s+1)%3;o<Zi.length&&(Zi[o++]=_)}else{if(o===0)break;e=Zi[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function W6(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function Ns(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function X6(t,e,n,r,i,o,a,s){const c=t-a,u=e-s,l=n-a,h=r-s,f=i-a,d=o-s,g=c*c+u*u,p=l*l+h*h,m=f*f+d*d;return c*(h*m-p*d)-u*(l*m-p*f)+g*(l*d-h*f)<0}function K6(t,e,n,r,i,o){const a=n-t,s=r-e,c=i-t,u=o-e,l=a*a+s*s,h=c*c+u*u,f=.5/(a*u-s*c),d=(u*l-s*h)*f,g=(a*h-c*l)*f;return d*d+g*g}function Z6(t,e,n,r,i,o){const a=n-t,s=r-e,c=i-t,u=o-e,l=a*a+s*s,h=c*c+u*u,f=.5/(a*u-s*c),d=t+(u*l-s*h)*f,g=e+(a*h-c*l)*f;return{x:d,y:g}}function sr(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=t[i],a=e[o];let s=i-1;for(;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const i=n+r>>1;let o=n+1,a=r;Fr(t,i,o),e[t[n]]>e[t[r]]&&Fr(t,n,r),e[t[o]]>e[t[r]]&&Fr(t,o,r),e[t[n]]>e[t[o]]&&Fr(t,n,o);const s=t[o],c=e[s];for(;;){do o++;while(e[t[o]]<c);do a--;while(e[t[a]]>c);if(a<o)break;Fr(t,o,a)}t[n+1]=t[a],t[a]=s,r-o+1>=a-n?(sr(t,e,o,r),sr(t,e,n,a-1)):(sr(t,e,n,a-1),sr(t,e,o,r))}}function Fr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Q6(t){return t[0]}function J6(t){return t[1]}const Wf=1e-6;class $n{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Wf||Math.abs(this._y1-o)>Wf)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Mc{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class $1{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let p=0,m=0,y=r.length,_,v;p<y;p+=3,m+=2){const b=r[p]*2,w=r[p+1]*2,x=r[p+2]*2,$=e[b],E=e[b+1],I=e[w],S=e[w+1],M=e[x],N=e[x+1],T=I-$,k=S-E,A=M-$,C=N-E,R=(T*C-k*A)*2;if(Math.abs(R)<1e-9){if(o===void 0){o=a=0;for(const P of n)o+=e[P*2],a+=e[P*2+1];o/=n.length,a/=n.length}const D=1e9*Math.sign((o-$)*C-(a-E)*A);_=($+M)/2-D*C,v=(E+N)/2+D*A}else{const D=1/R,P=T*T+k*k,B=A*A+C*C;_=$+(C*P-k*B)*D,v=E+(T*B-A*P)*D}s[m]=_,s[m+1]=v}let c=n[n.length-1],u,l=c*4,h,f=e[2*c],d,g=e[2*c+1];i.fill(0);for(let p=0;p<n.length;++p)c=n[p],u=l,h=f,d=g,l=c*4,f=e[2*c],g=e[2*c+1],i[u+2]=i[l]=d-g,i[u+3]=i[l+1]=f-h}render(e){const n=e==null?e=new $n:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let l=0,h=r.length;l<h;++l){const f=r[l];if(f<l)continue;const d=Math.floor(l/3)*2,g=Math.floor(f/3)*2,p=a[d],m=a[d+1],y=a[g],_=a[g+1];this._renderSegment(p,m,y,_,e)}let c,u=o[o.length-1];for(let l=0;l<o.length;++l){c=u,u=o[l];const h=Math.floor(i[u]/3)*2,f=a[h],d=a[h+1],g=c*4,p=this._project(f,d,s[g+2],s[g+3]);p&&this._renderSegment(f,d,p[0],p[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new $n:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new $n:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new Mc;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let a;const s=this._regioncode(e,n),c=this._regioncode(r,i);s===0&&c===0?(o.moveTo(e,n),o.lineTo(r,i)):(a=this._clipSegment(e,n,r,i,s,c))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){t:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,c=i.length;s<c;s+=2)if(n[o]===i[s]&&n[o+1]===i[s+1]&&n[(o+2)%a]===i[(s+c-2)%c]&&n[(o+3)%a]===i[(s+c-1)%c]){yield r;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[e];if(a===-1)return null;const s=[];let c=a;do{const u=Math.floor(c/3);if(s.push(n[u*2],n[u*2+1]),c=c%3===2?c-2:c+1,o[c]!==e)break;c=i[c]}while(c!==a&&c!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){const r=n.length;let i=null,o,a,s=n[r-2],c=n[r-1],u,l=this._regioncode(s,c),h,f=0;for(let d=0;d<r;d+=2)if(o=s,a=c,s=n[d],c=n[d+1],u=l,l=this._regioncode(s,c),u===0&&l===0)h=f,f=0,i?i.push(s,c):i=[s,c];else{let g,p,m,y,_;if(u===0){if((g=this._clipSegment(o,a,s,c,u,l))===null)continue;[p,m,y,_]=g}else{if((g=this._clipSegment(s,c,o,a,l,u))===null)continue;[y,_,p,m]=g,h=f,f=this._edgecode(p,m),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(p,m):i=[p,m]}h=f,f=this._edgecode(y,_),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(y,_):i=[y,_]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(e,h,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,a){const s=o<a;for(s&&([e,n,r,i,o,a]=[r,i,e,n,a,o]);;){if(o===0&&a===0)return s?[r,i,e,n]:[e,n,r,i];if(o&a)return null;let c,u,l=o||a;l&8?(c=e+(r-e)*(this.ymax-n)/(i-n),u=this.ymax):l&4?(c=e+(r-e)*(this.ymin-n)/(i-n),u=this.ymin):l&2?(u=n+(i-n)*(this.xmax-e)/(r-e),c=this.xmax):(u=n+(i-n)*(this.xmin-e)/(r-e),c=this.xmin),o?(e=c,n=u,o=this._regioncode(e,n)):(r=c,i=u,a=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,a){let s=Array.from(n),c;if((c=this._project(s[0],s[1],r,i))&&s.unshift(c[0],c[1]),(c=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(c[0],c[1]),s=this._clipFinite(e,s))for(let u=0,l=s.length,h,f=this._edgecode(s[l-2],s[l-1]);u<l;u+=2)h=f,f=this._edgecode(s[u],s[u+1]),h&&f&&(u=this._edge(e,h,f,s,u),l=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,r,i,o){for(;n!==r;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(e,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(e,n,r,i){let o=1/0,a,s,c;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(c=this.ymin,s=e+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(c=this.ymax,s=e+(o=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<o&&(s=this.xmax,c=n+(o=a)*i)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<o&&(s=this.xmin,c=n+(o=a)*i)}return[s,c]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}}const t5=2*Math.PI,rr=Math.pow;function e5(t){return t[0]}function n5(t){return t[1]}function r5(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function i5(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Du{static from(e,n=e5,r=n5,i){return new Du("length"in e?o5(e,n,r,i):Float64Array.from(a5(e,n,r,i)))}constructor(e){this._delaunator=new Fo(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&r5(e)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const c=this.collinear[0],u=this.collinear[this.collinear.length-1],l=[n[2*c],n[2*c+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(l[3]-l[1],l[2]-l[0]);for(let f=0,d=n.length/2;f<d;++f){const g=i5(n[2*f],n[2*f+1],h);n[2*f]=g[0],n[2*f+1]=g[1]}this._delaunator=new Fo(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let c=0,u=r.length;c<u;++c){const l=o[c%3===2?c-2:c+1];(r[c]===-1||a[l]===-1)&&(a[l]=c)}for(let c=0,u=i.length;c<u;++c)s[i[c]]=c;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new $1(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const h=s.indexOf(e);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}const c=n[e];if(c===-1)return;let u=c,l=-1;do{if(yield l=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=o[u],u===-1){const h=r[(i[e]+1)%r.length];h!==l&&(yield h);return}}while(u!==c)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:c,points:u}=this;if(i[e]===-1||!u.length)return(e+1)%(u.length>>1);let l=e,h=rr(n-u[e*2],2)+rr(r-u[e*2+1],2);const f=i[e];let d=f;do{let g=c[d];const p=rr(n-u[g*2],2)+rr(r-u[g*2+1],2);if(p<h&&(h=p,l=g),d=d%3===2?d-2:d+1,c[d]!==e)break;if(d=s[d],d===-1){if(d=o[(a[e]+1)%o.length],d!==g&&rr(n-u[d*2],2)+rr(r-u[d*2+1],2)<h)return d;break}}while(d!==f);return l}render(e){const n=e==null?e=new $n:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const c=i[a];if(c<a)continue;const u=o[a]*2,l=o[c]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[l],r[l+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const r=e==null?e=new $n:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],c=i[o+1];e.moveTo(s+n,c),e.arc(s,c,n,0,t5)}return r&&r.value()}renderHull(e){const n=e==null?e=new $n:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;e.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const c=2*r[s];e.lineTo(i[c],i[c+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new Mc;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new $n:void 0,{points:i,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,c=o[e+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[c],i[c+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new Mc;return this.renderTriangle(e,n),n.value()}}function o5(t,e,n,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=t[a];o[a*2]=e.call(r,s,a,t),o[a*2+1]=n.call(r,s,a,t)}return o}function*a5(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}function s5(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,a=n.length,s,c=0,u=0;for(o=0;o<a;++o)s=n[o],c+=s.x,u+=s.y;for(c=(c/a-t)*r,u=(u/a-e)*r,o=0;o<a;++o)s=n[o],s.x-=c,s.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function c5(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return E1(this.cover(e,n),e,n,t)}function E1(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,a={data:r},s=t._x0,c=t._y0,u=t._x1,l=t._y1,h,f,d,g,p,m,y,_;if(!o)return t._root=a,t;for(;o.length;)if((p=e>=(h=(s+u)/2))?s=h:u=h,(m=n>=(f=(c+l)/2))?c=f:l=f,i=o,!(o=o[y=m<<1|p]))return i[y]=a,t;if(d=+t._x.call(null,o.data),g=+t._y.call(null,o.data),e===d&&n===g)return a.next=o,i?i[y]=a:t._root=a,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(p=e>=(h=(s+u)/2))?s=h:u=h,(m=n>=(f=(c+l)/2))?c=f:l=f;while((y=m<<1|p)===(_=(g>=f)<<1|d>=h));return i[_]=o,i[y]=a,t}function u5(t){var e,n,r=t.length,i,o,a=new Array(r),s=new Array(r),c=1/0,u=1/0,l=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=i,s[n]=o,i<c&&(c=i),i>l&&(l=i),o<u&&(u=o),o>h&&(h=o));if(c>l||u>h)return this;for(this.cover(c,u).cover(l,h),n=0;n<r;++n)E1(this,a[n],s[n],t[n]);return this}function l5(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a=i-n||1,s=this._root,c,u;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,c=new Array(4),c[u]=s,s=c,a*=2,u){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function f5(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function h5(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ee(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function d5(t,e,n){var r,i=this._x0,o=this._y0,a,s,c,u,l=this._x1,h=this._y1,f=[],d=this._root,g,p;for(d&&f.push(new ee(d,i,o,l,h)),n==null?n=1/0:(i=t-n,o=e-n,l=t+n,h=e+n,n*=n);g=f.pop();)if(!(!(d=g.node)||(a=g.x0)>l||(s=g.y0)>h||(c=g.x1)<i||(u=g.y1)<o))if(d.length){var m=(a+c)/2,y=(s+u)/2;f.push(new ee(d[3],m,y,c,u),new ee(d[2],a,y,m,u),new ee(d[1],m,s,c,y),new ee(d[0],a,s,m,y)),(p=(e>=y)<<1|t>=m)&&(g=f[f.length-1],f[f.length-1]=f[f.length-1-p],f[f.length-1-p]=g)}else{var _=t-+this._x.call(null,d.data),v=e-+this._y.call(null,d.data),b=_*_+v*v;if(b<n){var w=Math.sqrt(n=b);i=t-w,o=e-w,l=t+w,h=e+w,r=d.data}}return r}function g5(t){if(isNaN(l=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,a=this._x0,s=this._y0,c=this._x1,u=this._y1,l,h,f,d,g,p,m,y;if(!n)return this;if(n.length)for(;;){if((g=l>=(f=(a+c)/2))?a=f:c=f,(p=h>=(d=(s+u)/2))?s=d:u=d,e=n,!(n=n[m=p<<1|g]))return this;if(!n.length)break;(e[m+1&3]||e[m+2&3]||e[m+3&3])&&(r=e,y=m)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[m]=o:delete e[m],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function p5(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function m5(){return this._root}function y5(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function _5(t){var e=[],n,r=this._root,i,o,a,s,c;for(r&&e.push(new ee(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,a=n.y0,s=n.x1,c=n.y1)&&r.length){var u=(o+s)/2,l=(a+c)/2;(i=r[3])&&e.push(new ee(i,u,l,s,c)),(i=r[2])&&e.push(new ee(i,o,l,u,c)),(i=r[1])&&e.push(new ee(i,u,a,s,l)),(i=r[0])&&e.push(new ee(i,o,a,u,l))}return this}function b5(t){var e=[],n=[],r;for(this._root&&e.push(new ee(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,a=r.x0,s=r.y0,c=r.x1,u=r.y1,l=(a+c)/2,h=(s+u)/2;(o=i[0])&&e.push(new ee(o,a,s,l,h)),(o=i[1])&&e.push(new ee(o,l,s,c,h)),(o=i[2])&&e.push(new ee(o,a,h,l,u)),(o=i[3])&&e.push(new ee(o,l,h,c,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function v5(t){return t[0]}function w5(t){return arguments.length?(this._x=t,this):this._x}function x5(t){return t[1]}function M5(t){return arguments.length?(this._y=t,this):this._y}function Fa(t,e,n){var r=new zu(e??v5,n??x5,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function zu(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Xf(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var se=Fa.prototype=zu.prototype;se.copy=function(){var t=new zu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Xf(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Xf(r));return t};se.add=c5;se.addAll=u5;se.cover=l5;se.data=f5;se.extent=h5;se.find=d5;se.remove=g5;se.removeAll=p5;se.root=m5;se.size=y5;se.visit=_5;se.visitAfter=b5;se.x=w5;se.y=M5;function Nt(t){return function(){return t}}function un(t){return(t()-.5)*1e-6}function k5(t){return t.x+t.vx}function S5(t){return t.y+t.vy}function Ou(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=Nt(t==null?1:+t));function a(){for(var u,l=e.length,h,f,d,g,p,m,y=0;y<o;++y)for(h=Fa(e,k5,S5).visitAfter(s),u=0;u<l;++u)f=e[u],p=n[f.index],m=p*p,d=f.x+f.vx,g=f.y+f.vy,h.visit(_);function _(v,b,w,x,$){var E=v.data,I=v.r,S=p+I;if(E){if(E.index>f.index){var M=d-E.x-E.vx,N=g-E.y-E.vy,T=M*M+N*N;T<S*S&&(M===0&&(M=un(r),T+=M*M),N===0&&(N=un(r),T+=N*N),T=(S-(T=Math.sqrt(T)))/T*i,f.vx+=(M*=T)*(S=(I*=I)/(m+I)),f.vy+=(N*=T)*S,E.vx-=M*(S=1-S),E.vy-=N*S)}return}return b>d+S||x<d-S||w>g+S||$<g-S}}function s(u){if(u.data)return u.r=n[u.data.index];for(var l=u.r=0;l<4;++l)u[l]&&u[l].r>u.r&&(u.r=u[l].r)}function c(){if(e){var u,l=e.length,h;for(n=new Array(l),u=0;u<l;++u)h=e[u],n[h.index]=+t(h,u,e)}}return a.initialize=function(u,l){e=u,r=l,c()},a.iterations=function(u){return arguments.length?(o=+u,a):o},a.strength=function(u){return arguments.length?(i=+u,a):i},a.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Nt(+u),c(),a):t},a}function $5(t){return t.index}function Kf(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function E5(t){var e=$5,n=h,r,i=Nt(30),o,a,s,c,u,l=1;t==null&&(t=[]);function h(m){return 1/Math.min(s[m.source.index],s[m.target.index])}function f(m){for(var y=0,_=t.length;y<l;++y)for(var v=0,b,w,x,$,E,I,S;v<_;++v)b=t[v],w=b.source,x=b.target,$=x.x+x.vx-w.x-w.vx||un(u),E=x.y+x.vy-w.y-w.vy||un(u),I=Math.sqrt($*$+E*E),I=(I-o[v])/I*m*r[v],$*=I,E*=I,x.vx-=$*(S=c[v]),x.vy-=E*S,w.vx+=$*(S=1-S),w.vy+=E*S}function d(){if(a){var m,y=a.length,_=t.length,v=new Map(a.map((w,x)=>[e(w,x,a),w])),b;for(m=0,s=new Array(y);m<_;++m)b=t[m],b.index=m,typeof b.source!="object"&&(b.source=Kf(v,b.source)),typeof b.target!="object"&&(b.target=Kf(v,b.target)),s[b.source.index]=(s[b.source.index]||0)+1,s[b.target.index]=(s[b.target.index]||0)+1;for(m=0,c=new Array(_);m<_;++m)b=t[m],c[m]=s[b.source.index]/(s[b.source.index]+s[b.target.index]);r=new Array(_),g(),o=new Array(_),p()}}function g(){if(a)for(var m=0,y=t.length;m<y;++m)r[m]=+n(t[m],m,t)}function p(){if(a)for(var m=0,y=t.length;m<y;++m)o[m]=+i(t[m],m,t)}return f.initialize=function(m,y){a=m,u=y,d()},f.links=function(m){return arguments.length?(t=m,d(),f):t},f.id=function(m){return arguments.length?(e=m,f):e},f.iterations=function(m){return arguments.length?(l=+m,f):l},f.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Nt(+m),g(),f):n},f.distance=function(m){return arguments.length?(i=typeof m=="function"?m:Nt(+m),p(),f):i},f}const T5=1664525,A5=1013904223,Zf=4294967296;function C5(){let t=1;return()=>(t=(T5*t+A5)%Zf)/Zf}function N5(t){return t.x}function I5(t){return t.y}var R5=10,P5=Math.PI*(3-Math.sqrt(5));function Lu(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,c=Oa(h),u=Vn("tick","end"),l=C5();t==null&&(t=[]);function h(){f(),u.call("tick",e),n<r&&(c.stop(),u.call("end",e))}function f(p){var m,y=t.length,_;p===void 0&&(p=1);for(var v=0;v<p;++v)for(n+=(o-n)*i,s.forEach(function(b){b(n)}),m=0;m<y;++m)_=t[m],_.fx==null?_.x+=_.vx*=a:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=a:(_.y=_.fy,_.vy=0);return e}function d(){for(var p=0,m=t.length,y;p<m;++p){if(y=t[p],y.index=p,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var _=R5*Math.sqrt(.5+p),v=p*P5;y.x=_*Math.cos(v),y.y=_*Math.sin(v)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function g(p){return p.initialize&&p.initialize(t,l),p}return d(),e={tick:f,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(p){return arguments.length?(t=p,d(),s.forEach(g),e):t},alpha:function(p){return arguments.length?(n=+p,e):n},alphaMin:function(p){return arguments.length?(r=+p,e):r},alphaDecay:function(p){return arguments.length?(i=+p,e):+i},alphaTarget:function(p){return arguments.length?(o=+p,e):o},velocityDecay:function(p){return arguments.length?(a=1-p,e):1-a},randomSource:function(p){return arguments.length?(l=p,s.forEach(g),e):l},force:function(p,m){return arguments.length>1?(m==null?s.delete(p):s.set(p,g(m)),e):s.get(p)},find:function(p,m,y){var _=0,v=t.length,b,w,x,$,E;for(y==null?y=1/0:y*=y,_=0;_<v;++_)$=t[_],b=p-$.x,w=m-$.y,x=b*b+w*w,x<y&&(E=$,y=x);return E},on:function(p,m){return arguments.length>1?(u.on(p,m),e):u.on(p)}}}function T1(){var t,e,n,r,i=Nt(-30),o,a=1,s=1/0,c=.81;function u(d){var g,p=t.length,m=Fa(t,N5,I5).visitAfter(h);for(r=d,g=0;g<p;++g)e=t[g],m.visit(f)}function l(){if(t){var d,g=t.length,p;for(o=new Array(g),d=0;d<g;++d)p=t[d],o[p.index]=+i(p,d,t)}}function h(d){var g=0,p,m,y=0,_,v,b;if(d.length){for(_=v=b=0;b<4;++b)(p=d[b])&&(m=Math.abs(p.value))&&(g+=p.value,y+=m,_+=m*p.x,v+=m*p.y);d.x=_/y,d.y=v/y}else{p=d,p.x=p.data.x,p.y=p.data.y;do g+=o[p.data.index];while(p=p.next)}d.value=g}function f(d,g,p,m){if(!d.value)return!0;var y=d.x-e.x,_=d.y-e.y,v=m-g,b=y*y+_*_;if(v*v/c<b)return b<s&&(y===0&&(y=un(n),b+=y*y),_===0&&(_=un(n),b+=_*_),b<a&&(b=Math.sqrt(a*b)),e.vx+=y*d.value*r/b,e.vy+=_*d.value*r/b),!0;if(d.length||b>=s)return;(d.data!==e||d.next)&&(y===0&&(y=un(n),b+=y*y),_===0&&(_=un(n),b+=_*_),b<a&&(b=Math.sqrt(a*b)));do d.data!==e&&(v=o[d.data.index]*r/b,e.vx+=y*v,e.vy+=_*v);while(d=d.next)}return u.initialize=function(d,g){t=d,n=g,l()},u.strength=function(d){return arguments.length?(i=typeof d=="function"?d:Nt(+d),l(),u):i},u.distanceMin=function(d){return arguments.length?(a=d*d,u):Math.sqrt(a)},u.distanceMax=function(d){return arguments.length?(s=d*d,u):Math.sqrt(s)},u.theta=function(d){return arguments.length?(c=d*d,u):Math.sqrt(c)},u}function D5(t,e,n){var r,i=Nt(.1),o,a;typeof t!="function"&&(t=Nt(+t)),e==null&&(e=0),n==null&&(n=0);function s(u){for(var l=0,h=r.length;l<h;++l){var f=r[l],d=f.x-e||1e-6,g=f.y-n||1e-6,p=Math.sqrt(d*d+g*g),m=(a[l]-p)*o[l]*u/p;f.vx+=d*m,f.vy+=g*m}}function c(){if(r){var u,l=r.length;for(o=new Array(l),a=new Array(l),u=0;u<l;++u)a[u]=+t(r[u],u,r),o[u]=isNaN(a[u])?0:+i(r[u],u,r)}}return s.initialize=function(u){r=u,c()},s.strength=function(u){return arguments.length?(i=typeof u=="function"?u:Nt(+u),c(),s):i},s.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Nt(+u),c(),s):t},s.x=function(u){return arguments.length?(e=+u,s):e},s.y=function(u){return arguments.length?(n=+u,s):n},s}function z5(t){var e=Nt(.1),n,r,i;typeof t!="function"&&(t=Nt(t==null?0:+t));function o(s){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vx+=(i[c]-l.x)*r[c]*s}function a(){if(n){var s,c=n.length;for(r=new Array(c),i=new Array(c),s=0;s<c;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Nt(+s),a(),o):e},o.x=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(+s),a(),o):t},o}function O5(t){var e=Nt(.1),n,r,i;typeof t!="function"&&(t=Nt(t==null?0:+t));function o(s){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vy+=(i[c]-l.y)*r[c]*s}function a(){if(n){var s,c=n.length;for(r=new Array(c),i=new Array(c),s=0;s<c;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return o.initialize=function(s){n=s,a()},o.strength=function(s){return arguments.length?(e=typeof s=="function"?s:Nt(+s),a(),o):e},o.y=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(+s),a(),o):t},o}function L5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Uo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vr(t){return t=Uo(Math.abs(t)),t?t[1]:NaN}function F5(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function U5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var B5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wr(t){if(!(e=B5.exec(t)))throw new Error("invalid format: "+t);var e;return new Ua({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wr.prototype=Ua.prototype;function Ua(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ua.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q5(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var A1;function Y5(t,e){var n=Uo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(A1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Uo(t,Math.max(0,e+o-1))[0]}function Qf(t,e){var n=Uo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Jf={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:L5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Qf(t*100,e),r:Qf,s:Y5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function th(t){return t}var eh=Array.prototype.map,nh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function C1(t){var e=t.grouping===void 0||t.thousands===void 0?th:F5(eh.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?th:U5(eh.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=wr(h);var f=h.fill,d=h.align,g=h.sign,p=h.symbol,m=h.zero,y=h.width,_=h.comma,v=h.precision,b=h.trim,w=h.type;w==="n"?(_=!0,w="g"):Jf[w]||(v===void 0&&(v=12),b=!0,w="g"),(m||f==="0"&&d==="=")&&(m=!0,f="0",d="=");var x=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",$=p==="$"?r:/[%p]/.test(w)?a:"",E=Jf[w],I=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function S(M){var N=x,T=$,k,A,C;if(w==="c")T=E(M)+T,M="";else{M=+M;var R=M<0||1/M<0;if(M=isNaN(M)?c:E(Math.abs(M),v),b&&(M=q5(M)),R&&+M==0&&g!=="+"&&(R=!1),N=(R?g==="("?g:s:g==="-"||g==="("?"":g)+N,T=(w==="s"?nh[8+A1/3]:"")+T+(R&&g==="("?")":""),I){for(k=-1,A=M.length;++k<A;)if(C=M.charCodeAt(k),48>C||C>57){T=(C===46?i+M.slice(k+1):M.slice(k))+T,M=M.slice(0,k);break}}}_&&!m&&(M=e(M,1/0));var D=N.length+M.length+T.length,P=D<y?new Array(y-D+1).join(f):"";switch(_&&m&&(M=e(P+M,P.length?y-T.length:1/0),P=""),d){case"<":M=N+M+T+P;break;case"=":M=N+P+M+T;break;case"^":M=P.slice(0,D=P.length>>1)+N+M+T+P.slice(D);break;default:M=P+N+M+T;break}return o(M)}return S.toString=function(){return h+""},S}function l(h,f){var d=u((h=wr(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(vr(f)/3)))*3,p=Math.pow(10,-g),m=nh[8+g/3];return function(y){return d(p*y)+m}}return{format:u,formatPrefix:l}}var Qi,Ba,Fu;N1({thousands:",",grouping:[3],currency:["$",""]});function N1(t){return Qi=C1(t),Ba=Qi.format,Fu=Qi.formatPrefix,Qi}function I1(t){return Math.max(0,-vr(Math.abs(t)))}function R1(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vr(e)/3)))*3-vr(Math.abs(t)))}function P1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vr(e)-vr(t))+1}var J=1e-6,xi=1e-12,ht=Math.PI,At=ht/2,Bo=ht/4,ie=ht*2,vt=180/ht,tt=ht/180,dt=Math.abs,Ir=Math.atan,oe=Math.atan2,K=Math.cos,Ji=Math.ceil,D1=Math.exp,kc=Math.hypot,qo=Math.log,Is=Math.pow,V=Math.sin,xe=Math.sign||function(t){return t>0?1:t<0?-1:0},Dt=Math.sqrt,Uu=Math.tan;function z1(t){return t>1?0:t<-1?ht:Math.acos(t)}function ae(t){return t>1?At:t<-1?-At:Math.asin(t)}function rh(t){return(t=V(t/2))*t}function St(){}function Yo(t,e){t&&oh.hasOwnProperty(t.type)&&oh[t.type](t,e)}var ih={Feature:function(t,e){Yo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Yo(n[r].geometry,e)}},oh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Sc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Sc(n[r],e,0)},Polygon:function(t,e){ah(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ah(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Yo(n[r],e)}};function Sc(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function ah(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Sc(t[n],e,1);e.polygonEnd()}function Te(t,e){t&&ih.hasOwnProperty(t.type)?ih[t.type](t,e):Yo(t,e)}var Go=new It,Ho=new It,O1,L1,$c,Ec,Tc,Ue={point:St,lineStart:St,lineEnd:St,polygonStart:function(){Go=new It,Ue.lineStart=G5,Ue.lineEnd=H5},polygonEnd:function(){var t=+Go;Ho.add(t<0?ie+t:t),this.lineStart=this.lineEnd=this.point=St},sphere:function(){Ho.add(ie)}};function G5(){Ue.point=V5}function H5(){F1(O1,L1)}function V5(t,e){Ue.point=F1,O1=t,L1=e,t*=tt,e*=tt,$c=t,Ec=K(e=e/2+Bo),Tc=V(e)}function F1(t,e){t*=tt,e*=tt,e=e/2+Bo;var n=t-$c,r=n>=0?1:-1,i=r*n,o=K(e),a=V(e),s=Tc*a,c=Ec*o+s*K(i),u=s*r*V(i);Go.add(oe(u,c)),$c=t,Ec=o,Tc=a}function j5(t){return Ho=new It,Te(t,Ue),Ho*2}function Vo(t){return[oe(t[1],t[0]),ae(t[2])]}function Ln(t){var e=t[0],n=t[1],r=K(n);return[r*K(e),r*V(e),V(n)]}function to(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function xr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Rs(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function eo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function jo(t){var e=Dt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var kt,le,Tt,ge,Mn,U1,B1,hr,ii,an,tn,Xe={point:Ac,lineStart:sh,lineEnd:ch,polygonStart:function(){Xe.point=Y1,Xe.lineStart=W5,Xe.lineEnd=X5,ii=new It,Ue.polygonStart()},polygonEnd:function(){Ue.polygonEnd(),Xe.point=Ac,Xe.lineStart=sh,Xe.lineEnd=ch,Go<0?(kt=-(Tt=180),le=-(ge=90)):ii>J?ge=90:ii<-J&&(le=-90),tn[0]=kt,tn[1]=Tt},sphere:function(){kt=-(Tt=180),le=-(ge=90)}};function Ac(t,e){an.push(tn=[kt=t,Tt=t]),e<le&&(le=e),e>ge&&(ge=e)}function q1(t,e){var n=Ln([t*tt,e*tt]);if(hr){var r=xr(hr,n),i=[r[1],-r[0],0],o=xr(i,r);jo(o),o=Vo(o);var a=t-Mn,s=a>0?1:-1,c=o[0]*vt*s,u,l=dt(a)>180;l^(s*Mn<c&&c<s*t)?(u=o[1]*vt,u>ge&&(ge=u)):(c=(c+360)%360-180,l^(s*Mn<c&&c<s*t)?(u=-o[1]*vt,u<le&&(le=u)):(e<le&&(le=e),e>ge&&(ge=e))),l?t<Mn?he(kt,t)>he(kt,Tt)&&(Tt=t):he(t,Tt)>he(kt,Tt)&&(kt=t):Tt>=kt?(t<kt&&(kt=t),t>Tt&&(Tt=t)):t>Mn?he(kt,t)>he(kt,Tt)&&(Tt=t):he(t,Tt)>he(kt,Tt)&&(kt=t)}else an.push(tn=[kt=t,Tt=t]);e<le&&(le=e),e>ge&&(ge=e),hr=n,Mn=t}function sh(){Xe.point=q1}function ch(){tn[0]=kt,tn[1]=Tt,Xe.point=Ac,hr=null}function Y1(t,e){if(hr){var n=t-Mn;ii.add(dt(n)>180?n+(n>0?360:-360):n)}else U1=t,B1=e;Ue.point(t,e),q1(t,e)}function W5(){Ue.lineStart()}function X5(){Y1(U1,B1),Ue.lineEnd(),dt(ii)>J&&(kt=-(Tt=180)),tn[0]=kt,tn[1]=Tt,hr=null}function he(t,e){return(e-=t)<0?e+360:e}function K5(t,e){return t[0]-e[0]}function uh(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Z5(t){var e,n,r,i,o,a,s;if(ge=Tt=-(kt=le=1/0),an=[],Te(t,Xe),n=an.length){for(an.sort(K5),e=1,r=an[0],o=[r];e<n;++e)i=an[e],uh(r,i[0])||uh(r,i[1])?(he(r[0],i[1])>he(r[0],r[1])&&(r[1]=i[1]),he(i[0],r[1])>he(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=he(r[1],i[0]))>a&&(a=s,kt=i[0],Tt=r[1])}return an=tn=null,kt===1/0||le===1/0?[[NaN,NaN],[NaN,NaN]]:[[kt,le],[Tt,ge]]}var jr,Wo,Xo,Ko,Zo,Qo,Jo,ta,Cc,Nc,Ic,G1,H1,Qt,Jt,te,Ce={sphere:St,point:Bu,lineStart:lh,lineEnd:fh,polygonStart:function(){Ce.lineStart=t4,Ce.lineEnd=e4},polygonEnd:function(){Ce.lineStart=lh,Ce.lineEnd=fh}};function Bu(t,e){t*=tt,e*=tt;var n=K(e);Pi(n*K(t),n*V(t),V(e))}function Pi(t,e,n){++jr,Xo+=(t-Xo)/jr,Ko+=(e-Ko)/jr,Zo+=(n-Zo)/jr}function lh(){Ce.point=Q5}function Q5(t,e){t*=tt,e*=tt;var n=K(e);Qt=n*K(t),Jt=n*V(t),te=V(e),Ce.point=J5,Pi(Qt,Jt,te)}function J5(t,e){t*=tt,e*=tt;var n=K(e),r=n*K(t),i=n*V(t),o=V(e),a=oe(Dt((a=Jt*o-te*i)*a+(a=te*r-Qt*o)*a+(a=Qt*i-Jt*r)*a),Qt*r+Jt*i+te*o);Wo+=a,Qo+=a*(Qt+(Qt=r)),Jo+=a*(Jt+(Jt=i)),ta+=a*(te+(te=o)),Pi(Qt,Jt,te)}function fh(){Ce.point=Bu}function t4(){Ce.point=n4}function e4(){V1(G1,H1),Ce.point=Bu}function n4(t,e){G1=t,H1=e,t*=tt,e*=tt,Ce.point=V1;var n=K(e);Qt=n*K(t),Jt=n*V(t),te=V(e),Pi(Qt,Jt,te)}function V1(t,e){t*=tt,e*=tt;var n=K(e),r=n*K(t),i=n*V(t),o=V(e),a=Jt*o-te*i,s=te*r-Qt*o,c=Qt*i-Jt*r,u=kc(a,s,c),l=ae(u),h=u&&-l/u;Cc.add(h*a),Nc.add(h*s),Ic.add(h*c),Wo+=l,Qo+=l*(Qt+(Qt=r)),Jo+=l*(Jt+(Jt=i)),ta+=l*(te+(te=o)),Pi(Qt,Jt,te)}function r4(t){jr=Wo=Xo=Ko=Zo=Qo=Jo=ta=0,Cc=new It,Nc=new It,Ic=new It,Te(t,Ce);var e=+Cc,n=+Nc,r=+Ic,i=kc(e,n,r);return i<xi&&(e=Qo,n=Jo,r=ta,Wo<J&&(e=Xo,n=Ko,r=Zo),i=kc(e,n,r),i<xi)?[NaN,NaN]:[oe(n,e)*vt,ae(r/i)*vt]}function ir(t){return function(){return t}}function Rc(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Pc(t,e){return dt(t)>ht&&(t-=Math.round(t/ie)*ie),[t,e]}Pc.invert=Pc;function qu(t,e,n){return(t%=ie)?e||n?Rc(dh(t),gh(e,n)):dh(t):e||n?gh(e,n):Pc}function hh(t){return function(e,n){return e+=t,dt(e)>ht&&(e-=Math.round(e/ie)*ie),[e,n]}}function dh(t){var e=hh(t);return e.invert=hh(-t),e}function gh(t,e){var n=K(t),r=V(t),i=K(e),o=V(e);function a(s,c){var u=K(c),l=K(s)*u,h=V(s)*u,f=V(c),d=f*n+l*r;return[oe(h*i-d*o,l*n-f*r),ae(d*i+h*o)]}return a.invert=function(s,c){var u=K(c),l=K(s)*u,h=V(s)*u,f=V(c),d=f*i-h*o;return[oe(h*i+f*o,l*n+d*r),ae(d*n-l*r)]},a}function j1(t){t=qu(t[0]*tt,t[1]*tt,t.length>2?t[2]*tt:0);function e(n){return n=t(n[0]*tt,n[1]*tt),n[0]*=vt,n[1]*=vt,n}return e.invert=function(n){return n=t.invert(n[0]*tt,n[1]*tt),n[0]*=vt,n[1]*=vt,n},e}function W1(t,e,n,r,i,o){if(n){var a=K(e),s=V(e),c=r*n;i==null?(i=e+r*ie,o=e-c/2):(i=ph(a,i),o=ph(a,o),(r>0?i<o:i>o)&&(i+=r*ie));for(var u,l=i;r>0?l>o:l<o;l-=c)u=Vo([a,-s*K(l),-s*V(l)]),t.point(u[0],u[1])}}function ph(t,e){e=Ln(e),e[0]-=t,jo(e);var n=z1(-e[1]);return((-e[2]<0?-n:n)+ie-J)%ie}function i4(){var t=ir([0,0]),e=ir(90),n=ir(6),r,i,o={point:a};function a(c,u){r.push(c=i(c,u)),c[0]*=vt,c[1]*=vt}function s(){var c=t.apply(this,arguments),u=e.apply(this,arguments)*tt,l=n.apply(this,arguments)*tt;return r=[],i=qu(-c[0]*tt,-c[1]*tt,0).invert,W1(o,u,l,1),c={type:"Polygon",coordinates:[r]},r=i=null,c}return s.center=function(c){return arguments.length?(t=typeof c=="function"?c:ir([+c[0],+c[1]]),s):t},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:ir(+c),s):e},s.precision=function(c){return arguments.length?(n=typeof c=="function"?c:ir(+c),s):n},s}function X1(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:St,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function wo(t,e){return dt(t[0]-e[0])<J&&dt(t[1]-e[1])<J}function no(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function K1(t,e,n,r,i){var o=[],a=[],s,c;if(t.forEach(function(g){if(!((p=g.length-1)<=0)){var p,m=g[0],y=g[p],_;if(wo(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),s=0;s<p;++s)i.point((m=g[s])[0],m[1]);i.lineEnd();return}y[0]+=2*J}o.push(_=new no(m,g,null,!0)),a.push(_.o=new no(m,null,_,!1)),o.push(_=new no(y,g,null,!1)),a.push(_.o=new no(y,null,_,!0))}}),!!o.length){for(a.sort(e),mh(o),mh(a),s=0,c=a.length;s<c;++s)a[s].e=n=!n;for(var u=o[0],l,h;;){for(var f=u,d=!0;f.v;)if((f=f.n)===u)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,c=l.length;s<c;++s)i.point((h=l[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,s=l.length-1;s>=0;--s)i.point((h=l[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,l=f.z,d=!d}while(!f.v);i.lineEnd()}}}function mh(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ps(t){return dt(t[0])<=ht?t[0]:xe(t[0])*((dt(t[0])+ht)%ie-ht)}function Z1(t,e){var n=Ps(e),r=e[1],i=V(r),o=[V(n),-K(n),0],a=0,s=0,c=new It;i===1?r=At+J:i===-1&&(r=-At-J);for(var u=0,l=t.length;u<l;++u)if(f=(h=t[u]).length)for(var h,f,d=h[f-1],g=Ps(d),p=d[1]/2+Bo,m=V(p),y=K(p),_=0;_<f;++_,g=b,m=x,y=$,d=v){var v=h[_],b=Ps(v),w=v[1]/2+Bo,x=V(w),$=K(w),E=b-g,I=E>=0?1:-1,S=I*E,M=S>ht,N=m*x;if(c.add(oe(N*I*V(S),y*$+N*K(S))),a+=M?E+I*ie:E,M^g>=n^b>=n){var T=xr(Ln(d),Ln(v));jo(T);var k=xr(o,T);jo(k);var A=(M^E>=0?-1:1)*ae(k[2]);(r>A||r===A&&(T[0]||T[1]))&&(s+=M^E>=0?1:-1)}}return(a<-J||a<J&&c<-xi)^s&1}function Q1(t,e,n,r){return function(i){var o=e(i),a=X1(),s=e(a),c=!1,u,l,h,f={point:d,lineStart:p,lineEnd:m,polygonStart:function(){f.point=y,f.lineStart=_,f.lineEnd=v,l=[],u=[]},polygonEnd:function(){f.point=d,f.lineStart=p,f.lineEnd=m,l=pu(l);var b=Z1(u,r);l.length?(c||(i.polygonStart(),c=!0),K1(l,a4,b,n,i)):b&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(b,w){t(b,w)&&i.point(b,w)}function g(b,w){o.point(b,w)}function p(){f.point=g,o.lineStart()}function m(){f.point=d,o.lineEnd()}function y(b,w){h.push([b,w]),s.point(b,w)}function _(){s.lineStart(),h=[]}function v(){y(h[0][0],h[0][1]),s.lineEnd();var b=s.clean(),w=a.result(),x,$=w.length,E,I,S;if(h.pop(),u.push(h),h=null,!!$){if(b&1){if(I=w[0],(E=I.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<E;++x)i.point((S=I[x])[0],S[1]);i.lineEnd()}return}$>1&&b&2&&w.push(w.pop().concat(w.shift())),l.push(w.filter(o4))}}return f}}function o4(t){return t.length>1}function a4(t,e){return((t=t.x)[0]<0?t[1]-At-J:At-t[1])-((e=e.x)[0]<0?e[1]-At-J:At-e[1])}const Dc=Q1(function(){return!0},s4,u4,[-ht,-At]);function s4(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?ht:-ht,c=dt(o-e);dt(c-ht)<J?(t.point(e,n=(n+a)/2>0?At:-At),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&c>=ht&&(dt(e-r)<J&&(e-=r*J),dt(o-s)<J&&(o-=s*J),n=c4(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function c4(t,e,n,r){var i,o,a=V(t-n);return dt(a)>J?Ir((V(e)*(o=K(r))*V(n)-V(r)*(i=K(e))*V(t))/(i*o*a)):(e+r)/2}function u4(t,e,n,r){var i;if(t==null)i=n*At,r.point(-ht,i),r.point(0,i),r.point(ht,i),r.point(ht,0),r.point(ht,-i),r.point(0,-i),r.point(-ht,-i),r.point(-ht,0),r.point(-ht,i);else if(dt(t[0]-e[0])>J){var o=t[0]<e[0]?ht:-ht;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function J1(t){var e=K(t),n=6*tt,r=e>0,i=dt(e)>J;function o(l,h,f,d){W1(d,t,n,f,l,h)}function a(l,h){return K(l)*K(h)>e}function s(l){var h,f,d,g,p;return{lineStart:function(){g=d=!1,p=1},point:function(m,y){var _=[m,y],v,b=a(m,y),w=r?b?0:u(m,y):b?u(m+(m<0?ht:-ht),y):0;if(!h&&(g=d=b)&&l.lineStart(),b!==d&&(v=c(h,_),(!v||wo(h,v)||wo(_,v))&&(_[2]=1)),b!==d)p=0,b?(l.lineStart(),v=c(_,h),l.point(v[0],v[1])):(v=c(h,_),l.point(v[0],v[1],2),l.lineEnd()),h=v;else if(i&&h&&r^b){var x;!(w&f)&&(x=c(_,h,!0))&&(p=0,r?(l.lineStart(),l.point(x[0][0],x[0][1]),l.point(x[1][0],x[1][1]),l.lineEnd()):(l.point(x[1][0],x[1][1]),l.lineEnd(),l.lineStart(),l.point(x[0][0],x[0][1],3)))}b&&(!h||!wo(h,_))&&l.point(_[0],_[1]),h=_,d=b,f=w},lineEnd:function(){d&&l.lineEnd(),h=null},clean:function(){return p|(g&&d)<<1}}}function c(l,h,f){var d=Ln(l),g=Ln(h),p=[1,0,0],m=xr(d,g),y=to(m,m),_=m[0],v=y-_*_;if(!v)return!f&&l;var b=e*y/v,w=-e*_/v,x=xr(p,m),$=eo(p,b),E=eo(m,w);Rs($,E);var I=x,S=to($,I),M=to(I,I),N=S*S-M*(to($,$)-1);if(!(N<0)){var T=Dt(N),k=eo(I,(-S-T)/M);if(Rs(k,$),k=Vo(k),!f)return k;var A=l[0],C=h[0],R=l[1],D=h[1],P;C<A&&(P=A,A=C,C=P);var B=C-A,q=dt(B-ht)<J,O=q||B<J;if(!q&&D<R&&(P=R,R=D,D=P),O?q?R+D>0^k[1]<(dt(k[0]-A)<J?R:D):R<=k[1]&&k[1]<=D:B>ht^(A<=k[0]&&k[0]<=C)){var Z=eo(I,(-S+T)/M);return Rs(Z,$),[k,Vo(Z)]}}}function u(l,h){var f=r?t:ht-t,d=0;return l<-f?d|=1:l>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return Q1(a,s,o,r?[0,-t]:[-ht,t-ht])}function l4(t,e,n,r,i,o){var a=t[0],s=t[1],c=e[0],u=e[1],l=0,h=1,f=c-a,d=u-s,g;if(g=n-a,!(!f&&g>0)){if(g/=f,f<0){if(g<l)return;g<h&&(h=g)}else if(f>0){if(g>h)return;g>l&&(l=g)}if(g=i-a,!(!f&&g<0)){if(g/=f,f<0){if(g>h)return;g>l&&(l=g)}else if(f>0){if(g<l)return;g<h&&(h=g)}if(g=r-s,!(!d&&g>0)){if(g/=d,d<0){if(g<l)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>l&&(l=g)}if(g=o-s,!(!d&&g<0)){if(g/=d,d<0){if(g>h)return;g>l&&(l=g)}else if(d>0){if(g<l)return;g<h&&(h=g)}return l>0&&(t[0]=a+l*f,t[1]=s+l*d),h<1&&(e[0]=a+h*f,e[1]=s+h*d),!0}}}}}var Wr=1e9,ro=-Wr;function qa(t,e,n,r){function i(u,l){return t<=u&&u<=n&&e<=l&&l<=r}function o(u,l,h,f){var d=0,g=0;if(u==null||(d=a(u,h))!==(g=a(l,h))||c(u,l)<0^h>0)do f.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==g);else f.point(l[0],l[1])}function a(u,l){return dt(u[0]-t)<J?l>0?0:3:dt(u[0]-n)<J?l>0?2:1:dt(u[1]-e)<J?l>0?1:0:l>0?3:2}function s(u,l){return c(u.x,l.x)}function c(u,l){var h=a(u,1),f=a(l,1);return h!==f?h-f:h===0?l[1]-u[1]:h===1?u[0]-l[0]:h===2?u[1]-l[1]:l[0]-u[0]}return function(u){var l=u,h=X1(),f,d,g,p,m,y,_,v,b,w,x,$={point:E,lineStart:N,lineEnd:T,polygonStart:S,polygonEnd:M};function E(A,C){i(A,C)&&l.point(A,C)}function I(){for(var A=0,C=0,R=d.length;C<R;++C)for(var D=d[C],P=1,B=D.length,q=D[0],O,Z,ot=q[0],rt=q[1];P<B;++P)O=ot,Z=rt,q=D[P],ot=q[0],rt=q[1],Z<=r?rt>r&&(ot-O)*(r-Z)>(rt-Z)*(t-O)&&++A:rt<=r&&(ot-O)*(r-Z)<(rt-Z)*(t-O)&&--A;return A}function S(){l=h,f=[],d=[],x=!0}function M(){var A=I(),C=x&&A,R=(f=pu(f)).length;(C||R)&&(u.polygonStart(),C&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),R&&K1(f,s,A,o,u),u.polygonEnd()),l=u,f=d=g=null}function N(){$.point=k,d&&d.push(g=[]),w=!0,b=!1,_=v=NaN}function T(){f&&(k(p,m),y&&b&&h.rejoin(),f.push(h.result())),$.point=E,b&&l.lineEnd()}function k(A,C){var R=i(A,C);if(d&&g.push([A,C]),w)p=A,m=C,y=R,w=!1,R&&(l.lineStart(),l.point(A,C));else if(R&&b)l.point(A,C);else{var D=[_=Math.max(ro,Math.min(Wr,_)),v=Math.max(ro,Math.min(Wr,v))],P=[A=Math.max(ro,Math.min(Wr,A)),C=Math.max(ro,Math.min(Wr,C))];l4(D,P,t,e,n,r)?(b||(l.lineStart(),l.point(D[0],D[1])),l.point(P[0],P[1]),R||l.lineEnd(),x=!1):R&&(l.lineStart(),l.point(A,C),x=!1)}_=A,v=C,b=R}return $}}function f4(){var t=0,e=0,n=960,r=500,i,o,a;return a={stream:function(s){return i&&o===s?i:i=qa(t,e,n,r)(o=s)},extent:function(s){return arguments.length?(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1],i=o=null,a):[[t,e],[n,r]]}}}var zc,Oc,xo,Mo,Mr={sphere:St,point:St,lineStart:h4,lineEnd:St,polygonStart:St,polygonEnd:St};function h4(){Mr.point=g4,Mr.lineEnd=d4}function d4(){Mr.point=Mr.lineEnd=St}function g4(t,e){t*=tt,e*=tt,Oc=t,xo=V(e),Mo=K(e),Mr.point=p4}function p4(t,e){t*=tt,e*=tt;var n=V(e),r=K(e),i=dt(t-Oc),o=K(i),a=V(i),s=r*a,c=Mo*n-xo*r*o,u=xo*n+Mo*r*o;zc.add(oe(Dt(s*s+c*c),u)),Oc=t,xo=n,Mo=r}function tg(t){return zc=new It,Te(t,Mr),+zc}var Lc=[null,null],m4={type:"LineString",coordinates:Lc};function ea(t,e){return Lc[0]=t,Lc[1]=e,tg(m4)}var yh={Feature:function(t,e){return na(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(na(n[r].geometry,e))return!0;return!1}},_h={Sphere:function(){return!0},Point:function(t,e){return bh(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(bh(n[r],e))return!0;return!1},LineString:function(t,e){return vh(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(vh(n[r],e))return!0;return!1},Polygon:function(t,e){return wh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(wh(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(na(n[r],e))return!0;return!1}};function na(t,e){return t&&_h.hasOwnProperty(t.type)?_h[t.type](t,e):!1}function bh(t,e){return ea(t,e)===0}function vh(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(r=ea(t[o],e),r===0||o>0&&(i=ea(t[o],t[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<xi*i))return!0;n=r}return!1}function wh(t,e){return!!Z1(t.map(y4),eg(e))}function y4(t){return t=t.map(eg),t.pop(),t}function eg(t){return[t[0]*tt,t[1]*tt]}function _4(t,e){return(t&&yh.hasOwnProperty(t.type)?yh[t.type]:na)(t,e)}function xh(t,e,n){var r=cn(t,e-J,n).concat(e);return function(i){return r.map(function(o){return[i,o]})}}function Mh(t,e,n){var r=cn(t,e-J,n).concat(e);return function(i){return r.map(function(o){return[o,i]})}}function ng(){var t,e,n,r,i,o,a,s,c=10,u=c,l=90,h=360,f,d,g,p,m=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return cn(Ji(r/l)*l,n,l).map(g).concat(cn(Ji(s/h)*h,a,h).map(p)).concat(cn(Ji(e/c)*c,t,c).filter(function(v){return dt(v%l)>J}).map(f)).concat(cn(Ji(o/u)*u,i,u).filter(function(v){return dt(v%h)>J}).map(d))}return y.lines=function(){return _().map(function(v){return{type:"LineString",coordinates:v}})},y.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(p(a).slice(1),g(n).reverse().slice(1),p(s).reverse().slice(1))]}},y.extent=function(v){return arguments.length?y.extentMajor(v).extentMinor(v):y.extentMinor()},y.extentMajor=function(v){return arguments.length?(r=+v[0][0],n=+v[1][0],s=+v[0][1],a=+v[1][1],r>n&&(v=r,r=n,n=v),s>a&&(v=s,s=a,a=v),y.precision(m)):[[r,s],[n,a]]},y.extentMinor=function(v){return arguments.length?(e=+v[0][0],t=+v[1][0],o=+v[0][1],i=+v[1][1],e>t&&(v=e,e=t,t=v),o>i&&(v=o,o=i,i=v),y.precision(m)):[[e,o],[t,i]]},y.step=function(v){return arguments.length?y.stepMajor(v).stepMinor(v):y.stepMinor()},y.stepMajor=function(v){return arguments.length?(l=+v[0],h=+v[1],y):[l,h]},y.stepMinor=function(v){return arguments.length?(c=+v[0],u=+v[1],y):[c,u]},y.precision=function(v){return arguments.length?(m=+v,f=xh(o,i,90),d=Mh(e,t,m),g=xh(s,a,90),p=Mh(r,n,m),y):m},y.extentMajor([[-180,-90+J],[180,90-J]]).extentMinor([[-180,-80-J],[180,80+J]])}function b4(){return ng()()}function v4(t,e){var n=t[0]*tt,r=t[1]*tt,i=e[0]*tt,o=e[1]*tt,a=K(r),s=V(r),c=K(o),u=V(o),l=a*K(n),h=a*V(n),f=c*K(i),d=c*V(i),g=2*ae(Dt(rh(o-r)+a*c*rh(i-n))),p=V(g),m=g?function(y){var _=V(y*=g)/p,v=V(g-y)/p,b=v*l+_*f,w=v*h+_*d,x=v*s+_*u;return[oe(w,b)*vt,oe(x,Dt(b*b+w*w))*vt]}:function(){return[n*vt,r*vt]};return m.distance=g,m}const Mi=t=>t;var Ds=new It,Fc=new It,rg,ig,Uc,Bc,sn={point:St,lineStart:St,lineEnd:St,polygonStart:function(){sn.lineStart=w4,sn.lineEnd=M4},polygonEnd:function(){sn.lineStart=sn.lineEnd=sn.point=St,Ds.add(dt(Fc)),Fc=new It},result:function(){var t=Ds/2;return Ds=new It,t}};function w4(){sn.point=x4}function x4(t,e){sn.point=og,rg=Uc=t,ig=Bc=e}function og(t,e){Fc.add(Bc*t-Uc*e),Uc=t,Bc=e}function M4(){og(rg,ig)}const kh=sn;var kr=1/0,ra=kr,ki=-kr,ia=ki,k4={point:S4,lineStart:St,lineEnd:St,polygonStart:St,polygonEnd:St,result:function(){var t=[[kr,ra],[ki,ia]];return ki=ia=-(ra=kr=1/0),t}};function S4(t,e){t<kr&&(kr=t),t>ki&&(ki=t),e<ra&&(ra=e),e>ia&&(ia=e)}const oa=k4;var qc=0,Yc=0,Xr=0,aa=0,sa=0,cr=0,Gc=0,Hc=0,Kr=0,ag,sg,Pe,De,Ae={point:Fn,lineStart:Sh,lineEnd:$h,polygonStart:function(){Ae.lineStart=T4,Ae.lineEnd=A4},polygonEnd:function(){Ae.point=Fn,Ae.lineStart=Sh,Ae.lineEnd=$h},result:function(){var t=Kr?[Gc/Kr,Hc/Kr]:cr?[aa/cr,sa/cr]:Xr?[qc/Xr,Yc/Xr]:[NaN,NaN];return qc=Yc=Xr=aa=sa=cr=Gc=Hc=Kr=0,t}};function Fn(t,e){qc+=t,Yc+=e,++Xr}function Sh(){Ae.point=$4}function $4(t,e){Ae.point=E4,Fn(Pe=t,De=e)}function E4(t,e){var n=t-Pe,r=e-De,i=Dt(n*n+r*r);aa+=i*(Pe+t)/2,sa+=i*(De+e)/2,cr+=i,Fn(Pe=t,De=e)}function $h(){Ae.point=Fn}function T4(){Ae.point=C4}function A4(){cg(ag,sg)}function C4(t,e){Ae.point=cg,Fn(ag=Pe=t,sg=De=e)}function cg(t,e){var n=t-Pe,r=e-De,i=Dt(n*n+r*r);aa+=i*(Pe+t)/2,sa+=i*(De+e)/2,cr+=i,i=De*t-Pe*e,Gc+=i*(Pe+t),Hc+=i*(De+e),Kr+=i*3,Fn(Pe=t,De=e)}const Eh=Ae;function ug(t){this._context=t}ug.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ie);break}}},result:St};var Vc=new It,zs,lg,fg,Zr,Qr,ca={point:St,lineStart:function(){ca.point=N4},lineEnd:function(){zs&&hg(lg,fg),ca.point=St},polygonStart:function(){zs=!0},polygonEnd:function(){zs=null},result:function(){var t=+Vc;return Vc=new It,t}};function N4(t,e){ca.point=hg,lg=Zr=t,fg=Qr=e}function hg(t,e){Zr-=t,Qr-=e,Vc.add(Dt(Zr*Zr+Qr*Qr)),Zr=t,Qr=e}const Th=ca;let Ah,ua,Ch,Nh;class Ih{constructor(e){this._append=e==null?dg:I4(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Ch||this._append!==ua){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Ch=r,ua=this._append,Nh=this._,this._=i}this._+=Nh;break}}}result(){const e=this._;return this._="",e.length?e:null}}function dg(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function I4(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return dg;if(e!==Ah){const n=10**e;Ah=e,ua=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return ua}function R4(t,e){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Te(s,i(o))),o.result()}return a.area=function(s){return Te(s,i(kh)),kh.result()},a.measure=function(s){return Te(s,i(Th)),Th.result()},a.bounds=function(s){return Te(s,i(oa)),oa.result()},a.centroid=function(s){return Te(s,i(Eh)),Eh.result()},a.projection=function(s){return arguments.length?(i=s==null?(t=null,Mi):(t=s).stream,a):t},a.context=function(s){return arguments.length?(o=s==null?(e=null,new Ih(n)):new ug(e=s),typeof r!="function"&&o.pointRadius(r),a):e},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const c=Math.floor(s);if(!(c>=0))throw new RangeError(`invalid digits: ${s}`);n=c}return e===null&&(o=new Ih(n)),a},a.projection(t).digits(n).context(e)}function P4(t){return{stream:Di(t)}}function Di(t){return function(e){var n=new jc;for(var r in t)n[r]=t[r];return n.stream=e,n}}function jc(){}jc.prototype={constructor:jc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Yu(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Te(n,t.stream(oa)),e(oa.result()),r!=null&&t.clipExtent(r),t}function Ya(t,e,n){return Yu(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,c])},n)}function Gu(t,e,n){return Ya(t,[[0,0],e],n)}function Hu(t,e,n){return Yu(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];t.scale(150*o).translate([a,s])},n)}function Vu(t,e,n){return Yu(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,s])},n)}var Rh=16,D4=K(30*tt);function Ph(t,e){return+e?O4(t,e):z4(t)}function z4(t){return Di({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function O4(t,e){function n(r,i,o,a,s,c,u,l,h,f,d,g,p,m){var y=u-r,_=l-i,v=y*y+_*_;if(v>4*e&&p--){var b=a+f,w=s+d,x=c+g,$=Dt(b*b+w*w+x*x),E=ae(x/=$),I=dt(dt(x)-1)<J||dt(o-h)<J?(o+h)/2:oe(w,b),S=t(I,E),M=S[0],N=S[1],T=M-r,k=N-i,A=_*T-y*k;(A*A/v>e||dt((y*T+_*k)/v-.5)>.3||a*f+s*d+c*g<D4)&&(n(r,i,o,a,s,c,M,N,I,b/=$,w/=$,x,p,m),m.point(M,N),n(M,N,I,b,w,x,u,l,h,f,d,g,p,m))}}return function(r){var i,o,a,s,c,u,l,h,f,d,g,p,m={point:y,lineStart:_,lineEnd:b,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=_}};function y(E,I){E=t(E,I),r.point(E[0],E[1])}function _(){h=NaN,m.point=v,r.lineStart()}function v(E,I){var S=Ln([E,I]),M=t(E,I);n(h,f,l,d,g,p,h=M[0],f=M[1],l=E,d=S[0],g=S[1],p=S[2],Rh,r),r.point(h,f)}function b(){m.point=y,r.lineEnd()}function w(){_(),m.point=x,m.lineEnd=$}function x(E,I){v(i=E,I),o=h,a=f,s=d,c=g,u=p,m.point=v}function $(){n(h,f,l,d,g,p,o,a,i,s,c,u,Rh,r),m.lineEnd=b,b()}return m}}var L4=Di({point:function(t,e){this.stream.point(t*tt,e*tt)}});function F4(t){return Di({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function U4(t,e,n,r,i){function o(a,s){return a*=r,s*=i,[e+t*a,n-t*s]}return o.invert=function(a,s){return[(a-e)/t*r,(n-s)/t*i]},o}function Dh(t,e,n,r,i,o){if(!o)return U4(t,e,n,r,i);var a=K(o),s=V(o),c=a*t,u=s*t,l=a/t,h=s/t,f=(s*n-a*e)/t,d=(s*e+a*n)/t;function g(p,m){return p*=r,m*=i,[c*p-u*m+e,n-u*p-c*m]}return g.invert=function(p,m){return[r*(l*p-h*m+f),i*(d-h*p-l*m)]},g}function Ge(t){return ju(function(){return t})()}function ju(t){var e,n=150,r=480,i=250,o=0,a=0,s=0,c=0,u=0,l,h=0,f=1,d=1,g=null,p=Dc,m=null,y,_,v,b=Mi,w=.5,x,$,E,I,S;function M(A){return E(A[0]*tt,A[1]*tt)}function N(A){return A=E.invert(A[0],A[1]),A&&[A[0]*vt,A[1]*vt]}M.stream=function(A){return I&&S===A?I:I=L4(F4(l)(p(x(b(S=A)))))},M.preclip=function(A){return arguments.length?(p=A,g=void 0,k()):p},M.postclip=function(A){return arguments.length?(b=A,m=y=_=v=null,k()):b},M.clipAngle=function(A){return arguments.length?(p=+A?J1(g=A*tt):(g=null,Dc),k()):g*vt},M.clipExtent=function(A){return arguments.length?(b=A==null?(m=y=_=v=null,Mi):qa(m=+A[0][0],y=+A[0][1],_=+A[1][0],v=+A[1][1]),k()):m==null?null:[[m,y],[_,v]]},M.scale=function(A){return arguments.length?(n=+A,T()):n},M.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],T()):[r,i]},M.center=function(A){return arguments.length?(o=A[0]%360*tt,a=A[1]%360*tt,T()):[o*vt,a*vt]},M.rotate=function(A){return arguments.length?(s=A[0]%360*tt,c=A[1]%360*tt,u=A.length>2?A[2]%360*tt:0,T()):[s*vt,c*vt,u*vt]},M.angle=function(A){return arguments.length?(h=A%360*tt,T()):h*vt},M.reflectX=function(A){return arguments.length?(f=A?-1:1,T()):f<0},M.reflectY=function(A){return arguments.length?(d=A?-1:1,T()):d<0},M.precision=function(A){return arguments.length?(x=Ph($,w=A*A),k()):Dt(w)},M.fitExtent=function(A,C){return Ya(M,A,C)},M.fitSize=function(A,C){return Gu(M,A,C)},M.fitWidth=function(A,C){return Hu(M,A,C)},M.fitHeight=function(A,C){return Vu(M,A,C)};function T(){var A=Dh(n,0,0,f,d,h).apply(null,e(o,a)),C=Dh(n,r-A[0],i-A[1],f,d,h);return l=qu(s,c,u),$=Rc(e,C),E=Rc(l,$),x=Ph($,w),k()}function k(){return I=S=null,M}return function(){return e=t.apply(this,arguments),M.invert=e.invert&&N,T()}}function Wu(t){var e=0,n=ht/3,r=ju(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*tt,n=o[1]*tt):[e*vt,n*vt]},i}function B4(t){var e=K(t);function n(r,i){return[r*e,V(i)/e]}return n.invert=function(r,i){return[r/e,ae(i*e)]},n}function gg(t,e){var n=V(t),r=(n+V(e))/2;if(dt(r)<J)return B4(t);var i=1+n*(2*r-n),o=Dt(i)/r;function a(s,c){var u=Dt(i-2*r*V(c))/r;return[u*V(s*=r),o-u*K(s)]}return a.invert=function(s,c){var u=o-c,l=oe(s,dt(u))*xe(u);return u*r<0&&(l-=ht*xe(s)*xe(u)),[l/r,ae((i-(s*s+u*u)*r*r)/(2*r))]},a}function la(){return Wu(gg).scale(155.424).center([0,33.6442])}function pg(){return la().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function q4(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Y4(){var t,e,n=pg(),r,i=la().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=la().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,c,u={point:function(f,d){c=[f,d]}};function l(f){var d=f[0],g=f[1];return c=null,r.point(d,g),c||(o.point(d,g),c)||(s.point(d,g),c)}l.invert=function(f){var d=n.scale(),g=n.translate(),p=(f[0]-g[0])/d,m=(f[1]-g[1])/d;return(m>=.12&&m<.234&&p>=-.425&&p<-.214?i:m>=.166&&m<.234&&p>=-.214&&p<-.115?a:n).invert(f)},l.stream=function(f){return t&&e===f?t:t=q4([n.stream(e=f),i.stream(f),a.stream(f)])},l.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),a.precision(f),h()):n.precision()},l.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),a.scale(f),l.translate(n.translate())):n.scale()},l.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),g=+f[0],p=+f[1];return r=n.translate(f).clipExtent([[g-.455*d,p-.238*d],[g+.455*d,p+.238*d]]).stream(u),o=i.translate([g-.307*d,p+.201*d]).clipExtent([[g-.425*d+J,p+.12*d+J],[g-.214*d-J,p+.234*d-J]]).stream(u),s=a.translate([g-.205*d,p+.212*d]).clipExtent([[g-.214*d+J,p+.166*d+J],[g-.115*d-J,p+.234*d-J]]).stream(u),h()},l.fitExtent=function(f,d){return Ya(l,f,d)},l.fitSize=function(f,d){return Gu(l,f,d)},l.fitWidth=function(f,d){return Hu(l,f,d)},l.fitHeight=function(f,d){return Vu(l,f,d)};function h(){return t=e=null,l}return l.scale(1070)}function mg(t){return function(e,n){var r=K(e),i=K(n),o=t(r*i);return o===1/0?[2,0]:[o*i*V(e),o*V(n)]}}function zi(t){return function(e,n){var r=Dt(e*e+n*n),i=t(r),o=V(i),a=K(i);return[oe(e*o,r*a),ae(r&&n*o/r)]}}var Xu=mg(function(t){return Dt(2/(1+t))});Xu.invert=zi(function(t){return 2*ae(t/2)});function G4(){return Ge(Xu).scale(124.75).clipAngle(180-.001)}var Ku=mg(function(t){return(t=z1(t))&&t/V(t)});Ku.invert=zi(function(t){return t});function H4(){return Ge(Ku).scale(79.4188).clipAngle(180-.001)}function Oi(t,e){return[t,qo(Uu((At+e)/2))]}Oi.invert=function(t,e){return[t,2*Ir(D1(e))-At]};function V4(){return yg(Oi).scale(961/ie)}function yg(t){var e=Ge(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,s,c,u;e.scale=function(h){return arguments.length?(r(h),l()):r()},e.translate=function(h){return arguments.length?(i(h),l()):i()},e.center=function(h){return arguments.length?(n(h),l()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=s=c=u=null:(a=+h[0][0],s=+h[0][1],c=+h[1][0],u=+h[1][1]),l()):a==null?null:[[a,s],[c,u]]};function l(){var h=ht*r(),f=e(j1(e.rotate()).invert([0,0]));return o(a==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:t===Oi?[[Math.max(f[0]-h,a),s],[Math.min(f[0]+h,c),u]]:[[a,Math.max(f[1]-h,s)],[c,Math.min(f[1]+h,u)]])}return l()}function io(t){return Uu((At+t)/2)}function _g(t,e){var n=K(t),r=t===e?V(t):qo(n/K(e))/qo(io(e)/io(t)),i=n*Is(io(t),r)/r;if(!r)return Oi;function o(a,s){i>0?s<-At+J&&(s=-At+J):s>At-J&&(s=At-J);var c=i/Is(io(s),r);return[c*V(r*a),i-c*K(r*a)]}return o.invert=function(a,s){var c=i-s,u=xe(r)*Dt(a*a+c*c),l=oe(a,dt(c))*xe(c);return c*r<0&&(l-=ht*xe(a)*xe(c)),[l/r,2*Ir(Is(i/u,1/r))-At]},o}function j4(){return Wu(_g).scale(109.5).parallels([30,30])}function Si(t,e){return[t,e]}Si.invert=Si;function W4(){return Ge(Si).scale(152.63)}function bg(t,e){var n=K(t),r=t===e?V(t):(n-K(e))/(e-t),i=n/r+t;if(dt(r)<J)return Si;function o(a,s){var c=i-s,u=r*a;return[c*V(u),i-c*K(u)]}return o.invert=function(a,s){var c=i-s,u=oe(a,dt(c))*xe(c);return c*r<0&&(u-=ht*xe(a)*xe(c)),[u/r,i-xe(r)*Dt(a*a+c*c)]},o}function X4(){return Wu(bg).scale(131.154).center([0,13.9389])}var oi=1.340264,ai=-.081106,si=893e-6,ci=.003796,fa=Dt(3)/2,K4=12;function Zu(t,e){var n=ae(fa*V(e)),r=n*n,i=r*r*r;return[t*K(n)/(fa*(oi+3*ai*r+i*(7*si+9*ci*r))),n*(oi+ai*r+i*(si+ci*r))]}Zu.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,s,c;o<K4&&(s=n*(oi+ai*r+i*(si+ci*r))-e,c=oi+3*ai*r+i*(7*si+9*ci*r),n-=a=s/c,r=n*n,i=r*r*r,!(dt(a)<xi));++o);return[fa*t*(oi+3*ai*r+i*(7*si+9*ci*r))/K(n),ae(V(n)/fa)]};function Z4(){return Ge(Zu).scale(177.158)}function Qu(t,e){var n=K(e),r=K(t)*n;return[n*V(t)/r,V(e)/r]}Qu.invert=zi(Ir);function Q4(){return Ge(Qu).scale(144.049).clipAngle(60)}function J4(){var t=1,e=0,n=0,r=1,i=1,o=0,a,s,c=null,u,l,h,f=1,d=1,g=Di({point:function(b,w){var x=v([b,w]);this.stream.point(x[0],x[1])}}),p=Mi,m,y;function _(){return f=t*r,d=t*i,m=y=null,v}function v(b){var w=b[0]*f,x=b[1]*d;if(o){var $=x*a-w*s;w=w*a+x*s,x=$}return[w+e,x+n]}return v.invert=function(b){var w=b[0]-e,x=b[1]-n;if(o){var $=x*a+w*s;w=w*a-x*s,x=$}return[w/f,x/d]},v.stream=function(b){return m&&y===b?m:m=g(p(y=b))},v.postclip=function(b){return arguments.length?(p=b,c=u=l=h=null,_()):p},v.clipExtent=function(b){return arguments.length?(p=b==null?(c=u=l=h=null,Mi):qa(c=+b[0][0],u=+b[0][1],l=+b[1][0],h=+b[1][1]),_()):c==null?null:[[c,u],[l,h]]},v.scale=function(b){return arguments.length?(t=+b,_()):t},v.translate=function(b){return arguments.length?(e=+b[0],n=+b[1],_()):[e,n]},v.angle=function(b){return arguments.length?(o=b%360*tt,s=V(o),a=K(o),_()):o*vt},v.reflectX=function(b){return arguments.length?(r=b?-1:1,_()):r<0},v.reflectY=function(b){return arguments.length?(i=b?-1:1,_()):i<0},v.fitExtent=function(b,w){return Ya(v,b,w)},v.fitSize=function(b,w){return Gu(v,b,w)},v.fitWidth=function(b,w){return Hu(v,b,w)},v.fitHeight=function(b,w){return Vu(v,b,w)},v}function Ju(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Ju.invert=function(t,e){var n=e,r=25,i;do{var o=n*n,a=o*o;n-=i=(n*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-e)/(1.007226+o*(.015085*3+a*(-.044475*7+.028874*9*o-.005916*11*a)))}while(dt(i)>J&&--r>0);return[t/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function t8(){return Ge(Ju).scale(175.295)}function tl(t,e){return[K(e)*V(t),V(e)]}tl.invert=zi(ae);function e8(){return Ge(tl).scale(249.5).clipAngle(90+J)}function el(t,e){var n=K(e),r=1+K(t)*n;return[n*V(t)/r,V(e)/r]}el.invert=zi(function(t){return 2*Ir(t)});function n8(){return Ge(el).scale(250).clipAngle(142)}function nl(t,e){return[qo(Uu((At+e)/2)),-t]}nl.invert=function(t,e){return[-e,2*Ir(D1(t))-At]};function r8(){var t=yg(nl),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function i8(t,e){return t.parent===e.parent?1:2}function o8(t){return t.reduce(a8,0)/t.length}function a8(t,e){return t+e.x}function s8(t){return 1+t.reduce(c8,0)}function c8(t,e){return Math.max(t,e.y)}function u8(t){for(var e;e=t.children;)t=e[0];return t}function l8(t){for(var e;e=t.children;)t=e[e.length-1];return t}function f8(){var t=i8,e=1,n=1,r=!1;function i(o){var a,s=0;o.eachAfter(function(f){var d=f.children;d?(f.x=o8(d),f.y=s8(d)):(f.x=a?s+=t(f,a):0,f.y=0,a=f)});var c=u8(o),u=l8(o),l=c.x-t(c,u)/2,h=u.x+t(u,c)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*e,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-l)/(h-l)*e,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,e=+o[0],n=+o[1],i):r?null:[e,n]},i.nodeSize=function(o){return arguments.length?(r=!0,e=+o[0],n=+o[1],i):r?[e,n]:null},i}function h8(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function d8(){return this.eachAfter(h8)}function g8(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function p8(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function m8(t,e){for(var n=this,r=[n],i=[],o,a,s,c=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++c,this);return this}function y8(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function _8(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function b8(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function v8(t){for(var e=this,n=w8(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function w8(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function x8(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function M8(){return Array.from(this)}function k8(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function S8(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*$8(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Ga(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=A8)):e===void 0&&(e=T8);for(var n=new Un(t),r,i=[n],o,a,s,c;r=i.pop();)if((a=e(r.data))&&(c=(a=Array.from(a)).length))for(r.children=a,s=c-1;s>=0;--s)i.push(o=a[s]=new Un(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(vg)}function E8(){return Ga(this).eachBefore(C8)}function T8(t){return t.children}function A8(t){return Array.isArray(t)?t[1]:null}function C8(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function vg(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Un(t){this.data=t,this.depth=this.height=0,this.parent=null}Un.prototype=Ga.prototype={constructor:Un,count:d8,each:g8,eachAfter:m8,eachBefore:p8,find:y8,sum:_8,sort:b8,path:v8,ancestors:x8,descendants:M8,leaves:k8,links:S8,copy:E8,[Symbol.iterator]:$8};function ko(t){return t==null?null:wg(t)}function wg(t){if(typeof t!="function")throw new Error;return t}function kn(){return 0}function ar(t){return function(){return t}}const N8=1664525,I8=1013904223,zh=4294967296;function rl(){let t=1;return()=>(t=(N8*t+I8)%zh)/zh}function R8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function P8(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function D8(t){return xg(t,rl())}function xg(t,e){for(var n=0,r=(t=P8(Array.from(t),e)).length,i=[],o,a;n<r;)o=t[n],a&&Mg(a,o)?++n:(a=O8(i=z8(i,o)),n=0);return a}function z8(t,e){var n,r;if(Os(e,t))return[e];for(n=0;n<t.length;++n)if(oo(e,t[n])&&Os(Jr(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(oo(Jr(t[n],t[r]),e)&&oo(Jr(t[n],e),t[r])&&oo(Jr(t[r],e),t[n])&&Os(kg(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function oo(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Mg(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Os(t,e){for(var n=0;n<e.length;++n)if(!Mg(t,e[n]))return!1;return!0}function O8(t){switch(t.length){case 1:return L8(t[0]);case 2:return Jr(t[0],t[1]);case 3:return kg(t[0],t[1],t[2])}}function L8(t){return{x:t.x,y:t.y,r:t.r}}function Jr(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,c=o-n,u=a-r,l=s-i,h=Math.sqrt(c*c+u*u);return{x:(n+o+c/h*l)/2,y:(r+a+u/h*l)/2,r:(h+i+s)/2}}function kg(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,c=e.r,u=n.x,l=n.y,h=n.r,f=r-a,d=r-u,g=i-s,p=i-l,m=c-o,y=h-o,_=r*r+i*i-o*o,v=_-a*a-s*s+c*c,b=_-u*u-l*l+h*h,w=d*g-f*p,x=(g*b-p*v)/(w*2)-r,$=(p*m-g*y)/w,E=(d*v-f*b)/(w*2)-i,I=(f*y-d*m)/w,S=$*$+I*I-1,M=2*(o+x*$+E*I),N=x*x+E*E-o*o,T=-(Math.abs(S)>1e-6?(M+Math.sqrt(M*M-4*S*N))/(2*S):N/M);return{x:r+x+$*T,y:i+E+I*T,r:T}}function Oh(t,e,n){var r=t.x-e.x,i,o,a=t.y-e.y,s,c,u=r*r+a*a;u?(o=e.r+n.r,o*=o,c=t.r+n.r,c*=c,o>c?(i=(u+c-o)/(2*u),s=Math.sqrt(Math.max(0,c/u-i*i)),n.x=t.x-i*r-s*a,n.y=t.y-i*a+s*r):(i=(u+o-c)/(2*u),s=Math.sqrt(Math.max(0,o/u-i*i)),n.x=e.x+i*r-s*a,n.y=e.y+i*a+s*r)):(n.x=e.x+n.r,n.y=e.y)}function Lh(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Fh(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function ao(t){this._=t,this.next=null,this.previous=null}function Sg(t,e){if(!(o=(t=R8(t)).length))return 0;var n,r,i,o,a,s,c,u,l,h,f;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Oh(r,n,i=t[2]),n=new ao(n),r=new ao(r),i=new ao(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(c=3;c<o;++c){Oh(n._,r._,i=t[c]),i=new ao(i),u=r.next,l=n.previous,h=r._.r,f=n._.r;do if(h<=f){if(Lh(u._,i._)){r=u,n.next=r,r.previous=n,--c;continue t}h+=u._.r,u=u.next}else{if(Lh(l._,i._)){n=l,n.next=r,r.previous=n,--c;continue t}f+=l._.r,l=l.previous}while(u!==l.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=Fh(n);(i=i.next)!==r;)(s=Fh(i))<a&&(n=i,a=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=xg(n,e),c=0;c<o;++c)n=t[c],n.x-=i.x,n.y-=i.y;return i.r}function F8(t){return Sg(t,rl()),t}function U8(t){return Math.sqrt(t.value)}function $g(){var t=null,e=1,n=1,r=kn;function i(o){const a=rl();return o.x=e/2,o.y=n/2,t?o.eachBefore(Uh(t)).eachAfter(Ls(r,.5,a)).eachBefore(Bh(1)):o.eachBefore(Uh(U8)).eachAfter(Ls(kn,1,a)).eachAfter(Ls(r,o.r/Math.min(e,n),a)).eachBefore(Bh(Math.min(e,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=ko(o),i):t},i.size=function(o){return arguments.length?(e=+o[0],n=+o[1],i):[e,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:ar(+o),i):r},i}function Uh(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Ls(t,e,n){return function(r){if(i=r.children){var i,o,a=i.length,s=t(r)*e||0,c;if(s)for(o=0;o<a;++o)i[o].r+=s;if(c=Sg(i,n),s)for(o=0;o<a;++o)i[o].r-=s;r.r=c+s}}}function Bh(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Eg(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Li(t,e,n,r,i){for(var o=t.children,a,s=-1,c=o.length,u=t.value&&(r-e)/t.value;++s<c;)a=o[s],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}function B8(){var t=1,e=1,n=0,r=!1;function i(a){var s=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/s,a.eachBefore(o(e,s)),r&&a.eachBefore(Eg),a}function o(a,s){return function(c){c.children&&Li(c,c.x0,a*(c.depth+1)/s,c.x1,a*(c.depth+2)/s);var u=c.x0,l=c.y0,h=c.x1-n,f=c.y1-n;h<u&&(u=h=(u+h)/2),f<l&&(l=f=(l+f)/2),c.x0=u,c.y0=l,c.x1=h,c.y1=f}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(t=+a[0],e=+a[1],i):[t,e]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}var q8={depth:-1},qh={},Fs={};function Y8(t){return t.id}function G8(t){return t.parentId}function H8(){var t=Y8,e=G8,n;function r(i){var o=Array.from(i),a=t,s=e,c,u,l,h,f,d,g,p,m=new Map;if(n!=null){const y=o.map((b,w)=>V8(n(b,w,i))),_=y.map(Yh),v=new Set(y).add("");for(const b of _)v.has(b)||(v.add(b),y.push(b),_.push(Yh(b)),o.push(Fs));a=(b,w)=>y[w],s=(b,w)=>_[w]}for(l=0,c=o.length;l<c;++l)u=o[l],d=o[l]=new Un(u),(g=a(u,l,i))!=null&&(g+="")&&(p=d.id=g,m.set(p,m.has(p)?qh:d)),(g=s(u,l,i))!=null&&(g+="")&&(d.parent=g);for(l=0;l<c;++l)if(d=o[l],g=d.parent){if(f=m.get(g),!f)throw new Error("missing: "+g);if(f===qh)throw new Error("ambiguous: "+g);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(n!=null){for(;h.data===Fs&&h.children.length===1;)h=h.children[0],--c;for(let y=o.length-1;y>=0&&(d=o[y],d.data===Fs);--y)d.data=null}if(h.parent=q8,h.eachBefore(function(y){y.depth=y.parent.depth+1,--c}).eachBefore(vg),h.parent=null,c>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=ko(i),r):t},r.parentId=function(i){return arguments.length?(e=ko(i),r):e},r.path=function(i){return arguments.length?(n=ko(i),r):n},r}function V8(t){t=`${t}`;let e=t.length;return Wc(t,e-1)&&!Wc(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function Yh(t){let e=t.length;if(e<2)return"";for(;--e>1&&!Wc(t,e););return t.slice(0,e)}function Wc(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function j8(t,e){return t.parent===e.parent?1:2}function Us(t){var e=t.children;return e?e[0]:t.t}function Bs(t){var e=t.children;return e?e[e.length-1]:t.t}function W8(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function X8(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function K8(t,e,n){return t.a.parent===e.parent?t.a:n}function So(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}So.prototype=Object.create(Un.prototype);function Z8(t){for(var e=new So(t,0),n,r=[e],i,o,a,s;n=r.pop();)if(o=n._.children)for(n.children=new Array(s=o.length),a=s-1;a>=0;--a)r.push(i=n.children[a]=new So(o[a],a)),i.parent=n;return(e.parent=new So(null,0)).children=[e],e}function Q8(){var t=j8,e=1,n=1,r=null;function i(u){var l=Z8(u);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)u.eachBefore(c);else{var h=u,f=u,d=u;u.eachBefore(function(_){_.x<h.x&&(h=_),_.x>f.x&&(f=_),_.depth>d.depth&&(d=_)});var g=h===f?1:t(h,f)/2,p=g-h.x,m=e/(f.x+g+p),y=n/(d.depth||1);u.eachBefore(function(_){_.x=(_.x+p)*m,_.y=_.depth*y})}return u}function o(u){var l=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(l){X8(u);var d=(l[0].z+l[l.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-d):u.z=d}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,l,h){if(l){for(var f=u,d=u,g=l,p=f.parent.children[0],m=f.m,y=d.m,_=g.m,v=p.m,b;g=Bs(g),f=Us(f),g&&f;)p=Us(p),d=Bs(d),d.a=u,b=g.z+_-f.z-m+t(g._,f._),b>0&&(W8(K8(g,u,h),u,b),m+=b,y+=b),_+=g.m,m+=f.m,v+=p.m,y+=d.m;g&&!Bs(d)&&(d.t=g,d.m+=_-y),f&&!Us(p)&&(p.t=f,p.m+=m-v,h=u)}return h}function c(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i}function Ha(t,e,n,r,i){for(var o=t.children,a,s=-1,c=o.length,u=t.value&&(i-n)/t.value;++s<c;)a=o[s],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var Tg=(1+Math.sqrt(5))/2;function Ag(t,e,n,r,i,o){for(var a=[],s=e.children,c,u,l=0,h=0,f=s.length,d,g,p=e.value,m,y,_,v,b,w,x;l<f;){d=i-n,g=o-r;do m=s[h++].value;while(!m&&h<f);for(y=_=m,w=Math.max(g/d,d/g)/(p*t),x=m*m*w,b=Math.max(_/x,x/y);h<f;++h){if(m+=u=s[h].value,u<y&&(y=u),u>_&&(_=u),x=m*m*w,v=Math.max(_/x,x/y),v>b){m-=u;break}b=v}a.push(c={value:m,dice:d<g,children:s.slice(l,h)}),c.dice?Li(c,n,r,i,p?r+=g*m/p:o):Ha(c,n,r,p?n+=d*m/p:i,o),p-=m,l=h}return a}const Cg=function t(e){function n(r,i,o,a,s){Ag(e,r,i,o,a,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Tg);function J8(){var t=Cg,e=!1,n=1,r=1,i=[0],o=kn,a=kn,s=kn,c=kn,u=kn;function l(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),i=[0],e&&f.eachBefore(Eg),f}function h(f){var d=i[f.depth],g=f.x0+d,p=f.y0+d,m=f.x1-d,y=f.y1-d;m<g&&(g=m=(g+m)/2),y<p&&(p=y=(p+y)/2),f.x0=g,f.y0=p,f.x1=m,f.y1=y,f.children&&(d=i[f.depth+1]=o(f)/2,g+=u(f)-d,p+=a(f)-d,m-=s(f)-d,y-=c(f)-d,m<g&&(g=m=(g+m)/2),y<p&&(p=y=(p+y)/2),t(f,g,p,m,y))}return l.round=function(f){return arguments.length?(e=!!f,l):e},l.size=function(f){return arguments.length?(n=+f[0],r=+f[1],l):[n,r]},l.tile=function(f){return arguments.length?(t=wg(f),l):t},l.padding=function(f){return arguments.length?l.paddingInner(f).paddingOuter(f):l.paddingInner()},l.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:ar(+f),l):o},l.paddingOuter=function(f){return arguments.length?l.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):l.paddingTop()},l.paddingTop=function(f){return arguments.length?(a=typeof f=="function"?f:ar(+f),l):a},l.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:ar(+f),l):s},l.paddingBottom=function(f){return arguments.length?(c=typeof f=="function"?f:ar(+f),l):c},l.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:ar(+f),l):u},l}function t7(t,e,n,r,i){var o=t.children,a,s=o.length,c,u=new Array(s+1);for(u[0]=c=a=0;a<s;++a)u[a+1]=c+=o[a].value;l(0,s,t.value,e,n,r,i);function l(h,f,d,g,p,m,y){if(h>=f-1){var _=o[h];_.x0=g,_.y0=p,_.x1=m,_.y1=y;return}for(var v=u[h],b=d/2+v,w=h+1,x=f-1;w<x;){var $=w+x>>>1;u[$]<b?w=$+1:x=$}b-u[w-1]<u[w]-b&&h+1<w&&--w;var E=u[w]-v,I=d-E;if(m-g>y-p){var S=d?(g*I+m*E)/d:m;l(h,w,E,g,p,S,y),l(w,f,I,S,p,m,y)}else{var M=d?(p*I+y*E)/d:y;l(h,w,E,g,p,m,M),l(w,f,I,g,M,m,y)}}}function e7(t,e,n,r,i){(t.depth&1?Ha:Li)(t,e,n,r,i)}const n7=function t(e){function n(r,i,o,a,s){if((c=r._squarify)&&c.ratio===e)for(var c,u,l,h,f=-1,d,g=c.length,p=r.value;++f<g;){for(u=c[f],l=u.children,h=u.value=0,d=l.length;h<d;++h)u.value+=l[h].value;u.dice?Li(u,i,o,a,p?o+=(s-o)*u.value/p:s):Ha(u,i,o,p?i+=(a-i)*u.value/p:a,s),p-=u.value}else r._squarify=c=Ag(e,r,i,o,a,s),c.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Tg);function r7(t){for(var e=-1,n=t.length,r,i=t[n-1],o=0;++e<n;)r=i,i=t[e],o+=r[1]*i[0]-r[0]*i[1];return o/2}function i7(t){for(var e=-1,n=t.length,r=0,i=0,o,a=t[n-1],s,c=0;++e<n;)o=a,a=t[e],c+=s=o[0]*a[1]-a[0]*o[1],r+=(o[0]+a[0])*s,i+=(o[1]+a[1])*s;return c*=3,[r/c,i/c]}function o7(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function a7(t,e){return t[0]-e[0]||t[1]-e[1]}function Gh(t){const e=t.length,n=[0,1];let r=2,i;for(i=2;i<e;++i){for(;r>1&&o7(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function s7(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(a7),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Gh(r),a=Gh(i),s=a[0]===o[0],c=a[a.length-1]===o[o.length-1],u=[];for(e=o.length-1;e>=0;--e)u.push(t[r[o[e]][2]]);for(e=+s;e<a.length-c;++e)u.push(t[r[a[e]][2]]);return u}function c7(t,e){for(var n=t.length,r=t[n-1],i=e[0],o=e[1],a=r[0],s=r[1],c,u,l=!1,h=0;h<n;++h)r=t[h],c=r[0],u=r[1],u>o!=s>o&&i<(a-c)*(o-u)/(s-u)+c&&(l=!l),a=c,s=u;return l}function u7(t){for(var e=-1,n=t.length,r=t[n-1],i,o,a=r[0],s=r[1],c=0;++e<n;)i=a,o=s,r=t[e],a=r[0],s=r[1],i-=a,o-=s,c+=Math.hypot(i,o);return c}const Bt=Math.random,l7=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(Bt),f7=function t(e){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(e()*i+r)}}return n.source=t,n}(Bt),il=function t(e){function n(r,i){var o,a;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(o!=null)s=o,o=null;else do o=e()*2-1,s=e()*2-1,a=o*o+s*s;while(!a||a>1);return r+i*s*Math.sqrt(-2*Math.log(a)/a)}}return n.source=t,n}(Bt),h7=function t(e){var n=il.source(e);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=t,r}(Bt),Ng=function t(e){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=e();return i+o*e()}}return n.source=t,n}(Bt),d7=function t(e){var n=Ng.source(e);function r(i){if((i=+i)==0)return e;var o=n(i);return function(){return o()/i}}return r.source=t,r}(Bt),g7=function t(e){function n(r){return function(){return-Math.log1p(-e())/r}}return n.source=t,n}(Bt),p7=function t(e){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-e(),r)}}return n.source=t,n}(Bt),m7=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+r)}}return n.source=t,n}(Bt),Ig=function t(e){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-e())/r)})}return n.source=t,n}(Bt),ol=function t(e){var n=il.source(e)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-e())*o;var a=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(a)),c=i<1?()=>Math.pow(e(),1/i):()=>1;return function(){do{do var u=n(),l=1+s*u;while(l<=0);l*=l*l;var h=1-e()}while(h>=1-.0331*u*u*u*u&&Math.log(h)>=.5*u*u+a*(1-l+Math.log(l)));return a*l*c()*o}}return r.source=t,r}(Bt),Rg=function t(e){var n=ol.source(e);function r(i,o){var a=n(i),s=n(o);return function(){var c=a();return c===0?0:c/(c+s())}}return r.source=t,r}(Bt),Pg=function t(e){var n=Ig.source(e),r=Rg.source(e);function i(o,a){return o=+o,(a=+a)>=1?()=>o:a<=0?()=>0:function(){for(var s=0,c=o,u=a;c*u>16&&c*(1-u)>16;){var l=Math.floor((c+1)*u),h=r(l,c-l+1)();h<=u?(s+=l,c-=l,u=(u-h)/(1-h)):(c=l-1,u/=h)}for(var f=u<.5,d=f?u:1-u,g=n(d),p=g(),m=0;p<=c;++m)p+=g();return s+(f?m:c-m)}}return i.source=t,i}(Bt),y7=function t(e){function n(r,i,o){var a;return(r=+r)==0?a=s=>-Math.log(s):(r=1/r,a=s=>Math.pow(s,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*a(-Math.log1p(-e()))}}return n.source=t,n}(Bt),_7=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*e())}}return n.source=t,n}(Bt),b7=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=e();return r+i*Math.log(o/(1-o))}}return n.source=t,n}(Bt),v7=function t(e){var n=ol.source(e),r=Pg.source(e);function i(o){return function(){for(var a=0,s=o;s>16;){var c=Math.floor(.875*s),u=n(c)();if(u>s)return a+r(c-1,s/u)();a+=c,s-=u}for(var l=-Math.log1p(-e()),h=0;l<=s;++h)l-=Math.log1p(-e());return a+h}}return i.source=t,i}(Bt),w7=1664525,x7=1013904223,Hh=1/4294967296;function M7(t=Math.random()){let e=(0<=t&&t<1?t/Hh:Math.abs(t))|0;return()=>(e=w7*e+x7|0,Hh*(e>>>0))}function $e(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function nn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Xc=Symbol("implicit");function al(){var t=new fi,e=[],n=[],r=Xc;function i(o){let a=t.get(o);if(a===void 0){if(r!==Xc)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new fi;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return al(e,n).unknown(r)},$e.apply(i,arguments),i}function sl(){var t=al().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,c=0,u=0,l=.5;delete t.unknown;function h(){var f=e().length,d=i<r,g=d?i:r,p=d?r:i;o=(p-g)/Math.max(1,f-c+u*2),s&&(o=Math.floor(o)),g+=(p-g-o*(f-c))*l,a=o*(1-c),s&&(g=Math.round(g),a=Math.round(a));var m=cn(f).map(function(y){return g+o*y});return n(d?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),h()):l},t.copy=function(){return sl(e(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(l)},$e.apply(h(),arguments)}function Dg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Dg(e())},t}function Kc(){return Dg(sl.apply(null,arguments).paddingInner(1))}function k7(t){return function(){return t}}function ha(t){return+t}var Vh=[0,1];function ne(t){return t}function Zc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:k7(isNaN(e)?NaN:.5)}function S7(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $7(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Zc(i,r),o=n(a,o)):(r=Zc(r,i),o=n(o,a)),function(s){return o(r(s))}}function E7(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Zc(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var c=Hn(t,s,1,r)-1;return o[c](i[c](s))}}function Fi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Va(){var t=Vh,e=Vh,n=yn,r,i,o,a=ne,s,c,u;function l(){var f=Math.min(t.length,e.length);return a!==ne&&(a=S7(t[0],t[f-1])),s=f>2?E7:$7,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(c||(c=s(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((u||(u=s(e,t.map(r),ve)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,ha),l()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),l()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=Pa,l()},h.clamp=function(f){return arguments.length?(a=f?!0:ne,l()):a!==ne},h.interpolate=function(f){return arguments.length?(n=f,l()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,d){return r=f,i=d,l()}}function cl(){return Va()(ne,ne)}function zg(t,e,n,r){var i=Ao(t,e,n),o;switch(r=wr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=R1(i,a))&&(r.precision=o),Fu(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=P1(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=I1(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ba(r)}function _n(t){var e=t.domain;return t.ticks=function(n){var r=e();return Rn(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return zg(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],c,u,l=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);l-- >0;){if(u=Pn(a,s,n),u===c)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;c=u}return t},t}function Og(){var t=cl();return t.copy=function(){return Fi(t,Og())},$e.apply(t,arguments),_n(t)}function Lg(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ha),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Lg(t).unknown(e)},t=arguments.length?Array.from(t,ha):[0,1],_n(n)}function Fg(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function jh(t){return Math.log(t)}function Wh(t){return Math.exp(t)}function T7(t){return-Math.log(-t)}function A7(t){return-Math.exp(-t)}function C7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function N7(t){return t===10?C7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function I7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Xh(t){return(e,n)=>-t(-e,n)}function ul(t){const e=t(jh,Wh),n=e.domain;let r=10,i,o;function a(){return i=I7(r),o=N7(r),n()[0]<0?(i=Xh(i),o=Xh(o),t(T7,A7)):t(jh,Wh),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const c=n();let u=c[0],l=c[c.length-1];const h=l<u;h&&([u,l]=[l,u]);let f=i(u),d=i(l),g,p;const m=s==null?10:+s;let y=[];if(!(r%1)&&d-f<m){if(f=Math.floor(f),d=Math.ceil(d),u>0){for(;f<=d;++f)for(g=1;g<r;++g)if(p=f<0?g/o(-f):g*o(f),!(p<u)){if(p>l)break;y.push(p)}}else for(;f<=d;++f)for(g=r-1;g>=1;--g)if(p=f>0?g/o(-f):g*o(f),!(p<u)){if(p>l)break;y.push(p)}y.length*2<m&&(y=Rn(u,l,m))}else y=Rn(f,d,Math.min(d-f,m)).map(o);return h?y.reverse():y},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=wr(c)).precision==null&&(c.trim=!0),c=Ba(c)),s===1/0)return c;const u=Math.max(1,r*s/e.ticks().length);return l=>{let h=l/o(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=u?c(l):""}},e.nice=()=>n(Fg(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Ug(){const t=ul(Va()).domain([1,10]);return t.copy=()=>Fi(t,Ug()).base(t.base()),$e.apply(t,arguments),t}function Kh(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Zh(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ll(t){var e=1,n=t(Kh(e),Zh(e));return n.constant=function(r){return arguments.length?t(Kh(e=+r),Zh(e)):e},_n(n)}function Bg(){var t=ll(Va());return t.copy=function(){return Fi(t,Bg()).constant(t.constant())},$e.apply(t,arguments)}function Qh(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function R7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function P7(t){return t<0?-t*t:t*t}function fl(t){var e=t(ne,ne),n=1;function r(){return n===1?t(ne,ne):n===.5?t(R7,P7):t(Qh(n),Qh(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_n(e)}function hl(){var t=fl(Va());return t.copy=function(){return Fi(t,hl()).exponent(t.exponent())},$e.apply(t,arguments),t}function D7(){return hl.apply(null,arguments).exponent(.5)}function Jh(t){return Math.sign(t)*t*t}function z7(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function qg(){var t=cl(),e=[0,1],n=!1,r;function i(o){var a=z7(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(Jh(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,ha)).map(Jh)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qg(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$e.apply(i,arguments),_n(i)}function Yg(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=bd(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Hn(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort($t),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Yg().domain(t).range(e).unknown(r)},$e.apply(o,arguments)}function Gg(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[Hn(r,c,0,n)]:o}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Gg().domain([t,e]).range(i).unknown(o)},$e.apply(_n(a),arguments)}function Hg(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Hn(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Hg().domain(t).range(e).unknown(n)},$e.apply(i,arguments)}const qs=new Date,Ys=new Date;function Ct(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const c=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return c;let u;do c.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return c},i.filter=o=>Ct(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(qs.setTime(+o),Ys.setTime(+a),t(qs),t(Ys),Math.floor(n(qs,Ys))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Sr=Ct(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sr.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ct(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Sr);const t0=Sr.range,Ke=1e3,Me=Ke*60,Ze=Me*60,en=Ze*24,dl=en*7,e0=en*30,Gs=en*365,Qe=Ct(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ke)},(t,e)=>(e-t)/Ke,t=>t.getUTCSeconds()),n0=Qe.range,ja=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ke)},(t,e)=>{t.setTime(+t+e*Me)},(t,e)=>(e-t)/Me,t=>t.getMinutes()),O7=ja.range,Wa=Ct(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Me)},(t,e)=>(e-t)/Me,t=>t.getUTCMinutes()),L7=Wa.range,Xa=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ke-t.getMinutes()*Me)},(t,e)=>{t.setTime(+t+e*Ze)},(t,e)=>(e-t)/Ze,t=>t.getHours()),F7=Xa.range,Ka=Ct(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ze)},(t,e)=>(e-t)/Ze,t=>t.getUTCHours()),U7=Ka.range,Rr=Ct(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Me)/en,t=>t.getDate()-1),B7=Rr.range,Ui=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/en,t=>t.getUTCDate()-1),q7=Ui.range,gl=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/en,t=>Math.floor(t/en)),Y7=gl.range;function Wn(t){return Ct(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Me)/dl)}const $r=Wn(0),$i=Wn(1),Vg=Wn(2),jg=Wn(3),Bn=Wn(4),Wg=Wn(5),Xg=Wn(6),r0=$r.range,G7=$i.range,H7=Vg.range,V7=jg.range,j7=Bn.range,W7=Wg.range,X7=Xg.range;function Xn(t){return Ct(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dl)}const Er=Xn(0),Ei=Xn(1),Kg=Xn(2),Zg=Xn(3),qn=Xn(4),Qg=Xn(5),Jg=Xn(6),i0=Er.range,K7=Ei.range,Z7=Kg.range,Q7=Zg.range,J7=qn.range,tx=Qg.range,ex=Jg.range,Za=Ct(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),nx=Za.range,Qa=Ct(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),rx=Qa.range,Be=Ct(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Be.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});const ix=Be.range,qe=Ct(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qe.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});const ox=qe.range;function tp(t,e,n,r,i,o){const a=[[Qe,1,Ke],[Qe,5,5*Ke],[Qe,15,15*Ke],[Qe,30,30*Ke],[o,1,Me],[o,5,5*Me],[o,15,15*Me],[o,30,30*Me],[i,1,Ze],[i,3,3*Ze],[i,6,6*Ze],[i,12,12*Ze],[r,1,en],[r,2,2*en],[n,1,dl],[e,1,e0],[e,3,3*e0],[t,1,Gs]];function s(u,l,h){const f=l<u;f&&([u,l]=[l,u]);const d=h&&typeof h.range=="function"?h:c(u,l,h),g=d?d.range(u,+l+1):[];return f?g.reverse():g}function c(u,l,h){const f=Math.abs(l-u)/h,d=Ma(([,,m])=>m).right(a,f);if(d===a.length)return t.every(Ao(u/Gs,l/Gs,h));if(d===0)return Sr.every(Math.max(Ao(u,l,h),1));const[g,p]=a[f/a[d-1][2]<a[d][2]/f?d-1:d];return g.every(p)}return[s,c]}const[ep,np]=tp(qe,Qa,Er,gl,Ka,Wa),[rp,ip]=tp(Be,Za,$r,Rr,Xa,ja);function Hs(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vs(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ur(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function op(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,c=t.shortMonths,u=Br(i),l=qr(i),h=Br(o),f=qr(o),d=Br(a),g=qr(a),p=Br(s),m=qr(s),y=Br(c),_=qr(c),v={a:R,A:D,b:P,B,c:null,d:l0,e:l0,f:Tx,g:Lx,G:Ux,H:Sx,I:$x,j:Ex,L:ap,m:Ax,M:Cx,p:q,q:O,Q:d0,s:g0,S:Nx,u:Ix,U:Rx,V:Px,w:Dx,W:zx,x:null,X:null,y:Ox,Y:Fx,Z:Bx,"%":h0},b={a:Z,A:ot,b:rt,B:Q,c:null,d:f0,e:f0,f:Hx,g:e9,G:r9,H:qx,I:Yx,j:Gx,L:cp,m:Vx,M:jx,p:j,q:pt,Q:d0,s:g0,S:Wx,u:Xx,U:Kx,V:Zx,w:Qx,W:Jx,x:null,X:null,y:t9,Y:n9,Z:i9,"%":h0},w={a:S,A:M,b:N,B:T,c:k,d:c0,e:c0,f:wx,g:s0,G:a0,H:u0,I:u0,j:yx,L:vx,m:mx,M:_x,p:I,q:px,Q:Mx,s:kx,S:bx,u:lx,U:fx,V:hx,w:ux,W:dx,x:A,X:C,y:s0,Y:a0,Z:gx,"%":xx};v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b);function x(H,nt){return function(ct){var U=[],xt=-1,bt=0,Xt=H.length,Kt,et,Et;for(ct instanceof Date||(ct=new Date(+ct));++xt<Xt;)H.charCodeAt(xt)===37&&(U.push(H.slice(bt,xt)),(et=o0[Kt=H.charAt(++xt)])!=null?Kt=H.charAt(++xt):et=Kt==="e"?" ":"0",(Et=nt[Kt])&&(Kt=Et(ct,et)),U.push(Kt),bt=xt+1);return U.push(H.slice(bt,xt)),U.join("")}}function $(H,nt){return function(ct){var U=Ur(1900,void 0,1),xt=E(U,H,ct+="",0),bt,Xt;if(xt!=ct.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(nt&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(bt=Vs(Ur(U.y,0,1)),Xt=bt.getUTCDay(),bt=Xt>4||Xt===0?Ei.ceil(bt):Ei(bt),bt=Ui.offset(bt,(U.V-1)*7),U.y=bt.getUTCFullYear(),U.m=bt.getUTCMonth(),U.d=bt.getUTCDate()+(U.w+6)%7):(bt=Hs(Ur(U.y,0,1)),Xt=bt.getDay(),bt=Xt>4||Xt===0?$i.ceil(bt):$i(bt),bt=Rr.offset(bt,(U.V-1)*7),U.y=bt.getFullYear(),U.m=bt.getMonth(),U.d=bt.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Xt="Z"in U?Vs(Ur(U.y,0,1)).getUTCDay():Hs(Ur(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(Xt+5)%7:U.w+U.U*7-(Xt+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Vs(U)):Hs(U)}}function E(H,nt,ct,U){for(var xt=0,bt=nt.length,Xt=ct.length,Kt,et;xt<bt;){if(U>=Xt)return-1;if(Kt=nt.charCodeAt(xt++),Kt===37){if(Kt=nt.charAt(xt++),et=w[Kt in o0?nt.charAt(xt++):Kt],!et||(U=et(H,ct,U))<0)return-1}else if(Kt!=ct.charCodeAt(U++))return-1}return U}function I(H,nt,ct){var U=u.exec(nt.slice(ct));return U?(H.p=l.get(U[0].toLowerCase()),ct+U[0].length):-1}function S(H,nt,ct){var U=d.exec(nt.slice(ct));return U?(H.w=g.get(U[0].toLowerCase()),ct+U[0].length):-1}function M(H,nt,ct){var U=h.exec(nt.slice(ct));return U?(H.w=f.get(U[0].toLowerCase()),ct+U[0].length):-1}function N(H,nt,ct){var U=y.exec(nt.slice(ct));return U?(H.m=_.get(U[0].toLowerCase()),ct+U[0].length):-1}function T(H,nt,ct){var U=p.exec(nt.slice(ct));return U?(H.m=m.get(U[0].toLowerCase()),ct+U[0].length):-1}function k(H,nt,ct){return E(H,e,nt,ct)}function A(H,nt,ct){return E(H,n,nt,ct)}function C(H,nt,ct){return E(H,r,nt,ct)}function R(H){return a[H.getDay()]}function D(H){return o[H.getDay()]}function P(H){return c[H.getMonth()]}function B(H){return s[H.getMonth()]}function q(H){return i[+(H.getHours()>=12)]}function O(H){return 1+~~(H.getMonth()/3)}function Z(H){return a[H.getUTCDay()]}function ot(H){return o[H.getUTCDay()]}function rt(H){return c[H.getUTCMonth()]}function Q(H){return s[H.getUTCMonth()]}function j(H){return i[+(H.getUTCHours()>=12)]}function pt(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var nt=x(H+="",v);return nt.toString=function(){return H},nt},parse:function(H){var nt=$(H+="",!1);return nt.toString=function(){return H},nt},utcFormat:function(H){var nt=x(H+="",b);return nt.toString=function(){return H},nt},utcParse:function(H){var nt=$(H+="",!0);return nt.toString=function(){return H},nt}}}var o0={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,ax=/^%/,sx=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function cx(t){return t.replace(sx,"\\$&")}function Br(t){return new RegExp("^(?:"+t.map(cx).join("|")+")","i")}function qr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ux(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lx(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function fx(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hx(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function dx(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function a0(t,e,n){var r=Ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function s0(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gx(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function px(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mx(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function c0(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function yx(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function u0(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _x(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function bx(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vx(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function wx(t,e,n){var r=Ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xx(t,e,n){var r=ax.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Mx(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function kx(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function l0(t,e){return _t(t.getDate(),e,2)}function Sx(t,e){return _t(t.getHours(),e,2)}function $x(t,e){return _t(t.getHours()%12||12,e,2)}function Ex(t,e){return _t(1+Rr.count(Be(t),t),e,3)}function ap(t,e){return _t(t.getMilliseconds(),e,3)}function Tx(t,e){return ap(t,e)+"000"}function Ax(t,e){return _t(t.getMonth()+1,e,2)}function Cx(t,e){return _t(t.getMinutes(),e,2)}function Nx(t,e){return _t(t.getSeconds(),e,2)}function Ix(t){var e=t.getDay();return e===0?7:e}function Rx(t,e){return _t($r.count(Be(t)-1,t),e,2)}function sp(t){var e=t.getDay();return e>=4||e===0?Bn(t):Bn.ceil(t)}function Px(t,e){return t=sp(t),_t(Bn.count(Be(t),t)+(Be(t).getDay()===4),e,2)}function Dx(t){return t.getDay()}function zx(t,e){return _t($i.count(Be(t)-1,t),e,2)}function Ox(t,e){return _t(t.getFullYear()%100,e,2)}function Lx(t,e){return t=sp(t),_t(t.getFullYear()%100,e,2)}function Fx(t,e){return _t(t.getFullYear()%1e4,e,4)}function Ux(t,e){var n=t.getDay();return t=n>=4||n===0?Bn(t):Bn.ceil(t),_t(t.getFullYear()%1e4,e,4)}function Bx(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function f0(t,e){return _t(t.getUTCDate(),e,2)}function qx(t,e){return _t(t.getUTCHours(),e,2)}function Yx(t,e){return _t(t.getUTCHours()%12||12,e,2)}function Gx(t,e){return _t(1+Ui.count(qe(t),t),e,3)}function cp(t,e){return _t(t.getUTCMilliseconds(),e,3)}function Hx(t,e){return cp(t,e)+"000"}function Vx(t,e){return _t(t.getUTCMonth()+1,e,2)}function jx(t,e){return _t(t.getUTCMinutes(),e,2)}function Wx(t,e){return _t(t.getUTCSeconds(),e,2)}function Xx(t){var e=t.getUTCDay();return e===0?7:e}function Kx(t,e){return _t(Er.count(qe(t)-1,t),e,2)}function up(t){var e=t.getUTCDay();return e>=4||e===0?qn(t):qn.ceil(t)}function Zx(t,e){return t=up(t),_t(qn.count(qe(t),t)+(qe(t).getUTCDay()===4),e,2)}function Qx(t){return t.getUTCDay()}function Jx(t,e){return _t(Ei.count(qe(t)-1,t),e,2)}function t9(t,e){return _t(t.getUTCFullYear()%100,e,2)}function e9(t,e){return t=up(t),_t(t.getUTCFullYear()%100,e,2)}function n9(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function r9(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qn(t):qn.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function i9(){return"+0000"}function h0(){return"%"}function d0(t){return+t}function g0(t){return Math.floor(+t/1e3)}var or,pl,lp,Ja,ml;fp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fp(t){return or=op(t),pl=or.format,lp=or.parse,Ja=or.utcFormat,ml=or.utcParse,or}var hp="%Y-%m-%dT%H:%M:%S.%LZ";function o9(t){return t.toISOString()}var a9=Date.prototype.toISOString?o9:Ja(hp);const s9=a9;function c9(t){var e=new Date(t);return isNaN(e)?null:e}var u9=+new Date("2000-01-01T00:00:00.000Z")?c9:ml(hp);const l9=u9;function f9(t){return new Date(t)}function h9(t){return t instanceof Date?+t:+new Date(+t)}function yl(t,e,n,r,i,o,a,s,c,u){var l=cl(),h=l.invert,f=l.domain,d=u(".%L"),g=u(":%S"),p=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),_=u("%b %d"),v=u("%B"),b=u("%Y");function w(x){return(c(x)<x?d:s(x)<x?g:a(x)<x?p:o(x)<x?m:r(x)<x?i(x)<x?y:_:n(x)<x?v:b)(x)}return l.invert=function(x){return new Date(h(x))},l.domain=function(x){return arguments.length?f(Array.from(x,h9)):f().map(f9)},l.ticks=function(x){var $=f();return t($[0],$[$.length-1],x??10)},l.tickFormat=function(x,$){return $==null?w:u($)},l.nice=function(x){var $=f();return(!x||typeof x.range!="function")&&(x=e($[0],$[$.length-1],x??10)),x?f(Fg($,x)):l},l.copy=function(){return Fi(l,yl(t,e,n,r,i,o,a,s,c,u))},l}function d9(){return $e.apply(yl(rp,ip,Be,Za,$r,Rr,Xa,ja,Qe,pl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g9(){return $e.apply(yl(ep,np,qe,Qa,Er,Ui,Ka,Wa,Qe,Ja).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ts(){var t=0,e=1,n,r,i,o,a=ne,s=!1,c;function u(h){return h==null||isNaN(h=+h)?c:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(a=h,u):a};function l(h){return function(f){var d,g;return arguments.length?([d,g]=f,a=h(d,g),u):[a(0),a(1)]}}return u.range=l(yn),u.rangeRound=l(Pa),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function bn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dp(){var t=_n(ts()(ne));return t.copy=function(){return bn(t,dp())},nn.apply(t,arguments)}function gp(){var t=ul(ts()).domain([1,10]);return t.copy=function(){return bn(t,gp()).base(t.base())},nn.apply(t,arguments)}function pp(){var t=ll(ts());return t.copy=function(){return bn(t,pp()).constant(t.constant())},nn.apply(t,arguments)}function _l(){var t=fl(ts());return t.copy=function(){return bn(t,_l()).exponent(t.exponent())},nn.apply(t,arguments)}function p9(){return _l.apply(null,arguments).exponent(.5)}function mp(){var t=[],e=ne;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hn(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort($t),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>di(t,o/r))},n.copy=function(){return mp(e).domain(t)},nn.apply(n,arguments)}function es(){var t=0,e=.5,n=1,r=1,i,o,a,s,c,u=ne,l,h=!1,f;function d(p){return isNaN(p=+p)?f:(p=.5+((p=+l(p))-o)*(r*p<r*o?s:c),u(h?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e,n]=p,i=l(t=+t),o=l(e=+e),a=l(n=+n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,e,n]},d.clamp=function(p){return arguments.length?(h=!!p,d):h},d.interpolator=function(p){return arguments.length?(u=p,d):u};function g(p){return function(m){var y,_,v;return arguments.length?([y,_,v]=m,u=f1(p,[y,_,v]),d):[u(0),u(.5),u(1)]}}return d.range=g(yn),d.rangeRound=g(Pa),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return l=p,i=p(t),o=p(e),a=p(n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function yp(){var t=_n(es()(ne));return t.copy=function(){return bn(t,yp())},nn.apply(t,arguments)}function _p(){var t=ul(es()).domain([.1,1,10]);return t.copy=function(){return bn(t,_p()).base(t.base())},nn.apply(t,arguments)}function bp(){var t=ll(es());return t.copy=function(){return bn(t,bp()).constant(t.constant())},nn.apply(t,arguments)}function bl(){var t=fl(es());return t.copy=function(){return bn(t,bl()).exponent(t.exponent())},nn.apply(t,arguments)}function m9(){return bl.apply(null,arguments).exponent(.5)}function ft(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const y9=ft("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),_9=ft("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),b9=ft("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),v9=ft("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),w9=ft("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),x9=ft("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),M9=ft("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),k9=ft("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),S9=ft("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),$9=ft("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),wt=t=>Qd(t[t.length-1]);var vp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ft);const E9=wt(vp);var wp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ft);const T9=wt(wp);var xp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ft);const A9=wt(xp);var Mp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ft);const C9=wt(Mp);var kp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ft);const N9=wt(kp);var Sp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ft);const I9=wt(Sp);var $p=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ft);const R9=wt($p);var Ep=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ft);const P9=wt(Ep);var Tp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ft);const D9=wt(Tp);var Ap=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ft);const z9=wt(Ap);var Cp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ft);const O9=wt(Cp);var Np=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ft);const L9=wt(Np);var Ip=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ft);const F9=wt(Ip);var Rp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ft);const U9=wt(Rp);var Pp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ft);const B9=wt(Pp);var Dp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ft);const q9=wt(Dp);var zp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ft);const Y9=wt(zp);var Op=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ft);const G9=wt(Op);var Lp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ft);const H9=wt(Lp);var Fp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ft);const V9=wt(Fp);var Up=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ft);const j9=wt(Up);var Bp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ft);const W9=wt(Bp);var qp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ft);const X9=wt(qp);var vl=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ft);const K9=wt(vl);var Yp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ft);const Z9=wt(Yp);var Gp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ft);const Q9=wt(Gp);var Hp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ft);const J9=wt(Hp);function tM(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const eM=Da(Ie(300,.5,0),Ie(-240,.5,1));var nM=Da(Ie(-100,.75,.35),Ie(80,1.5,.8)),rM=Da(Ie(260,.75,.35),Ie(80,1.5,.8)),so=Ie();function iM(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return so.h=360*t-100,so.s=1.5-1.5*e,so.l=.8-.9*e,so+""}var co=yr(),oM=Math.PI/3,aM=Math.PI*2/3;function sM(t){var e;return t=(.5-t)*Math.PI,co.r=255*(e=Math.sin(t))*e,co.g=255*(e=Math.sin(t+oM))*e,co.b=255*(e=Math.sin(t+aM))*e,co+""}function cM(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function ns(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const uM=ns(ft("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var lM=ns(ft("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),fM=ns(ft("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hM=ns(ft("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function at(t){return function(){return t}}const p0=Math.abs,Ht=Math.atan2,We=Math.cos,dM=Math.max,dr=Math.min,ue=Math.sin,Mt=Math.sqrt,Vt=1e-12,gn=Math.PI,da=gn/2,ln=2*gn;function gM(t){return t>1?0:t<-1?gn:Math.acos(t)}function m0(t){return t>=1?da:t<=-1?-da:Math.asin(t)}function Bi(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ii(e)}function pM(t){return t.innerRadius}function mM(t){return t.outerRadius}function yM(t){return t.startAngle}function _M(t){return t.endAngle}function bM(t){return t&&t.padAngle}function vM(t,e,n,r,i,o,a,s){var c=n-t,u=r-e,l=a-i,h=s-o,f=h*c-l*u;if(!(f*f<Vt))return f=(l*(e-o)-h*(t-i))/f,[t+f*c,e+f*u]}function uo(t,e,n,r,i,o,a){var s=t-n,c=e-r,u=(a?o:-o)/Mt(s*s+c*c),l=u*c,h=-u*s,f=t+l,d=e+h,g=n+l,p=r+h,m=(f+g)/2,y=(d+p)/2,_=g-f,v=p-d,b=_*_+v*v,w=i-o,x=f*p-g*d,$=(v<0?-1:1)*Mt(dM(0,w*w*b-x*x)),E=(x*v-_*$)/b,I=(-x*_-v*$)/b,S=(x*v+_*$)/b,M=(-x*_+v*$)/b,N=E-m,T=I-y,k=S-m,A=M-y;return N*N+T*T>k*k+A*A&&(E=S,I=M),{cx:E,cy:I,x01:-l,y01:-h,x11:E*(i/w-1),y11:I*(i/w-1)}}function wM(){var t=pM,e=mM,n=at(0),r=null,i=yM,o=_M,a=bM,s=null,c=Bi(u);function u(){var l,h,f=+t.apply(this,arguments),d=+e.apply(this,arguments),g=i.apply(this,arguments)-da,p=o.apply(this,arguments)-da,m=p0(p-g),y=p>g;if(s||(s=l=c()),d<f&&(h=d,d=f,f=h),!(d>Vt))s.moveTo(0,0);else if(m>ln-Vt)s.moveTo(d*We(g),d*ue(g)),s.arc(0,0,d,g,p,!y),f>Vt&&(s.moveTo(f*We(p),f*ue(p)),s.arc(0,0,f,p,g,y));else{var _=g,v=p,b=g,w=p,x=m,$=m,E=a.apply(this,arguments)/2,I=E>Vt&&(r?+r.apply(this,arguments):Mt(f*f+d*d)),S=dr(p0(d-f)/2,+n.apply(this,arguments)),M=S,N=S,T,k;if(I>Vt){var A=m0(I/f*ue(E)),C=m0(I/d*ue(E));(x-=A*2)>Vt?(A*=y?1:-1,b+=A,w-=A):(x=0,b=w=(g+p)/2),($-=C*2)>Vt?(C*=y?1:-1,_+=C,v-=C):($=0,_=v=(g+p)/2)}var R=d*We(_),D=d*ue(_),P=f*We(w),B=f*ue(w);if(S>Vt){var q=d*We(v),O=d*ue(v),Z=f*We(b),ot=f*ue(b),rt;if(m<gn)if(rt=vM(R,D,Z,ot,q,O,P,B)){var Q=R-rt[0],j=D-rt[1],pt=q-rt[0],H=O-rt[1],nt=1/ue(gM((Q*pt+j*H)/(Mt(Q*Q+j*j)*Mt(pt*pt+H*H)))/2),ct=Mt(rt[0]*rt[0]+rt[1]*rt[1]);M=dr(S,(f-ct)/(nt-1)),N=dr(S,(d-ct)/(nt+1))}else M=N=0}$>Vt?N>Vt?(T=uo(Z,ot,R,D,d,N,y),k=uo(q,O,P,B,d,N,y),s.moveTo(T.cx+T.x01,T.cy+T.y01),N<S?s.arc(T.cx,T.cy,N,Ht(T.y01,T.x01),Ht(k.y01,k.x01),!y):(s.arc(T.cx,T.cy,N,Ht(T.y01,T.x01),Ht(T.y11,T.x11),!y),s.arc(0,0,d,Ht(T.cy+T.y11,T.cx+T.x11),Ht(k.cy+k.y11,k.cx+k.x11),!y),s.arc(k.cx,k.cy,N,Ht(k.y11,k.x11),Ht(k.y01,k.x01),!y))):(s.moveTo(R,D),s.arc(0,0,d,_,v,!y)):s.moveTo(R,D),!(f>Vt)||!(x>Vt)?s.lineTo(P,B):M>Vt?(T=uo(P,B,q,O,f,-M,y),k=uo(R,D,Z,ot,f,-M,y),s.lineTo(T.cx+T.x01,T.cy+T.y01),M<S?s.arc(T.cx,T.cy,M,Ht(T.y01,T.x01),Ht(k.y01,k.x01),!y):(s.arc(T.cx,T.cy,M,Ht(T.y01,T.x01),Ht(T.y11,T.x11),!y),s.arc(0,0,f,Ht(T.cy+T.y11,T.cx+T.x11),Ht(k.cy+k.y11,k.cx+k.x11),y),s.arc(k.cx,k.cy,M,Ht(k.y11,k.x11),Ht(k.y01,k.x01),!y))):s.arc(0,0,f,w,b,y)}if(s.closePath(),l)return s=null,l+""||null}return u.centroid=function(){var l=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-gn/2;return[We(h)*l,ue(h)*l]},u.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:at(+l),u):t},u.outerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:at(+l),u):e},u.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:at(+l),u):n},u.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:at(+l),u):r},u.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:at(+l),u):i},u.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:at(+l),u):o},u.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:at(+l),u):a},u.context=function(l){return arguments.length?(s=l??null,u):s},u}var xM=Array.prototype.slice;function rs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Vp(t){this._context=t}Vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function is(t){return new Vp(t)}function wl(t){return t[0]}function xl(t){return t[1]}function Ml(t,e){var n=at(!0),r=null,i=is,o=null,a=Bi(s);t=typeof t=="function"?t:t===void 0?wl:at(t),e=typeof e=="function"?e:e===void 0?xl:at(e);function s(c){var u,l=(c=rs(c)).length,h,f=!1,d;for(r==null&&(o=i(d=a())),u=0;u<=l;++u)!(u<l&&n(h=c[u],u,c))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,u,c),+e(h,u,c));if(d)return o=null,d+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:at(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:at(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:at(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),s):r},s}function jp(t,e,n){var r=null,i=at(!0),o=null,a=is,s=null,c=Bi(u);t=typeof t=="function"?t:t===void 0?wl:at(+t),e=typeof e=="function"?e:at(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?xl:at(+n);function u(h){var f,d,g,p=(h=rs(h)).length,m,y=!1,_,v=new Array(p),b=new Array(p);for(o==null&&(s=a(_=c())),f=0;f<=p;++f){if(!(f<p&&i(m=h[f],f,h))===y)if(y=!y)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=f-1;g>=d;--g)s.point(v[g],b[g]);s.lineEnd(),s.areaEnd()}y&&(v[f]=+t(m,f,h),b[f]=+e(m,f,h),s.point(r?+r(m,f,h):v[f],n?+n(m,f,h):b[f]))}if(_)return s=null,_+""||null}function l(){return Ml().defined(i).curve(a).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:at(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:at(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:at(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:at(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:at(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:at(+h),u):n},u.lineX0=u.lineY0=function(){return l().x(t).y(e)},u.lineY1=function(){return l().x(t).y(n)},u.lineX1=function(){return l().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:at(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),u):a},u.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),u):o},u}function MM(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function kM(t){return t}function SM(){var t=kM,e=MM,n=null,r=at(0),i=at(ln),o=at(0);function a(s){var c,u=(s=rs(s)).length,l,h,f=0,d=new Array(u),g=new Array(u),p=+r.apply(this,arguments),m=Math.min(ln,Math.max(-ln,i.apply(this,arguments)-p)),y,_=Math.min(Math.abs(m)/u,o.apply(this,arguments)),v=_*(m<0?-1:1),b;for(c=0;c<u;++c)(b=g[d[c]=c]=+t(s[c],c,s))>0&&(f+=b);for(e!=null?d.sort(function(w,x){return e(g[w],g[x])}):n!=null&&d.sort(function(w,x){return n(s[w],s[x])}),c=0,h=f?(m-u*v)/f:0;c<u;++c,p=y)l=d[c],b=g[l],y=p+(b>0?b*h:0)+v,g[l]={data:s[l],index:c,value:b,startAngle:p,endAngle:y,padAngle:_};return g}return a.value=function(s){return arguments.length?(t=typeof s=="function"?s:at(+s),a):t},a.sortValues=function(s){return arguments.length?(e=s,n=null,a):e},a.sort=function(s){return arguments.length?(n=s,e=null,a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:at(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:at(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:at(+s),a):o},a}var Wp=kl(is);function Xp(t){this._curve=t}Xp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function kl(t){function e(n){return new Xp(t(n))}return e._curve=t,e}function ti(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(kl(n)):e()._curve},t}function y0(){return ti(Ml().curve(Wp))}function _0(){var t=jp().curve(Wp),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ti(n())},delete t.lineX0,t.lineEndAngle=function(){return ti(r())},delete t.lineX1,t.lineInnerRadius=function(){return ti(i())},delete t.lineY0,t.lineOuterRadius=function(){return ti(o())},delete t.lineY1,t.curve=function(a){return arguments.length?e(kl(a)):e()._curve},t}function ei(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class Kp{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}class $M{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,n){if(e=+e,n=+n,this._point===0)this._point=1;else{const r=ei(this._x0,this._y0),i=ei(this._x0,this._y0=(this._y0+n)/2),o=ei(e,this._y0),a=ei(e,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=e,this._y0=n}}function Zp(t){return new Kp(t,!0)}function Qp(t){return new Kp(t,!1)}function EM(t){return new $M(t)}function TM(t){return t.source}function AM(t){return t.target}function os(t){let e=TM,n=AM,r=wl,i=xl,o=null,a=null,s=Bi(c);function c(){let u;const l=xM.call(arguments),h=e.apply(this,l),f=n.apply(this,l);if(o==null&&(a=t(u=s())),a.lineStart(),l[0]=h,a.point(+r.apply(this,l),+i.apply(this,l)),l[0]=f,a.point(+r.apply(this,l),+i.apply(this,l)),a.lineEnd(),u)return a=null,u+""||null}return c.source=function(u){return arguments.length?(e=u,c):e},c.target=function(u){return arguments.length?(n=u,c):n},c.x=function(u){return arguments.length?(r=typeof u=="function"?u:at(+u),c):r},c.y=function(u){return arguments.length?(i=typeof u=="function"?u:at(+u),c):i},c.context=function(u){return arguments.length?(u==null?o=a=null:a=t(o=u),c):o},c}function CM(){return os(Zp)}function NM(){return os(Qp)}function IM(){const t=os(EM);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const RM=Mt(3),Jp={draw(t,e){const n=Mt(e+dr(e/28,.75))*.59436,r=n/2,i=r*RM;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},as={draw(t,e){const n=Mt(e/gn);t.moveTo(n,0),t.arc(0,0,n,0,ln)}},tm={draw(t,e){const n=Mt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},em=Mt(1/3),PM=em*2,nm={draw(t,e){const n=Mt(e/PM),r=n*em;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},rm={draw(t,e){const n=Mt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},im={draw(t,e){const n=Mt(e-dr(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},om={draw(t,e){const n=Mt(e),r=-n/2;t.rect(r,r,n,n)}},am={draw(t,e){const n=Mt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},DM=.8908130915292852,sm=ue(gn/10)/ue(7*gn/10),zM=ue(ln/10)*sm,OM=-We(ln/10)*sm,cm={draw(t,e){const n=Mt(e*DM),r=zM*n,i=OM*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ln*o/5,s=We(a),c=ue(a);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},js=Mt(3),um={draw(t,e){const n=-Mt(e/(js*3));t.moveTo(0,n*2),t.lineTo(-js*n,-n),t.lineTo(js*n,-n),t.closePath()}},LM=Mt(3),lm={draw(t,e){const n=Mt(e)*.6824,r=n/2,i=n*LM/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},_e=-.5,be=Mt(3)/2,Qc=1/Mt(12),FM=(Qc/2+1)*3,fm={draw(t,e){const n=Mt(e/FM),r=n/2,i=n*Qc,o=r,a=n*Qc+n,s=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,c),t.lineTo(_e*r-be*i,be*r+_e*i),t.lineTo(_e*o-be*a,be*o+_e*a),t.lineTo(_e*s-be*c,be*s+_e*c),t.lineTo(_e*r+be*i,_e*i-be*r),t.lineTo(_e*o+be*a,_e*a-be*o),t.lineTo(_e*s+be*c,_e*c-be*s),t.closePath()}},Jc={draw(t,e){const n=Mt(e-dr(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},b0=[as,tm,nm,om,cm,um,fm],UM=[as,im,Jc,lm,Jp,am,rm];function BM(t,e){let n=null,r=Bi(i);t=typeof t=="function"?t:at(t||as),e=typeof e=="function"?e:at(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:at(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:at(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function pn(){}function ga(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ss(t){this._context=t}ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ga(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ga(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qM(t){return new ss(t)}function hm(t){this._context=t}hm.prototype={areaStart:pn,areaEnd:pn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ga(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YM(t){return new hm(t)}function dm(t){this._context=t}dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ga(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GM(t){return new dm(t)}function gm(t,e){this._basis=new ss(t),this._beta=e}gm.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,s=-1,c;++s<=n;)c=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+c*o),this._beta*e[s]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const HM=function t(e){function n(r){return e===1?new ss(r):new gm(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function pa(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Sl(t,e){this._context=t,this._k=(1-e)/6}Sl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:pa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const VM=function t(e){function n(r){return new Sl(r,e)}return n.tension=function(r){return t(+r)},n}(0);function $l(t,e){this._context=t,this._k=(1-e)/6}$l.prototype={areaStart:pn,areaEnd:pn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:pa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const jM=function t(e){function n(r){return new $l(r,e)}return n.tension=function(r){return t(+r)},n}(0);function El(t,e){this._context=t,this._k=(1-e)/6}El.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const WM=function t(e){function n(r){return new El(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Tl(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Vt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Vt){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function pm(t,e){this._context=t,this._alpha=e}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Tl(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const XM=function t(e){function n(r){return e?new pm(r,e):new Sl(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function mm(t,e){this._context=t,this._alpha=e}mm.prototype={areaStart:pn,areaEnd:pn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Tl(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const KM=function t(e){function n(r){return e?new mm(r,e):new $l(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ym(t,e){this._context=t,this._alpha=e}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tl(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ZM=function t(e){function n(r){return e?new ym(r,e):new El(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function _m(t){this._context=t}_m.prototype={areaStart:pn,areaEnd:pn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function QM(t){return new _m(t)}function v0(t){return t<0?-1:1}function w0(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(v0(o)+v0(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function x0(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ws(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function ma(t){this._context=t}ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ws(this,this._t0,x0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ws(this,x0(this,n=w0(this,t,e)),n);break;default:Ws(this,this._t0,n=w0(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function bm(t){this._context=new vm(t)}(bm.prototype=Object.create(ma.prototype)).point=function(t,e){ma.prototype.point.call(this,e,t)};function vm(t){this._context=t}vm.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function JM(t){return new ma(t)}function tk(t){return new bm(t)}function wm(t){this._context=t}wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=M0(t),i=M0(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function M0(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function ek(t){return new wm(t)}function cs(t,e){this._context=t,this._t=e}cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function nk(t){return new cs(t,.5)}function rk(t){return new cs(t,0)}function ik(t){return new cs(t,1)}function Tr(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ar(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ok(t,e){return t[e]}function ak(t){const e=[];return e.key=t,e}function sk(){var t=at([]),e=Ar,n=Tr,r=ok;function i(o){var a=Array.from(t.apply(this,arguments),ak),s,c=a.length,u=-1,l;for(const h of o)for(s=0,++u;s<c;++s)(a[s][u]=[0,+r(h,a[s].key,u,o)]).data=h;for(s=0,l=rs(e(a));s<c;++s)a[l[s]].index=s;return n(a,l),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:at(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:at(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Ar:typeof o=="function"?o:at(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Tr,i):n},i}function ck(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Tr(t,e)}}function uk(t,e){if((c=t.length)>0)for(var n,r=0,i,o,a,s,c,u=t[e[0]].length;r<u;++r)for(a=s=0,n=0;n<c;++n)(o=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function lk(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Tr(t,e)}}function fk(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,c=0,u=0;s<a;++s){for(var l=t[e[s]],h=l[r][1]||0,f=l[r-1][1]||0,d=(h-f)/2,g=0;g<s;++g){var p=t[e[g]],m=p[r][1]||0,y=p[r-1][1]||0;d+=m-y}c+=h,u+=d*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Tr(t,e)}}function xm(t){var e=t.map(hk);return Ar(t).sort(function(n,r){return e[n]-e[r]})}function hk(t){for(var e=-1,n=0,r=t.length,i,o=-1/0;++e<r;)(i=+t[e][1])>o&&(o=i,n=e);return n}function Mm(t){var e=t.map(km);return Ar(t).sort(function(n,r){return e[n]-e[r]})}function km(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function dk(t){return Mm(t).reverse()}function gk(t){var e=t.length,n,r,i=t.map(km),o=xm(t),a=0,s=0,c=[],u=[];for(n=0;n<e;++n)r=o[n],a<s?(a+=i[r],c.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(c)}function pk(t){return Ar(t).reverse()}const lo=t=>()=>t;function mk(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Oe(t,e,n){this.k=t,this.x=e,this.y=n}Oe.prototype={constructor:Oe,scale:function(t){return t===1?this:new Oe(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Oe(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var us=new Oe(1,0,0);Sm.prototype=Oe.prototype;function Sm(t){for(;!t.__zoom;)if(!(t=t.parentNode))return us;return t.__zoom}function Xs(t){t.stopImmediatePropagation()}function Yr(t){t.preventDefault(),t.stopImmediatePropagation()}function yk(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function _k(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function k0(){return this.__zoom||us}function bk(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function vk(){return navigator.maxTouchPoints||"ontouchstart"in this}function wk(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function xk(){var t=yk,e=_k,n=wk,r=bk,i=vk,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,c=s1,u=Vn("start","zoom","end"),l,h,f,d=500,g=150,p=0,m=10;function y(k){k.property("__zoom",k0).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",S).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(k,A,C,R){var D=k.selection?k.selection():k;D.property("__zoom",k0),k!==D?w(k,A,C,R):D.interrupt().each(function(){x(this,arguments).event(R).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},y.scaleBy=function(k,A,C,R){y.scaleTo(k,function(){var D=this.__zoom.k,P=typeof A=="function"?A.apply(this,arguments):A;return D*P},C,R)},y.scaleTo=function(k,A,C,R){y.transform(k,function(){var D=e.apply(this,arguments),P=this.__zoom,B=C==null?b(D):typeof C=="function"?C.apply(this,arguments):C,q=P.invert(B),O=typeof A=="function"?A.apply(this,arguments):A;return n(v(_(P,O),B,q),D,a)},C,R)},y.translateBy=function(k,A,C,R){y.transform(k,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof C=="function"?C.apply(this,arguments):C),e.apply(this,arguments),a)},null,R)},y.translateTo=function(k,A,C,R,D){y.transform(k,function(){var P=e.apply(this,arguments),B=this.__zoom,q=R==null?b(P):typeof R=="function"?R.apply(this,arguments):R;return n(us.translate(q[0],q[1]).scale(B.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof C=="function"?-C.apply(this,arguments):-C),P,a)},R,D)};function _(k,A){return A=Math.max(o[0],Math.min(o[1],A)),A===k.k?k:new Oe(A,k.x,k.y)}function v(k,A,C){var R=A[0]-C[0]*k.k,D=A[1]-C[1]*k.k;return R===k.x&&D===k.y?k:new Oe(k.k,R,D)}function b(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function w(k,A,C,R){k.on("start.zoom",function(){x(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(R).end()}).tween("zoom",function(){var D=this,P=arguments,B=x(D,P).event(R),q=e.apply(D,P),O=C==null?b(q):typeof C=="function"?C.apply(D,P):C,Z=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),ot=D.__zoom,rt=typeof A=="function"?A.apply(D,P):A,Q=c(ot.invert(O).concat(Z/ot.k),rt.invert(O).concat(Z/rt.k));return function(j){if(j===1)j=rt;else{var pt=Q(j),H=Z/pt[2];j=new Oe(H,O[0]-pt[0]*H,O[1]-pt[1]*H)}B.zoom(null,j)}})}function x(k,A,C){return!C&&k.__zooming||new $(k,A)}function $(k,A){this.that=k,this.args=A,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,A),this.taps=0}$.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,A){return this.mouse&&k!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var A=jt(this.that).datum();u.call(k,this.that,new mk(k,{sourceEvent:this.sourceEvent,target:y,type:k,transform:this.that.__zoom,dispatch:u}),A)}};function E(k,...A){if(!t.apply(this,arguments))return;var C=x(this,A).event(k),R=this.__zoom,D=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),P=de(k);if(C.wheel)(C.mouse[0][0]!==P[0]||C.mouse[0][1]!==P[1])&&(C.mouse[1]=R.invert(C.mouse[0]=P)),clearTimeout(C.wheel);else{if(R.k===D)return;C.mouse=[P,R.invert(P)],An(this),C.start()}Yr(k),C.wheel=setTimeout(B,g),C.zoom("mouse",n(v(_(R,D),C.mouse[0],C.mouse[1]),C.extent,a));function B(){C.wheel=null,C.end()}}function I(k,...A){if(f||!t.apply(this,arguments))return;var C=k.currentTarget,R=x(this,A,!0).event(k),D=jt(k.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",Z,!0),P=de(k,C),B=k.clientX,q=k.clientY;Aa(k.view),Xs(k),R.mouse=[P,this.__zoom.invert(P)],An(this),R.start();function O(ot){if(Yr(ot),!R.moved){var rt=ot.clientX-B,Q=ot.clientY-q;R.moved=rt*rt+Q*Q>p}R.event(ot).zoom("mouse",n(v(R.that.__zoom,R.mouse[0]=de(ot,C),R.mouse[1]),R.extent,a))}function Z(ot){D.on("mousemove.zoom mouseup.zoom",null),Ca(ot.view,R.moved),Yr(ot),R.event(ot).end()}}function S(k,...A){if(t.apply(this,arguments)){var C=this.__zoom,R=de(k.changedTouches?k.changedTouches[0]:k,this),D=C.invert(R),P=C.k*(k.shiftKey?.5:2),B=n(v(_(C,P),R,D),e.apply(this,A),a);Yr(k),s>0?jt(this).transition().duration(s).call(w,B,R,k):jt(this).call(y.transform,B,R,k)}}function M(k,...A){if(t.apply(this,arguments)){var C=k.touches,R=C.length,D=x(this,A,k.changedTouches.length===R).event(k),P,B,q,O;for(Xs(k),B=0;B<R;++B)q=C[B],O=de(q,this),O=[O,this.__zoom.invert(O),q.identifier],D.touch0?!D.touch1&&D.touch0[2]!==O[2]&&(D.touch1=O,D.taps=0):(D.touch0=O,P=!0,D.taps=1+!!l);l&&(l=clearTimeout(l)),P&&(D.taps<2&&(h=O[0],l=setTimeout(function(){l=null},d)),An(this),D.start())}}function N(k,...A){if(this.__zooming){var C=x(this,A).event(k),R=k.changedTouches,D=R.length,P,B,q,O;for(Yr(k),P=0;P<D;++P)B=R[P],q=de(B,this),C.touch0&&C.touch0[2]===B.identifier?C.touch0[0]=q:C.touch1&&C.touch1[2]===B.identifier&&(C.touch1[0]=q);if(B=C.that.__zoom,C.touch1){var Z=C.touch0[0],ot=C.touch0[1],rt=C.touch1[0],Q=C.touch1[1],j=(j=rt[0]-Z[0])*j+(j=rt[1]-Z[1])*j,pt=(pt=Q[0]-ot[0])*pt+(pt=Q[1]-ot[1])*pt;B=_(B,Math.sqrt(j/pt)),q=[(Z[0]+rt[0])/2,(Z[1]+rt[1])/2],O=[(ot[0]+Q[0])/2,(ot[1]+Q[1])/2]}else if(C.touch0)q=C.touch0[0],O=C.touch0[1];else return;C.zoom("touch",n(v(B,q,O),C.extent,a))}}function T(k,...A){if(this.__zooming){var C=x(this,A).event(k),R=k.changedTouches,D=R.length,P,B;for(Xs(k),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),P=0;P<D;++P)B=R[P],C.touch0&&C.touch0[2]===B.identifier?delete C.touch0:C.touch1&&C.touch1[2]===B.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(B=de(B,this),Math.hypot(h[0]-B[0],h[1]-B[1])<m)){var q=jt(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return y.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:lo(+k),y):r},y.filter=function(k){return arguments.length?(t=typeof k=="function"?k:lo(!!k),y):t},y.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:lo(!!k),y):i},y.extent=function(k){return arguments.length?(e=typeof k=="function"?k:lo([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),y):e},y.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],y):[o[0],o[1]]},y.translateExtent=function(k){return arguments.length?(a[0][0]=+k[0][0],a[1][0]=+k[1][0],a[0][1]=+k[0][1],a[1][1]=+k[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(k){return arguments.length?(n=k,y):n},y.duration=function(k){return arguments.length?(s=+k,y):s},y.interpolate=function(k){return arguments.length?(c=k,y):c},y.on=function(){var k=u.on.apply(u,arguments);return k===u?y:k},y.clickDistance=function(k){return arguments.length?(p=(k=+k)*k,y):Math.sqrt(p)},y.tapDistance=function(k){return arguments.length?(m=+k,y):m},y}const Mk=Object.freeze(Object.defineProperty({__proto__:null,Adder:It,Delaunay:Du,FormatSpecifier:Ua,InternMap:fi,InternSet:In,Node:Un,Path:Ii,Voronoi:$1,ZoomTransform:Oe,active:Q3,arc:wM,area:jp,areaRadial:_0,ascending:$t,autoType:o2,axisBottom:q_,axisLeft:Y_,axisRight:B_,axisTop:U_,bin:cf,bisect:Hn,bisectCenter:zy,bisectLeft:Dy,bisectRight:id,bisector:Ma,blob:Bm,blur:Oy,blur2:od,blurImage:Ly,brush:f6,brushSelection:c6,brushX:u6,brushY:l6,buffer:Ym,chord:d6,chordDirected:p6,chordTranspose:g6,cluster:f8,color:hn,contourDensity:B6,contours:xc,count:ka,create:kv,creator:Ea,cross:Hy,csv:tu,csvFormat:Wm,csvFormatBody:Xm,csvFormatRow:Zm,csvFormatRows:Km,csvFormatValue:Qm,csvParse:P0,csvParseRows:jm,cubehelix:Ie,cumsum:Vy,curveBasis:qM,curveBasisClosed:YM,curveBasisOpen:GM,curveBumpX:Zp,curveBumpY:Qp,curveBundle:HM,curveCardinal:VM,curveCardinalClosed:jM,curveCardinalOpen:WM,curveCatmullRom:XM,curveCatmullRomClosed:KM,curveCatmullRomOpen:ZM,curveLinear:is,curveLinearClosed:QM,curveMonotoneX:JM,curveMonotoneY:tk,curveNatural:ek,curveStep:nk,curveStepAfter:ik,curveStepBefore:rk,descending:td,deviation:cd,difference:T_,disjoint:A_,dispatch:Vn,drag:Rv,dragDisable:Aa,dragEnable:Ca,dsv:c2,dsvFormat:_a,easeBack:If,easeBackIn:G3,easeBackInOut:If,easeBackOut:H3,easeBounce:vi,easeBounceIn:q3,easeBounceInOut:Y3,easeBounceOut:vi,easeCircle:Nf,easeCircleIn:I3,easeCircleInOut:Nf,easeCircleOut:R3,easeCubic:yc,easeCubicIn:k3,easeCubicInOut:yc,easeCubicOut:S3,easeElastic:Rf,easeElasticIn:V3,easeElasticInOut:j3,easeElasticOut:Rf,easeExp:Cf,easeExpIn:C3,easeExpInOut:Cf,easeExpOut:N3,easeLinear:w3,easePoly:Tf,easePolyIn:$3,easePolyInOut:Tf,easePolyOut:E3,easeQuad:Ef,easeQuadIn:x3,easeQuadInOut:Ef,easeQuadOut:M3,easeSin:Af,easeSinIn:T3,easeSinInOut:Af,easeSinOut:A3,every:x_,extent:ri,fcumsum:Wy,filter:k_,flatGroup:Xy,flatRollup:Ky,forceCenter:s5,forceCollide:Ou,forceLink:E5,forceManyBody:T1,forceRadial:D5,forceSimulation:Lu,forceX:z5,forceY:O5,get format(){return Ba},formatDefaultLocale:N1,formatLocale:C1,get formatPrefix(){return Fu},formatSpecifier:wr,fsum:jy,geoAlbers:pg,geoAlbersUsa:Y4,geoArea:j5,geoAzimuthalEqualArea:G4,geoAzimuthalEqualAreaRaw:Xu,geoAzimuthalEquidistant:H4,geoAzimuthalEquidistantRaw:Ku,geoBounds:Z5,geoCentroid:r4,geoCircle:i4,geoClipAntimeridian:Dc,geoClipCircle:J1,geoClipExtent:f4,geoClipRectangle:qa,geoConicConformal:j4,geoConicConformalRaw:_g,geoConicEqualArea:la,geoConicEqualAreaRaw:gg,geoConicEquidistant:X4,geoConicEquidistantRaw:bg,geoContains:_4,geoDistance:ea,geoEqualEarth:Z4,geoEqualEarthRaw:Zu,geoEquirectangular:W4,geoEquirectangularRaw:Si,geoGnomonic:Q4,geoGnomonicRaw:Qu,geoGraticule:ng,geoGraticule10:b4,geoIdentity:J4,geoInterpolate:v4,geoLength:tg,geoMercator:V4,geoMercatorRaw:Oi,geoNaturalEarth1:t8,geoNaturalEarth1Raw:Ju,geoOrthographic:e8,geoOrthographicRaw:tl,geoPath:R4,geoProjection:Ge,geoProjectionMutator:ju,geoRotation:j1,geoStereographic:n8,geoStereographicRaw:el,geoStream:Te,geoTransform:P4,geoTransverseMercator:r8,geoTransverseMercatorRaw:nl,gray:Hv,greatest:_d,greatestIndex:m_,group:hd,groupSort:Jy,groups:dd,hcl:zo,hierarchy:Ga,histogram:cf,hsl:Ro,html:g2,image:l2,index:Zy,indexes:Qy,interpolate:yn,interpolateArray:Zv,interpolateBasis:Wd,interpolateBasisClosed:Xd,interpolateBlues:W9,interpolateBrBG:E9,interpolateBuGn:z9,interpolateBuPu:O9,interpolateCividis:tM,interpolateCool:rM,interpolateCubehelix:hw,interpolateCubehelixDefault:eM,interpolateCubehelixLong:Da,interpolateDate:e1,interpolateDiscrete:tw,interpolateGnBu:L9,interpolateGreens:X9,interpolateGreys:K9,interpolateHcl:lw,interpolateHclLong:fw,interpolateHsl:sw,interpolateHslLong:cw,interpolateHue:ew,interpolateInferno:fM,interpolateLab:uw,interpolateMagma:lM,interpolateNumber:ve,interpolateNumberArray:ku,interpolateObject:n1,interpolateOrRd:F9,interpolateOranges:J9,interpolatePRGn:T9,interpolatePiYG:A9,interpolatePlasma:hM,interpolatePuBu:B9,interpolatePuBuGn:U9,interpolatePuOr:C9,interpolatePuRd:q9,interpolatePurples:Z9,interpolateRainbow:iM,interpolateRdBu:N9,interpolateRdGy:I9,interpolateRdPu:Y9,interpolateRdYlBu:R9,interpolateRdYlGn:P9,interpolateReds:Q9,interpolateRgb:yi,interpolateRgbBasis:Qd,interpolateRgbBasisClosed:Kv,interpolateRound:Pa,interpolateSinebow:sM,interpolateSpectral:D9,interpolateString:Su,interpolateTransformCss:o1,interpolateTransformSvg:a1,interpolateTurbo:cM,interpolateViridis:uM,interpolateWarm:nM,interpolateYlGn:H9,interpolateYlGnBu:G9,interpolateYlOrBr:V9,interpolateYlOrRd:j9,interpolateZoom:s1,interrupt:An,intersection:C_,interval:yw,isoFormat:s9,isoParse:l9,json:h2,lab:Do,lch:Vv,least:p_,leastIndex:wd,line:Ml,lineRadial:y0,link:os,linkHorizontal:CM,linkRadial:IM,linkVertical:NM,local:Rd,map:S_,matcher:yu,max:hi,maxIndex:du,mean:s_,median:c_,medianIndex:u_,merge:pu,min:Co,minIndex:gu,mode:f_,namespace:Ai,namespaces:sc,nice:fu,now:Ni,pack:$g,packEnclose:D8,packSiblings:F8,pairs:h_,partition:B8,path:Pu,pathRound:_6,permute:yd,pie:SM,piecewise:f1,pointRadial:ei,pointer:de,pointers:$v,polygonArea:r7,polygonCentroid:i7,polygonContains:c7,polygonHull:s7,polygonLength:u7,precisionFixed:I1,precisionPrefix:R1,precisionRound:P1,quadtree:Fa,quantile:di,quantileIndex:vd,quantileSorted:bd,quantize:dw,quickselect:Sa,radialArea:_0,radialLine:y0,randomBates:d7,randomBernoulli:m7,randomBeta:Rg,randomBinomial:Pg,randomCauchy:_7,randomExponential:g7,randomGamma:ol,randomGeometric:Ig,randomInt:f7,randomIrwinHall:Ng,randomLcg:M7,randomLogNormal:h7,randomLogistic:b7,randomNormal:il,randomPareto:p7,randomPoisson:v7,randomUniform:l7,randomWeibull:y7,range:cn,rank:g_,reduce:$_,reverse:E_,rgb:yr,ribbon:$6,ribbonArrow:E6,rollup:uu,rollups:pd,scaleBand:sl,scaleDiverging:yp,scaleDivergingLog:_p,scaleDivergingPow:bl,scaleDivergingSqrt:m9,scaleDivergingSymlog:bp,scaleIdentity:Lg,scaleImplicit:Xc,scaleLinear:Og,scaleLog:Ug,scaleOrdinal:al,scalePoint:Kc,scalePow:hl,scaleQuantile:Yg,scaleQuantize:Gg,scaleRadial:qg,scaleSequential:dp,scaleSequentialLog:gp,scaleSequentialPow:_l,scaleSequentialQuantile:mp,scaleSequentialSqrt:p9,scaleSequentialSymlog:pp,scaleSqrt:D7,scaleSymlog:Bg,scaleThreshold:Hg,scaleTime:d9,scaleUtc:g9,scan:y_,schemeAccent:_9,schemeBlues:Bp,schemeBrBG:vp,schemeBuGn:Ap,schemeBuPu:Cp,schemeCategory10:y9,schemeDark2:b9,schemeGnBu:Np,schemeGreens:qp,schemeGreys:vl,schemeOrRd:Ip,schemeOranges:Hp,schemePRGn:wp,schemePaired:v9,schemePastel1:w9,schemePastel2:x9,schemePiYG:xp,schemePuBu:Pp,schemePuBuGn:Rp,schemePuOr:Mp,schemePuRd:Dp,schemePurples:Yp,schemeRdBu:kp,schemeRdGy:Sp,schemeRdPu:zp,schemeRdYlBu:$p,schemeRdYlGn:Ep,schemeReds:Gp,schemeSet1:M9,schemeSet2:k9,schemeSet3:S9,schemeSpectral:Tp,schemeTableau10:$9,schemeYlGn:Lp,schemeYlGnBu:Op,schemeYlOrBr:Fp,schemeYlOrRd:Up,select:jt,selectAll:Ev,selection:jn,selector:Ta,selectorAll:mu,shuffle:__,shuffler:xd,some:M_,sort:ic,stack:sk,stackOffsetDiverging:uk,stackOffsetExpand:ck,stackOffsetNone:Tr,stackOffsetSilhouette:lk,stackOffsetWiggle:fk,stackOrderAppearance:xm,stackOrderAscending:Mm,stackOrderDescending:dk,stackOrderInsideOut:gk,stackOrderNone:Ar,stackOrderReverse:pk,stratify:H8,style:Dn,subset:I_,sum:b_,superset:kd,svg:p2,symbol:BM,symbolAsterisk:Jp,symbolCircle:as,symbolCross:tm,symbolDiamond:nm,symbolDiamond2:rm,symbolPlus:im,symbolSquare:om,symbolSquare2:am,symbolStar:cm,symbolTimes:Jc,symbolTriangle:um,symbolTriangle2:lm,symbolWye:fm,symbolX:Jc,symbols:b0,symbolsFill:b0,symbolsStroke:UM,text:ba,thresholdFreedmanDiaconis:o_,thresholdScott:a_,thresholdSturges:hu,tickFormat:zg,tickIncrement:Pn,tickStep:Ao,ticks:Rn,timeDay:Rr,timeDays:B7,get timeFormat(){return pl},timeFormatDefaultLocale:fp,timeFormatLocale:op,timeFriday:Wg,timeFridays:W7,timeHour:Xa,timeHours:F7,timeInterval:Ct,timeMillisecond:Sr,timeMilliseconds:t0,timeMinute:ja,timeMinutes:O7,timeMonday:$i,timeMondays:G7,timeMonth:Za,timeMonths:nx,get timeParse(){return lp},timeSaturday:Xg,timeSaturdays:X7,timeSecond:Qe,timeSeconds:n0,timeSunday:$r,timeSundays:r0,timeThursday:Bn,timeThursdays:j7,timeTickInterval:ip,timeTicks:rp,timeTuesday:Vg,timeTuesdays:H7,timeWednesday:jg,timeWednesdays:V7,timeWeek:$r,timeWeeks:r0,timeYear:Be,timeYears:ix,timeout:dc,timer:Oa,timerFlush:g1,transition:_1,transpose:Md,tree:Q8,treemap:J8,treemapBinary:t7,treemapDice:Li,treemapResquarify:n7,treemapSlice:Ha,treemapSliceDice:e7,treemapSquarify:Cg,tsv:u2,tsvFormat:t2,tsvFormatBody:e2,tsvFormatRow:r2,tsvFormatRows:n2,tsvFormatValue:i2,tsvParse:D0,tsvParseRows:Jm,union:R_,unixDay:gl,unixDays:Y7,utcDay:Ui,utcDays:q7,get utcFormat(){return Ja},utcFriday:Qg,utcFridays:tx,utcHour:Ka,utcHours:U7,utcMillisecond:Sr,utcMilliseconds:t0,utcMinute:Wa,utcMinutes:L7,utcMonday:Ei,utcMondays:K7,utcMonth:Qa,utcMonths:rx,get utcParse(){return ml},utcSaturday:Jg,utcSaturdays:ex,utcSecond:Qe,utcSeconds:n0,utcSunday:Er,utcSundays:i0,utcThursday:qn,utcThursdays:J7,utcTickInterval:np,utcTicks:ep,utcTuesday:Kg,utcTuesdays:Z7,utcWednesday:Zg,utcWednesdays:Q7,utcWeek:Er,utcWeeks:i0,utcYear:qe,utcYears:ox,variance:sd,window:_u,xml:d2,zip:w_,zoom:xk,zoomIdentity:us,zoomTransform:Sm},Symbol.toStringTag,{value:"Module"}));class kk{constructor(e="en",n){this.lang=e==="en"||e==="es"?e:"en",this.options={typewriterSpeed:50,defaultCSS:!0,adventureContainer:void 0,adventureScroll:!1,adventureSlide:!0,evalTags:!1,igramaFormat:"png",urlWord:"URL",vizWidth:1e3,vizHeight:1e3,vizBg:"#313131",vizImageSize:50,minigifOptions:{},sceneCallback:r=>(document.querySelectorAll(".storymeta-key").forEach(o=>{switch(o.textContent.trim()){case"obras":o.textContent="Obra";break;case"autor":o.textContent="Autor";break;case"fecha":o.textContent="Fecha";break;case"tecnica":o.textContent="Técnica";break}}),r)},n&&(this.options=Object.assign(this.options,n)),this.grammarError=!1,this.scenesError=!1,this.fijarGramatica=this.setGrammar,this.expandirGramatica=this.expandGrammar,this.probarGramatica=this.testGrammar,this.fijarEscenas=this.setScenes,this.iniciarAventura=this.startAdventure,this.probarEscenas=this.testScenes,this.cargarJSON=this.loadJSON,this.modeloMarkov=this.getMarkovModel,this.fijarMarkov=this.setMarkov,this.cadenaMarkov=this.markovChain,this.probarDistribucion=this.testDistribution,this.markovSeparator=/[^\S\r\n]+/i,this.fijarIgrama=this.setIgrama,this.expandirIgrama=this.expandIgrama,this.mostrarIgrama=this.showIgrama,this.textoIgrama=this.getIgramaText,this.imgsMemo={},this.storyPreload={}}setGrammar(e){return this.grammar=e,this}setIgrama(e){this.igrama=e;for(let[n,r]of Object.entries(e.grammar));return this}setScenes(e){this.scenes=e,console.log(e);for(let n of Object.keys(e)){this.scenes[n].key=n;const r=this.scenes[n].image||this.scenes[n].imagen;r!==void 0&&this.storyPreload[r]===void 0&&(this.storyPreload[r]=new Image,this.storyPreload[r].src=r,this.storyPreload[r].className="storyimage")}return this}async setDataScenes(e,n=void 0,r=[]){if(typeof Mk>"u"){console.error(this.lang==="es"?"Para crear visualizaciones debes tener también la librería D3":"To create visualizations you must have also the MiniGif D3");return}return this.scenes=JSON.parse(JSON.stringify(e)),this.metaKeys=r,n!==void 0&&(this.data=JSON.parse(JSON.stringify(n)),await this.setViz(this.scenes,this.data,r)),this.setScenes(this.scenes),this}async setViz(e,n){const r=Object.keys(e),i={compare:Sk,scatter:$k,pack:Ek};for(let o of r){if(e[o].viz===void 0)continue;const{filter:a,type:s,x:c,y:u}=e[o].viz;if(i[s]===void 0||c===void 0||u===void 0){const d=this.lang==="es"?`Parámetros incorrectos de visualización en la escena "${o}"`:`Incorrect parameteres in the scene "${o}"`;console.error(d)}let l=n;for(let d of a)l=this.filterFn(d)(l);const{viz:h,areas:f}=await i[s](l,c,u,this.options);e[o].image=h,e[o].areas=f}for(let o of n){if(o.ID===void 0){const a=this.lang==="es"?"Todos los datos deben tener un valor único con la clave ID":"All data must have a unique value with the ID key";console.error(a),this.scenes={};break}e[`ind_${o.ID}`]={text:`${o.CONT||""}`,meta:o.ID,dataScene:!0,options:[{btn:"<<<",scene:`ind_${o.ID}`}]},o.IMGURL!==void 0&&(e[`ind_${o.ID}`].image=o.IMGURL),o.URL!==void 0&&(e[`ind_${o.ID}`].url=o.URL)}}filterFn(e){return e[1]==="="||e[1]==="=="||e[1]==="==="?n=>n.filter(r=>r[e[0]]==e[2]):e[1]==="<"?n=>n.filter(r=>r[e[0]]<e[2]):e[1]===">"?n=>n.filter(r=>r[e[0]]>e[2]):n=>n}setMarkov(e){return this.markov=e,this}expandGrammar(e){const n=this.selectGrammarRule(this.grammar[e]);return this.grammarRuleRecursion(n)}expandIgrama(e){const n=this.igrama.grammar,r=this.selectGrammarRule(n[e]);return this.grammarRuleRecursion(r,n).split("|").map(o=>this.decodeDrawing(o))}grammarRuleRecursion(e,n){let r=n||this.grammar,i=this.setNewRules(e);const o=i.match(/<[\w\d.,/#]+>/gi);if(!o)return i;for(let a of o){const s=this.defineTransformations(a);i=i.replace(a,()=>{a=a.replace(/[<>]/gi,""),a=a.replace(/#[\w\d.,/]+#/g,"");const c=a.search(/[.]/)>-1?this.getNestedObject(r,a.match(/[\w\d]+/g)):r[a];if(!c){const l=this.lang==="es"?`Se intentó expandir desde la regla "${a}", pero no se pudo encontrar`:`Tried to expand from rule "${a}", but couldn't find it`;console.error(l)}const u=this.selectGrammarRule(c);return this.transformString(u,s)})}return this.grammarRuleRecursion(i,r)}setNewRules(e,n){let r;n===void 0?r=this.grammar:r=n;let i=e;const o=i.match(/\$[\w\d]+\$\[[\w\d:,-]+\]/ig);if(o)for(;o.length;){const a=o.pop();i=i.replace(a,"");const{symbol:s,pairsString:c}=/\$(?<symbol>[\w\d]+)\$\[(?<pairsString>[\w\d:,-]+)\]/i.exec(a).groups,u=c.match(/[-]?[\w\d]+:[\w\d]+/gi).map(l=>/(?<remove>[-]?)(?<key>[\w\d]+)[ ]?:[ ]?(?<value>[\w\d]+)/gi.exec(l).groups);if(u){r[s]=r[s]||{};for(let l of u){const h=r[l.value];if(!h){const g=this.lang==="es"?`Se intentó crear la nueva regla "${s}", pero no se pudo encontrar "${l.value}" para producir la subregla "${l.key}"`:`Tried to create new rule: "${s}", but couldn't find "${l.value}" to produce "${l.key}" subrule`;console.error(g)}const f=l.remove==="-",d=this.selectGrammarRule(h);if(f){const g=h.indexOf(d);r[l.value]=[...h.slice(0,g),...h.slice(g+1)]}r[s][l.key]=[d]}}}return i}startAdventure(e){this.options.defaultCSS&&this.setCSS();const n=document.createElement("div");return n.id="storygeneraldiv",(this.options.adventureContainer!==void 0?document.getElementById(this.options.adventureContainer):document.body).appendChild(n),this.prevScene=e,this.goToScene(this.scenes[e]),this}goToScene(e){const n=document.getElementById("storygeneraldiv");(!this.options.adventureScroll||e.plop===!0)&&[...document.getElementsByClassName("storydiv")].map(c=>c.remove()),[...document.getElementsByClassName("storyimage-area")].map(s=>s.remove());const i=document.createElement("div");if(i.className="storydiv",n.appendChild(i),e.image||e.imagen){const s=document.createElement("div");s.className="storyimage-container",i.appendChild(s);const c=e.image||e.imagen,u=this.options.adventureScroll?this.storyPreload[c].cloneNode():this.storyPreload[c];s.appendChild(u),e.areas&&(u.complete?this.setAreas(u,s,e.areas):u.onload=()=>{this.setAreas(u,s,e.areas)})}else if(e.igrama!==void 0){const s=document.createElement("div");s.className="storyimage-container",i.appendChild(s);const c=this.expandIgrama(e.igrama);e.igramaText=this.getIgramaText(c),this.igramaDataUrl(c,this.options.igramaFormat).then(u=>{const l=new Image;l.src=u,l.className="storyimage",s.appendChild(l)})}if(e.title||e.titulo){const s=document.createElement("div");s.className="storytitle-container",i.appendChild(s);const c=document.createElement("h1");c.className="storytitle",c.textContent=e.title||e.titulo,s.appendChild(c)}if(e.meta!==void 0){const s=document.createElement("div");s.className="storymeta-container",i.appendChild(s);const c=this.data.find(u=>u.ID==e.meta);for(let u of this.metaKeys){if(c[u]===void 0)continue;const l=document.createElement("div");l.className="storymeta-subcontainer",s.appendChild(l);const h=document.createElement("span");h.className="storymeta-key";const d={obras:"Obra",autor:"Autor",fecha:"Fecha",tecnica:"Técnica",fuente:"Fuente",descripcion:"Descripción",URL:"Repositorio"}[u]||u;h.textContent=`${d}: `,l.appendChild(h);const g=document.createElement("span");g.className="storymeta-val",g.textContent=c[u],l.appendChild(g)}}const o=document.createElement("div");o.className="storyp-container",(e.text||e.texto||e.igramaText)&&i.appendChild(o);const a=document.createElement("p");if(a.className="storyp",a.textContent="",o.appendChild(a),e.url){const s=document.createElement("a");s.className="storyurl",s.href=e.url,s.target="_blank",s.textContent=this.options.urlWord,o.appendChild(s)}this.options.adventureSlide&&document.getElementById("storygeneraldiv").scrollIntoView({behavior:"smooth",block:"end"}),this.typewriter(a,e),this.data&&(e.viz!==void 0?this.prevScene=e.key:e.dataScene===!0&&(e.options[0].scene=this.prevScene)),this.options.sceneCallback(e)}setAreas(e,n,r){const i=e.getBoundingClientRect(),o=n.getBoundingClientRect();window.onresize=()=>{document.getElementsByClassName("storyimage-area").length>0&&this.setAreas(e,n,r)},[...document.getElementsByClassName("storyimage-area")].map(s=>s.remove());for(let s of r){let c=document.createElement("div");c.className="storyimage-area";const u=(s.x-Math.floor(s.w/2))*i.width/e.naturalWidth;c.style.left=`${i.left-o.left+u}px`;const l=(s.y-Math.floor(s.h/2))*i.height/e.naturalHeight;c.style.top=`${i.top-o.top+l}px`,c.style.width=`${s.w*i.width/e.naturalWidth}px`,c.style.height=`${s.h*i.height/e.naturalHeight}px`,c.textContent=s.btn||"",n.appendChild(c),c.style.fontSize=`${18*i.height/e.naturalHeight}px`,c.onclick=()=>{const h=s.scene||s.escena;this.goToScene(this.scenes[h])},s.tooltip!==void 0&&(c.onmouseover=()=>{c.textContent=s.tooltip||"",c.style.zIndex="100"},c.onmouseout=()=>{c.textContent=s.btn||"",c.style.zIndex="0"})}}async typewriter(e,n){const r=n.text||n.texto||n.igramaText||"";let i=this.grammar?this.grammarRuleRecursion(r):r;if(i=i.replace(/\n/g,"<br>"),this.options.typewriterSpeed>0){let o=0;await new Promise(a=>{const s=setInterval(()=>{const c=i.substring(0,o);this.options.evalTags?e.innerHTML=c:e.textContent=c,o++,o>i.length&&(clearInterval(s),a(!0))},Math.floor(this.options.typewriterSpeed))}),this.optionButtons(n)}else this.options.evalTags?e.innerHTML=i:e.textContent=i,this.optionButtons(n)}optionButtons(e){const n=[...document.getElementsByClassName("storydiv")],r=n[n.length-1];[...document.getElementsByClassName("storybutton-container")].map(a=>a.remove());const o=document.createElement("div");if(o.className="storybutton-container",r.appendChild(o),e.options||e.opciones){const a=e.options||e.opciones;for(let s of a){const c=document.createElement("button");c.className="storybutton",c.textContent=s.btn,o.appendChild(c),c.addEventListener("click",()=>{if((s.text||s.texto)===void 0){const l=s.scene||s.escena;this.goToScene(this.scenes[l])}else this.goToScene(s)})}}else if(e.scene||e.escena){const a=e.scene||e.escena,s=document.createElement("button");s.className="storybutton",s.textContent=this.lang==="en"?"Continue":"Continuar",o.appendChild(s),s.addEventListener("click",()=>{this.goToScene(this.scenes[a])})}this.options.adventureSlide&&document.getElementById("storygeneraldiv").scrollIntoView({behavior:"smooth",block:"end"})}selectGrammarRule(e){if(e.length===0)return"";if(e.prob){const i=Math.random()*e.prob.reduce((a,s)=>a+s);let o=0;for(let a=0;a<e.prob.length;a++){if(o<=i&&i<o+e.prob[a])return e[a];o+=e.prob[a]}}const n=Math.floor(Math.random()*e.length);return e[n]}getNestedObject(e,n){return n.reduce((r,i)=>r&&r[i]!==void 0?r[i]:void 0,e)}defineTransformations(e){let n={};const r=/#(?<trans>[\w\d,]+)#/gi.exec(e),i=r?r.groups.trans.match(/[\w]+/gi):[];for(let o of i)n[o]=!0;return n}transformString(e,n){let r=e;return n.CAPITALIZE&&(r=r.charAt(0).toUpperCase()+r.slice(1)),n.ALLCAPS&&(r=r.toUpperCase()),r}decodeDrawing(e){if(e==="")return[];const[n,r,i]=e.split("%%");let o={};return n==="vector"?o.content=r.split("**").map(a=>{const[s,c,u]=a.split("&"),l=[];if(l.color=s,l.weight=c,u===void 0)return l;const h=u.split(",");for(let f=0;f<h.length;f+=2)l.push([+h[f],+h[f+1]]);return l}):o.content=r,o.attribute=i,o.type=n,o}async getMarkovModel(e,n=1,r=!1){let i=await(await fetch(`./${e}`)).text();i=i.replace(/([,:.;])/g," $1").replace(/[()\¿¡!?”“—-]/g,"").toLowerCase();const o=i.split(this.markovSeparator),a={};for(let c=0;c<o.length-n;c++){let u="";for(let h=0;h<n;h++)u+=h===0?o[c+h]:" "+o[c+h];a[u]===void 0&&(a[u]={});const l=o[c+n];a[u][l]===void 0?a[u][l]=1:a[u][l]++}const s={};for(let c of Object.keys(a)){const u=Object.keys(a[c]);s[c]={probs:[],grams:u};let l=0;for(let h=0;h<u.length;h++)l+=a[c][u[h]];for(let h=0;h<u.length;h++)s[c].probs[h]=a[c][u[h]]/l}if(r){const c=e.split("/");this.saveJSON(s,`${c[c.length-1]}_markovModel_${n}N.json`)}return s}markovChain(e,n,r=.1){let i=n===void 0||this.markov[n]===void 0?this.randomMarkovWord():n,o=i;for(let s=0;s<e-1;s++){let c=this.getNextMarkov(this.markov[o]);c===void 0&&(c=this.getNextMarkov(this.randomMarkovWord()));let u=o.split(this.markovSeparator);u.push(c),u=u.slice(1).join(" "),o=u,i+=` ${c}`}return this.formatMarkov(i,r)}randomMarkovWord(){const e=Math.floor(Math.random()*Object.keys(this.markov).length);return Object.keys(this.markov)[e]}getNextMarkov(e){const n=Math.random();let r=0;if(e!==void 0)for(let i=0;i<e.probs.length;i++){if(r<=n&&n<r+e.probs[i])return e.grams[i];r+=e.probs[i]}}formatMarkov(e,n=.1){let r=e.replace(/ ([,:.;])/g,"$1");return r=r.replaceAll(/([.]) ([\wáéíóú])/ig,(i,o,a,s,c)=>Math.random()<n?`.
${a.toUpperCase()}`:`. ${a.toUpperCase()}`),r.charAt(0).toUpperCase()+r.slice(1)}async loadJSON(e){return await(await fetch(e)).json()}saveJSON(e,n){const r=document.createElement("a");r.href=URL.createObjectURL(new Blob([JSON.stringify(e,null,2)],{type:"application/json"})),r.setAttribute("download",`${n.includes(".json")?n:n+".json"}`),document.body.appendChild(r),r.click(),document.body.removeChild(r)}testScenes(e){const n=e||this.scenes;if(!n){const i=this.lang==="es"?"No hay escenas para probar":"There are not scenes to test";console.error(i)}let r=[];for(let i of Object.keys(n)){const o=n[i];if(o.options||o.opciones){const s=(o.options||o.opciones).filter(c=>!n[c.scene||c.escena]);r=[...r,...s.map(c=>`${i} => ${c.btn} => ${c.scene||c.escena}`)]}else{if(o.deadEnd||o.sinSalida)continue;n[o.scene||o.escena]||r.push(`${i} => ${o.scene||o.escena}`)}}if(r.length>0){const i=this.lang==="es"?`Las siguientes escenas no llevan a ningún lado: ${r.join(", ")}`:`The following scenes are dead ends: ${r.join(", ")}`;console.error(i),this.scenesError=!0}return this}testGrammar(e){const n=e||this.grammar;if(!n){const r=this.lang==="es"?"No hay gramática para probar":"There is not grammar to test";console.error(r)}for(let r of Object.keys(n)){const i=n[r];for(let o of i){const a=o.match(/<([\w\d]+)>/gi),s=a?a.map(h=>h.replace(/[<>]/g,"")):[],c=o.match(/\$[\w\d]+\$\[([\w\d.,:]+)\]/gi),u=c?c.map(h=>h.match(/([ ]?:[\w\d]+)/g).map(f=>/[ ]?:(?<key>[\w\d]+)/.exec(f).groups.key)).reduce((h,f)=>[...h,...f],[]):[],l=[...s,...u].filter(h=>!n[h]);if(l.length>0){const h=this.lang==="es"?`Las siguientes reglas, que se referencian en "${r}", no existen: ${l.join(", ")}`:`The following rules, referenced in "${r}", do not exist: ${l.join(", ")}`;this.grammarError=!0,console.error(h)}}}return this}testDistribution(e){const n=e||this.markov;if(n===void 0){const u=this.lang==="es"?"No hay modelo Markov para probar":"There is not Markov model to test";console.error(u)}const r={},i={};let o=0;const a=Object.values(n);for(let u of a)for(let l of u.probs){const h=(Math.round(l/.05)*.05).toFixed(2);i[o]=h,o++,r[h]===void 0?r[h]=1:r[h]++}console.log("------------------------------------ DIST ------------------------------------");const s=Math.max(...Object.values(r)),c=Object.entries(r).sort((u,l)=>u[0]>l[0]?1:u[0]<l[0]?-1:0);for(let u of c)console.log(`${u[0]}... ${"|".repeat(Math.ceil(u[1]*100/s))}`);return console.log("------------------------------------ DIST ------------------------------------"),this}async showIgrama(e,n="png",r){const i=await this.igramaDataUrl(e,n),o=new Image;o.src=i,r==null?document.body.appendChild(o):document.getElementById(r).appendChild(o)}async igramaDataUrl(e,n="png"){const r=this.igrama.metadata.width,i=this.igrama.metadata.height;let o=document.createElement("canvas");o.width=r,o.height=i;const a=o.getContext("2d");a.lineJoin="round",a.lineCap="round",a.fillStyle=this.igrama.metadata.bg||"#FFFFFF",a.fillRect(0,0,r,i),await this.drawLayers(e,a);let s;if(n==="png")s=o.toDataURL();else if(n==="gif"){if(typeof MiniGif>"u")return console.error(this.lang==="es"?"Para crear Gifs debes tener también la librería MiniGif":"To create Gifs you must have also the MiniGif library"),"";const c={colorResolution:7,dither:!1,delay:50};Object.assign(c,this.minigifOptions);const u=new MiniGif(c);u.addFrame(o);const l=this.getLayerWiggle(e);a.fillStyle=this.igrama.metadata.bg||"#FFFFFF",a.fillRect(0,0,r,i),await this.drawLayers(l,a),u.addFrame(o);const h=u.makeGif();s="data:image/gif;base64,"+await this.base64_arraybuffer(h)}return o.remove(),s}async base64_arraybuffer(e){return(await new Promise(r=>{const i=new FileReader;i.onload=()=>r(i.result),i.readAsDataURL(new Blob([e]))})).split(",",2)[1]}getLayerWiggle(e){const r=JSON.parse(JSON.stringify(e)),i=(o,a)=>Math.floor(o+Math.random()*(a-o));for(let[o,a]of r.entries())if(a.type==="vector")for(let[s,c]of a.content.entries()){for(let[u,l]of c.entries())Math.random()<.5?l[0]+=i(-3,3):l[1]+=i(-3,3);c.color=e[o].content[s].color,c.weight=e[o].content[s].weight}return r}getIgramaText(e){return e.map(r=>r.attribute).reverse().join(" ").trim()}async drawLayers(e,n){for(let[r,i]of e.entries())if(i.type==="url"){const{w:o,h:a,x:s,y:c}=this.igrama.sections[r];if(this.imgsMemo[i.content]===void 0){const u=new Image;u.src=i.content,this.imgsMemo[i.content]=await new Promise(l=>{u.addEventListener("load",()=>{l(u)},!1)})}n.drawImage(this.imgsMemo[i.content],s,c,o,a)}else if(i.type=="vector")for(let o of i.content){if(o.length===0)continue;const a=this.getSpline(o);this.drawSpline(a,n,o.color,o.weight)}}drawSpline(e,n,r,i){n.lineWidth=i,n.strokeStyle=r,n.fillStyle="rgba(0,0,0,0)",n.beginPath();for(let o=0;o<e.length;o++)o===0?n.moveTo(...e[0]):n.lineTo(...e[o]);n.stroke()}getSpline(e){let n=[];for(let r=0;r<e.length-1;r++){const i=[];i[0]=r>0?e[r-1]:e[0],i[1]=e[r],i[2]=e[r+1],i[3]=r<e.length-2?e[r+2]:e[e.length-1];for(let o=0;o<1;o+=.05){const a=this.getSplinePoint(o,i);n.push(a)}}return n}getSplinePoint(e,n){const r=Math.floor(e)+1,i=r+1,o=i+1,a=r-1,s=e*e,c=s*e,u=-c+2*s-e,l=3*c-5*s+2,h=-3*c+4*s+e,f=c-s,d=.5*(n[a][0]*u+n[r][0]*l+n[i][0]*h+n[o][0]*f),g=.5*(n[a][1]*u+n[r][1]*l+n[i][1]*h+n[o][1]*f);return[d,g]}setCSS(){const e=document.createElement("style");e.id="adventurestyle",e.innerHTML=Tk,document.getElementsByTagName("head")[0].appendChild(e)}}async function Sk(t,e,n,r){const i=[t.find(d=>d.ID==e),t.find(d=>d.ID==n)],o=r.vizWidth,a=r.vizHeight,s=[];for(let d of i){const g=new Image;g.setAttribute("crossorigin","anonymous"),g.src=d.IMGURL,await new Promise(p=>{g.onload=()=>{p(!0)}}),s.push({url:d.IMGURL,img:g,ID:d.ID})}const c=document.createElement("canvas"),u=c.getContext("2d");c.width=o,c.height=a,u.fillStyle=r.vizBg,u.fillRect(0,0,o,a);const l=[];let h=0;for(let d of s){const g=parseInt(o/2)*.1,p=parseInt(o/2)-g,m=parseInt(p*d.img.height/d.img.width),y=h*(p+g)+p/2+g/2,_=a/2;u.save(),u.translate(-p/2,-m/2),u.drawImage(d.img,y,_,p,m),u.restore();const v={x:y,y:_,w:p,h:m,btn:"",scene:`ind_${d.ID}`,tooltip:""};l.push(v),h++}const f=c.toDataURL("image/png");return c.remove(),{viz:f,areas:l}}async function $k(t,e,n,r){const i=r.vizWidth,o=r.vizHeight,a=r.vizImageSize,s={l:.2*i,r:.1*i,t:.1*o,b:.1*o},c=i-s.l-s.r,u=o-s.t-s.b,l=t,h=[...new Set(l.map(b=>b[e]))],f=[...new Set(l.map(b=>b[n]))],d=Kc().domain(h).range([0,c]).padding(.5).round(!0),g=Kc().domain(f).range([0,u]).padding(.5).round(!0),p=[];for(let b of l){const w=new Image;w.setAttribute("crossorigin","anonymous"),w.src=b.IMGURL,await new Promise(x=>{w.onload=()=>{x(!0)}}),p.push({url:b.IMGURL,x:d(b[e]),y:g(b[n]),img:w,r:a,ID:b.ID})}Lu(p).force("charge",T1().strength(5)).force("collide",Ou(10)).tick(200);const m=document.createElement("canvas"),y=m.getContext("2d");m.width=i,m.height=o,y.fillStyle=r.vizBg,y.fillRect(0,0,i,o),y.strokeStyle="white",y.font="14px serif",y.textBaseline="middle",y.textAlign="center";for(let b of h)y.fillStyle="white",y.fillText(b,s.l+d(b),s.t+u+s.b/2);y.beginPath(),y.moveTo(s.l,s.t+u),y.lineTo(s.l+c,s.t+u),y.stroke(),y.textAlign="right";for(let b of f)y.fillStyle="white",y.fillText(b,s.l-5,s.t+g(b));y.beginPath(),y.moveTo(s.l,s.t),y.lineTo(s.l,s.t+u),y.stroke(),y.strokeStyle="black";const _=[];for(let b of p){const w=a,x=w*b.img.height/b.img.width,$=b.x+s.l,E=b.y+s.t;y.save(),y.translate(-w/2,-x/2),y.drawImage(b.img,$,E,w,x),y.restore();const I={x:$,y:E,w,h:x,btn:"",scene:`ind_${b.ID}`,tooltip:""};_.push(I)}const v=m.toDataURL("image/png");return m.remove(),{viz:v,areas:_}}async function Ek(t,e,n,r){const i=r.vizWidth,o=r.vizHeight,a=t,s=uu(a,_=>_.length,_=>_[e],_=>_[n]),u=Ga(s,([_,v])=>v.size&&Array.from(v)).sum(([,_])=>_).sort((_,v)=>v.value-_.value),l=[...vl[4]].reverse(),h=u.descendants(),f=_=>l[_];$g().size([i,o]).padding(20)(u);const d=[];for(let _ of a)for(let v of u.leaves())if(_[e]===v.parent.data[0]&&_[n]===v.data[0]){const b=new Image;b.setAttribute("crossorigin","anonymous"),b.src=_.IMGURL,await new Promise(w=>{b.onload=()=>{w(!0)}}),d.push({url:_.IMGURL,x:v.x,y:v.y,r:r.vizImageSize,img:b,ID:_.ID})}Lu(d).force("collide",Ou(20)).tick(200);const g=document.createElement("canvas"),p=g.getContext("2d");g.width=i,g.height=o,p.fillStyle=r.vizBg,p.fillRect(0,0,i,o),p.font="12px serif",p.textBaseline="middle",p.textAlign="center";for(let _ of h)p.save(),p.translate(_.x,_.y),p.strokeStyle="black",p.fillStyle=f(_.depth),p.beginPath(),p.ellipse(0,0,_.r,_.r,0,0,Math.PI*2),p.fill(),p.stroke(),p.fillStyle="black",p.fillText(_.depth===1||_.depth===2?_.data[0]:"",0,-_.r-5),p.restore();const m=[];for(let _ of d){const v=parseInt(50),b=parseInt(v*_.img.height/_.img.width),w=_.x,x=_.y;p.save(),p.translate(-v/2,-b/2),p.drawImage(_.img,w,x,v,b),p.restore();const $={x:w,y:x,w:v,h:b,btn:"",scene:`ind_${_.ID}`,tooltip:""};m.push($)}const y=g.toDataURL("image/png");return g.remove(),{viz:y,areas:m}}const Tk=`#storygeneraldiv {
  box-sizing: border-box;
  margin: auto;
  max-width: 900px;
  font-family: 'Public Sans', sans-serif;
  background: white;
}

.storydiv {
  box-sizing: border-box;
  border: solid black 1px;
  width: 100%;
  display: flex;
  padding: 1em;
  flex-direction: column;
}

.storytitle {
  font-size: 2em;
  margin: 0.1em 0;
}

.storyp {
  font-size: 1em;
}
.storyp img {
  width: 100%;
  margin: auto;
}

.storymeta-container {
  margin: 0.5em 0;
}

.storymeta-key {
  font-weight: 700;
}

.storybutton-container {
  margin: auto;
}

.storybutton {
  background: white;
  box-shadow: none;
  border: solid 1px;
  margin: 0px 1em 0px 0px;
  font-size: 20px;
  font-family: 'Public Sans', sans-serif;
  cursor: pointer;
}

.storybutton:hover {
  color: white;
  background: black;
}

.storyimage-container {
  box-sizing: content-box;
  position: relative;
  width: 100%;
  margin: auto;
}

.storyimage {
  justify-content: center;
  width: 100%;
  margin: auto;
  border-radius: 20px;
  display: block;
}

.storyimage-area {
  box-sizing: border-box;
  position: absolute;
  cursor: pointer;
  text-align: center;
  color: black;
  background: #ffffff00;
  border: solid 1px black;
}

.storyimage-area:hover {
  background: #ffffff33;
}

@media screen and (max-device-width: 500px) {
  #storygeneraldiv {
    max-width:100%;
  }
  .storyp {
    font-size: 7vw;
  }
  .storybutton {
    font-size: 10vw;
  }
}
`,Ak=Fm(kk);function S0(t){let e,n,r;return{c(){e=Y("div"),n=Y("img"),this.h()},l(i){e=G(i,"DIV",{class:!0});var o=W(e);n=G(o,"IMG",{src:!0,alt:!0}),o.forEach(z),this.h()},h(){fn(n.src,r="assets/imgs/logo/loadingCarguero.gif")||L(n,"src",r),L(n,"alt","cargando"),L(e,"class","loader svelte-1gkwqil")},m(i,o){X(i,e,o),F(e,n)},d(i){i&&z(e)}}}function Ck(t){let e,n,r,i=!t[0]&&S0();return{c(){e=Y("div"),n=ut(),i&&i.c(),r=Wt(),this.h()},l(o){e=G(o,"DIV",{id:!0,class:!0}),W(e).forEach(z),n=lt(o),i&&i.l(o),r=Wt(),this.h()},h(){L(e,"id","aventura-container"),L(e,"class","svelte-1gkwqil")},m(o,a){X(o,e,a),X(o,n,a),i&&i.m(o,a),X(o,r,a)},p(o,[a]){o[0]?i&&(i.d(1),i=null):i||(i=S0(),i.c(),i.m(r.parentNode,r))},i:gt,o:gt,d(o){o&&z(e),o&&z(n),i&&i.d(o),o&&z(r)}}}let Nk="assets/imgs/";function Ik(t,e,n){let r;Dm(t,Ak,c=>n(3,r=c));let{pathEscenas:i}=e,{escenaInicial:o}=e,a=!1;ya(async()=>{await s()});async function s(){const c={adventureContainer:"aventura-container",adventureSlide:!1,typewriterSpeed:0,evalTags:!0,vizImageSize:70,urlWord:"Repositorio",vizWidth:1e3,vizHeight:1e3},u=new r("es",c);console.log(i);const l=await u.cargarJSON(i),h=await tu("https://docs.google.com/spreadsheets/d/1d9FFjiKn-LIdcWtXZau6I66aG2yNMx2QF9ELPy7m2ho/export?format=csv",f=>({...f,ID:f.n,URL:f.repositorio,IMGURL:Nk+f.src,CONT:f.descripcion}));console.log(h),await u.setDataScenes(l,h,["obras","autor","fecha","tecnica","fuente"]),u.iniciarAventura(o),n(0,a=!0)}return t.$$set=c=>{"pathEscenas"in c&&n(1,i=c.pathEscenas),"escenaInicial"in c&&n(2,o=c.escenaInicial)},[a,i,o]}class qi extends pe{constructor(e){super(),me(this,e,Ik,Ck,ye,{pathEscenas:1,escenaInicial:2})}}function Rk(t){let e,n;return e=new qi({props:{pathEscenas:"assets\\paneles\\panelHumboldt.json",escenaInicial:"inicio"}}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},p:gt,i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}class Pk extends pe{constructor(e){super(),me(this,e,null,Rk,ye,{})}}function Dk(t){let e,n;return e=new qi({props:{pathEscenas:"assets\\paneles\\panelViajeros.json",escenaInicial:"start"}}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},p:gt,i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}class zk extends pe{constructor(e){super(),me(this,e,null,Dk,ye,{})}}function $0(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Ok(t){let e,n=t[1],r=[];for(let i=0;i<n.length;i+=1)r[i]=E0($0(t,n,i));return{c(){e=Y("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=G(i,"DIV",{class:!0});var o=W(e);for(let a=0;a<r.length;a+=1)r[a].l(o);o.forEach(z),this.h()},h(){L(e,"class","container-paneles svelte-hyd3qf")},m(i,o){X(i,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,o){if(o&6){n=i[1];let a;for(a=0;a<n.length;a+=1){const s=$0(i,n,a);r[a]?r[a].p(s,o):(r[a]=E0(s),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:gt,o:gt,d(i){i&&z(e),Cn(r,i)}}}function Lk(t){let e,n,r,i,o,a,s,c,u;const l=[Uk,Fk],h=[];function f(d,g){return d[0]===0?0:d[0]===1?1:-1}return~(n=f(t))&&(r=h[n]=l[n](t)),a=new Ti({props:{icon:"ic:twotone-arrow-back-ios"}}),{c(){e=Y("div"),r&&r.c(),i=ut(),o=Y("button"),zt(a.$$.fragment),this.h()},l(d){e=G(d,"DIV",{class:!0});var g=W(e);r&&r.l(g),g.forEach(z),i=lt(d),o=G(d,"BUTTON",{class:!0});var p=W(o);Ot(a.$$.fragment,p),p.forEach(z),this.h()},h(){L(e,"class","seleccion-paneles"),L(o,"class","svelte-hyd3qf")},m(d,g){X(d,e,g),~n&&h[n].m(e,null),X(d,i,g),X(d,o,g),Lt(a,o,null),s=!0,c||(u=fe(o,"click",t[3]),c=!0)},p(d,g){let p=n;n=f(d),n!==p&&(r&&(ke(),st(h[p],1,1,()=>{h[p]=null}),Se()),~n?(r=h[n],r||(r=h[n]=l[n](d),r.c()),it(r,1),r.m(e,null)):r=null)},i(d){s||(it(r),it(a.$$.fragment,d),s=!0)},o(d){st(r),st(a.$$.fragment,d),s=!1},d(d){d&&z(e),~n&&h[n].d(),d&&z(i),d&&z(o),Ft(a),c=!1,u()}}}function E0(t){let e,n,r=t[5].panel+"",i,o,a,s,c,u,l;function h(){return t[4](t[7])}return{c(){e=Y("div"),n=Y("h3"),i=mt(r),o=ut(),a=Y("img"),c=ut(),this.h()},l(f){e=G(f,"DIV",{class:!0});var d=W(e);n=G(d,"H3",{class:!0});var g=W(n);i=yt(g,r),g.forEach(z),o=lt(d),a=G(d,"IMG",{class:!0,src:!0}),c=lt(d),d.forEach(z),this.h()},h(){L(n,"class","paneles svelte-hyd3qf"),L(a,"class","thumbnail-panel svelte-hyd3qf"),fn(a.src,s=t[5].imagen)||L(a,"src",s),L(e,"class","panel-box svelte-hyd3qf")},m(f,d){X(f,e,d),F(e,n),F(n,i),F(e,o),F(e,a),F(e,c),u||(l=fe(a,"click",h),u=!0)},p(f,d){t=f},d(f){f&&z(e),u=!1,l()}}}function Fk(t){let e,n;return e=new qi({props:{pathEscenas:"assets\\paneles\\panelCorografia-2.json",escenaInicial:"inicio"}}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function Uk(t){let e,n;return e=new qi({props:{pathEscenas:"assets\\paneles\\panelCorografia-1.json",escenaInicial:"inicio"}}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function Bk(t){let e,n,r,i;const o=[Lk,Ok],a=[];function s(c,u){return c[0]!==null?0:1}return n=s(t),r=a[n]=o[n](t),{c(){e=Y("div"),r.c(),this.h()},l(c){e=G(c,"DIV",{class:!0});var u=W(e);r.l(u),u.forEach(z),this.h()},h(){L(e,"class","general")},m(c,u){X(c,e,u),a[n].m(e,null),i=!0},p(c,[u]){let l=n;n=s(c),n===l?a[n].p(c,u):(ke(),st(a[l],1,1,()=>{a[l]=null}),Se(),r=a[n],r?r.p(c,u):(r=a[n]=o[n](c),r.c()),it(r,1),r.m(e,null))},i(c){i||(it(r),i=!0)},o(c){st(r),i=!1},d(c){c&&z(e),a[n].d()}}}function qk(t,e,n){let r=[{panel:"ANTIOQUIA",imagen:"assets/imgs/30.jpg"},{panel:"CHOCÓ",imagen:"assets/imgs/29.jpg"}],i=null;function o(c){n(0,i=c)}function a(){n(0,i=null)}return[i,r,o,a,c=>o(c)]}class Yk extends pe{constructor(e){super(),me(this,e,qk,Bk,ye,{})}}function T0(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Gk(t){let e,n=t[1],r=[];for(let i=0;i<n.length;i+=1)r[i]=A0(T0(t,n,i));return{c(){e=Y("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=G(i,"DIV",{class:!0});var o=W(e);for(let a=0;a<r.length;a+=1)r[a].l(o);o.forEach(z),this.h()},h(){L(e,"class","container-paneles svelte-1g2meg7")},m(i,o){X(i,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,o){if(o&6){n=i[1];let a;for(a=0;a<n.length;a+=1){const s=T0(i,n,a);r[a]?r[a].p(s,o):(r[a]=A0(s),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:gt,o:gt,d(i){i&&z(e),Cn(r,i)}}}function Hk(t){let e,n,r,i,o,a,s,c,u;const l=[jk,Vk],h=[];function f(d,g){return d[0]===0?0:d[0]===1?1:-1}return~(n=f(t))&&(r=h[n]=l[n](t)),a=new Ti({props:{icon:"ic:twotone-arrow-back-ios"}}),{c(){e=Y("div"),r&&r.c(),i=ut(),o=Y("button"),zt(a.$$.fragment),this.h()},l(d){e=G(d,"DIV",{class:!0});var g=W(e);r&&r.l(g),g.forEach(z),i=lt(d),o=G(d,"BUTTON",{class:!0});var p=W(o);Ot(a.$$.fragment,p),p.forEach(z),this.h()},h(){L(e,"class","seleccion-paneles"),L(o,"class","svelte-1g2meg7")},m(d,g){X(d,e,g),~n&&h[n].m(e,null),X(d,i,g),X(d,o,g),Lt(a,o,null),s=!0,c||(u=fe(o,"click",t[3]),c=!0)},p(d,g){let p=n;n=f(d),n!==p&&(r&&(ke(),st(h[p],1,1,()=>{h[p]=null}),Se()),~n?(r=h[n],r||(r=h[n]=l[n](d),r.c()),it(r,1),r.m(e,null)):r=null)},i(d){s||(it(r),it(a.$$.fragment,d),s=!0)},o(d){st(r),st(a.$$.fragment,d),s=!1},d(d){d&&z(e),~n&&h[n].d(),d&&z(i),d&&z(o),Ft(a),c=!1,u()}}}function A0(t){let e,n,r=t[5].panel+"",i,o,a,s,c,u,l;function h(){return t[4](t[7])}return{c(){e=Y("div"),n=Y("h3"),i=mt(r),o=ut(),a=Y("img"),c=ut(),this.h()},l(f){e=G(f,"DIV",{class:!0});var d=W(e);n=G(d,"H3",{class:!0});var g=W(n);i=yt(g,r),g.forEach(z),o=lt(d),a=G(d,"IMG",{class:!0,src:!0}),c=lt(d),d.forEach(z),this.h()},h(){L(n,"class","paneles svelte-1g2meg7"),L(a,"class","thumbnail-panel svelte-1g2meg7"),fn(a.src,s=t[5].imagen)||L(a,"src",s),L(e,"class","panel-box svelte-1g2meg7")},m(f,d){X(f,e,d),F(e,n),F(n,i),F(e,o),F(e,a),F(e,c),u||(l=fe(a,"click",h),u=!0)},p(f,d){t=f},d(f){f&&z(e),u=!1,l()}}}function Vk(t){let e,n;return e=new qi({props:{pathEscenas:"assets\\paneles\\panelCostumbres.json",escenaInicial:"inicio"}}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function jk(t){let e,n;return e=new Yk({}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function Wk(t){let e,n,r,i;const o=[Hk,Gk],a=[];function s(c,u){return c[0]!==null?0:1}return n=s(t),r=a[n]=o[n](t),{c(){e=Y("div"),r.c(),this.h()},l(c){e=G(c,"DIV",{class:!0});var u=W(e);r.l(u),u.forEach(z),this.h()},h(){L(e,"class","general")},m(c,u){X(c,e,u),a[n].m(e,null),i=!0},p(c,[u]){let l=n;n=s(c),n===l?a[n].p(c,u):(ke(),st(a[l],1,1,()=>{a[l]=null}),Se(),r=a[n],r?r.p(c,u):(r=a[n]=o[n](c),r.c()),it(r,1),r.m(e,null))},i(c){i||(it(r),i=!0)},o(c){st(r),i=!1},d(c){c&&z(e),a[n].d()}}}function Xk(t,e,n){let r=[{panel:"CARGUERO Y COROGRRAFÍA",imagen:"assets/imgs/viz/compareCorografia.png"},{panel:"CARGUERO Y COSTUMBRES",imagen:"assets/imgs/viz/compareCostumbres.png"}],i=null;function o(c){n(0,i=c)}function a(){n(0,i=null)}return[i,r,o,a,c=>o(c)]}class Kk extends pe{constructor(e){super(),me(this,e,Xk,Wk,ye,{})}}function C0(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Zk(t){let e,n=t[1],r=[];for(let i=0;i<n.length;i+=1)r[i]=N0(C0(t,n,i));return{c(){e=Y("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=G(i,"DIV",{class:!0});var o=W(e);for(let a=0;a<r.length;a+=1)r[a].l(o);o.forEach(z),this.h()},h(){L(e,"class","container-paneles svelte-12scysn")},m(i,o){X(i,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,o){if(o&6){n=i[1];let a;for(a=0;a<n.length;a+=1){const s=C0(i,n,a);r[a]?r[a].p(s,o):(r[a]=N0(s),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:gt,o:gt,d(i){i&&z(e),Cn(r,i)}}}function Qk(t){let e,n,r,i,o,a,s,c,u;const l=[eS,tS,Jk],h=[];function f(d,g){return d[0]===0?0:d[0]===1?1:d[0]===2?2:-1}return~(n=f(t))&&(r=h[n]=l[n](t)),a=new Ti({props:{icon:"entypo:home"}}),{c(){e=Y("div"),r&&r.c(),i=ut(),o=Y("button"),zt(a.$$.fragment),this.h()},l(d){e=G(d,"DIV",{class:!0});var g=W(e);r&&r.l(g),g.forEach(z),i=lt(d),o=G(d,"BUTTON",{class:!0});var p=W(o);Ot(a.$$.fragment,p),p.forEach(z),this.h()},h(){L(e,"class","seleccion-paneles"),L(o,"class","svelte-12scysn")},m(d,g){X(d,e,g),~n&&h[n].m(e,null),X(d,i,g),X(d,o,g),Lt(a,o,null),s=!0,c||(u=fe(o,"click",t[3]),c=!0)},p(d,g){let p=n;n=f(d),n!==p&&(r&&(ke(),st(h[p],1,1,()=>{h[p]=null}),Se()),~n?(r=h[n],r||(r=h[n]=l[n](d),r.c()),it(r,1),r.m(e,null)):r=null)},i(d){s||(it(r),it(a.$$.fragment,d),s=!0)},o(d){st(r),st(a.$$.fragment,d),s=!1},d(d){d&&z(e),~n&&h[n].d(),d&&z(i),d&&z(o),Ft(a),c=!1,u()}}}function N0(t){let e,n,r=t[5].panel+"",i,o,a,s,c,u,l;function h(){return t[4](t[7])}return{c(){e=Y("div"),n=Y("h3"),i=mt(r),o=ut(),a=Y("img"),c=ut(),this.h()},l(f){e=G(f,"DIV",{class:!0});var d=W(e);n=G(d,"H3",{class:!0});var g=W(n);i=yt(g,r),g.forEach(z),o=lt(d),a=G(d,"IMG",{class:!0,src:!0}),c=lt(d),d.forEach(z),this.h()},h(){L(n,"class","paneles svelte-12scysn"),L(a,"class","thumbnail-panel svelte-12scysn"),fn(a.src,s=t[5].imagen)||L(a,"src",s),L(e,"class","panel-box svelte-12scysn")},m(f,d){X(f,e,d),F(e,n),F(n,i),F(e,o),F(e,a),F(e,c),u||(l=fe(a,"click",h),u=!0)},p(f,d){t=f},d(f){f&&z(e),u=!1,l()}}}function Jk(t){let e,n;return e=new Kk({}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function tS(t){let e,n;return e=new zk({}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function eS(t){let e,n;return e=new Pk({}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function nS(t){let e,n,r,i;const o=[Qk,Zk],a=[];function s(c,u){return c[0]!==null?0:1}return n=s(t),r=a[n]=o[n](t),{c(){e=Y("div"),r.c(),this.h()},l(c){e=G(c,"DIV",{class:!0});var u=W(e);r.l(u),u.forEach(z),this.h()},h(){L(e,"class","general")},m(c,u){X(c,e,u),a[n].m(e,null),i=!0},p(c,[u]){let l=n;n=s(c),n===l?a[n].p(c,u):(ke(),st(a[l],1,1,()=>{a[l]=null}),Se(),r=a[n],r?r.p(c,u):(r=a[n]=o[n](c),r.c()),it(r,1),r.m(e,null))},i(c){i||(it(r),i=!0)},o(c){st(r),i=!1},d(c){c&&z(e),a[n].d()}}}function rS(t,e,n){let r=[{panel:"HUMBOLDT Y EL CARGUERO COLONIAL",imagen:"assets/imgs/montajes/montaje-intro.png"},{panel:"EL CARGUERO Y LOS VIAJEROS",imagen:"assets/imgs/montajes/montaje-veintes.png"},{panel:"CARGUERO, COROGRAFÍA Y COSTUMBRES",imagen:"assets/imgs/montajes/montaje-cincuentas.png"}],i=null;function o(c){n(0,i=c)}function a(){n(0,i=null)}return[i,r,o,a,c=>o(c)]}class $m extends pe{constructor(e){super(),me(this,e,rS,nS,ye,{})}}function iS(t){return{c:gt,l:gt,m:gt,p:gt,i:gt,o:gt,d:gt}}function oS(t){return{c:gt,l:gt,m:gt,p:gt,i:gt,o:gt,d:gt}}function aS(t){let e,n;return e=new Q0({props:{data:t[0]}}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.data=r[0]),e.$set(o)},i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function sS(t){let e,n;return e=new J0({}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},p:gt,i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function cS(t){let e,n;return e=new $m({}),{c(){zt(e.$$.fragment)},l(r){Ot(e.$$.fragment,r)},m(r,i){Lt(e,r,i),n=!0},p:gt,i(r){n||(it(e.$$.fragment,r),n=!0)},o(r){st(e.$$.fragment,r),n=!1},d(r){Ft(e,r)}}}function uS(t){let e,n,r,i,o,a,s,c,u,l,h,f,d,g,p,m,y,_,v,b,w,x,$,E,I,S,M,N,T,k,A,C,R,D,P,B;function q(Q){t[3](Q)}let O={secciones:t[2]};t[1]!==void 0&&(O.pagina=t[1]),N=new Cy({props:O}),zm.push(()=>Om(N,"pagina",q));const Z=[cS,sS,aS,oS,iS],ot=[];function rt(Q,j){return Q[1]==0?0:Q[1]==1?1:Q[1]==2?2:Q[1]==3?3:Q[1]==4?4:-1}return~(D=rt(t))&&(P=ot[D]=Z[D](t)),{c(){e=Y("sevelte:head"),n=Y("link"),r=ut(),i=Y("link"),o=ut(),a=Y("link"),s=ut(),c=Y("link"),u=ut(),l=Y("link"),h=ut(),f=Y("link"),d=ut(),g=Y("link"),p=ut(),m=Y("link"),y=ut(),_=Y("link"),v=ut(),b=Y("link"),w=ut(),x=Y("div"),$=Y("header"),E=Y("div"),I=Y("h1"),S=mt("Atlas interactivo de las imágenes del Carguero"),M=Y("nav"),zt(N.$$.fragment),k=ut(),A=Y("cover"),C=ut(),R=Y("div"),P&&P.c(),this.h()},l(Q){e=G(Q,"SEVELTE:HEAD",{});var j=W(e);n=G(j,"LINK",{rel:!0,href:!0}),r=lt(j),i=G(j,"LINK",{rel:!0,href:!0,crossorigin:!0}),o=lt(j),a=G(j,"LINK",{href:!0,rel:!0}),s=lt(j),c=G(j,"LINK",{rel:!0,href:!0}),u=lt(j),l=G(j,"LINK",{rel:!0,href:!0,crossorigin:!0}),h=lt(j),f=G(j,"LINK",{href:!0,rel:!0}),d=lt(j),g=G(j,"LINK",{rel:!0,href:!0}),p=lt(j),m=G(j,"LINK",{rel:!0,href:!0,crossorigin:!0}),y=lt(j),_=G(j,"LINK",{href:!0,rel:!0}),v=lt(j),b=G(j,"LINK",{href:!0,rel:!0}),j.forEach(z),w=lt(Q),x=G(Q,"DIV",{class:!0});var pt=W(x);$=G(pt,"HEADER",{class:!0});var H=W($);E=G(H,"DIV",{id:!0,class:!0});var nt=W(E);I=G(nt,"H1",{class:!0});var ct=W(I);S=yt(ct,"Atlas interactivo de las imágenes del Carguero"),ct.forEach(z),nt.forEach(z),M=G(H,"NAV",{class:!0});var U=W(M);Ot(N.$$.fragment,U),U.forEach(z),H.forEach(z),k=lt(pt),A=G(pt,"COVER",{class:!0}),W(A).forEach(z),C=lt(pt),R=G(pt,"DIV",{class:!0});var xt=W(R);P&&P.l(xt),xt.forEach(z),pt.forEach(z),this.h()},h(){L(n,"rel","preconnect"),L(n,"href","https://fonts.googleapis.com"),L(i,"rel","preconnect"),L(i,"href","https://fonts.gstatic.com"),L(i,"crossorigin",""),L(a,"href","https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;1,100;1,200;1,300;1,400;1,500;1,600&family=Libre+Bodoni:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Proza+Libre:ital,wght@1,800&display=swap"),L(a,"rel","stylesheet"),L(c,"rel","preconnect"),L(c,"href","https://fonts.googleapis.com"),L(l,"rel","preconnect"),L(l,"href","https://fonts.gstatic.com"),L(l,"crossorigin",""),L(f,"href","https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;1,100;1,200;1,300;1,400;1,500;1,600&family=Libre+Bodoni:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Proza+Libre:ital,wght@1,800&display=swap"),L(f,"rel","stylesheet"),L(g,"rel","preconnect"),L(g,"href","https://fonts.googleapis.com"),L(m,"rel","preconnect"),L(m,"href","https://fonts.gstatic.com"),L(m,"crossorigin",""),L(_,"href","https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap"),L(_,"rel","stylesheet"),L(b,"href","https://fonts.googleapis.com/css2?family=Public+Sans&display=swap"),L(b,"rel","stylesheet"),L(I,"class","svelte-k773dx"),L(E,"id","titulo"),L(E,"class","svelte-k773dx"),L(M,"class","textos-menu svelte-k773dx"),L($,"class","header svelte-k773dx"),L(A,"class","cover svelte-k773dx"),L(R,"class","contenedor-menu"),L(x,"class","contenedor-general")},m(Q,j){X(Q,e,j),F(e,n),F(e,r),F(e,i),F(e,o),F(e,a),F(e,s),F(e,c),F(e,u),F(e,l),F(e,h),F(e,f),F(e,d),F(e,g),F(e,p),F(e,m),F(e,y),F(e,_),F(e,v),F(e,b),X(Q,w,j),X(Q,x,j),F(x,$),F($,E),F(E,I),F(I,S),F($,M),Lt(N,M,null),F(x,k),F(x,A),F(x,C),F(x,R),~D&&ot[D].m(R,null),B=!0},p(Q,[j]){const pt={};!T&&j&2&&(T=!0,pt.pagina=Q[1],Lm(()=>T=!1)),N.$set(pt);let H=D;D=rt(Q),D===H?~D&&ot[D].p(Q,j):(P&&(ke(),st(ot[H],1,1,()=>{ot[H]=null}),Se()),~D?(P=ot[D],P?P.p(Q,j):(P=ot[D]=Z[D](Q),P.c()),it(P,1),P.m(R,null)):P=null)},i(Q){B||(it(N.$$.fragment,Q),it(P),B=!0)},o(Q){st(N.$$.fragment,Q),st(P),B=!1},d(Q){Q&&z(e),Q&&z(w),Q&&z(x),Ft(N),~D&&ot[D].d()}}}function lS(t,e,n){let r=[];function i(){tu("https://docs.google.com/spreadsheets/d/1d9FFjiKn-LIdcWtXZau6I66aG2yNMx2QF9ELPy7m2ho/export?format=csv").then(o)}function o(u){n(0,r=u)}ya(()=>{i();const u=Math.floor(Math.random()*52),l=document.querySelector(".cover");l.style.backgroundImage=`url("assets/imgs/covers/${u}.jpg")`});let a=[{seccion:"PANELES",component:$m},{seccion:"ACERCA",component:J0},{seccion:"GALERÍA",component:Q0},{seccion:"TEORÍA",component:Ny},{seccion:"ANTECEDENTES",component:Iy}],s=0;function c(u){s=u,n(1,s)}return[r,s,a,c]}class gS extends pe{constructor(e){super(),me(this,e,lS,uS,ye,{})}}export{gS as default};
